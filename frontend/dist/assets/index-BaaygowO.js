var u2=t=>{throw TypeError(t)};var $v=(t,e,n)=>e.has(t)||u2("Cannot "+n);var F=(t,e,n)=>($v(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?u2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,s)=>($v(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Le=(t,e,n)=>($v(t,e,"access private method"),n);var vp=(t,e,n,s)=>({set _(r){me(t,e,r,n)},get _(){return F(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function oI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kv={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function c6(){if(h2)return nd;h2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:t,type:s,key:l,ref:r!==void 0?r:null,props:o}}return nd.Fragment=e,nd.jsx=n,nd.jsxs=n,nd}var d2;function u6(){return d2||(d2=1,Kv.exports=c6()),Kv.exports}var f=u6(),Wv={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function h6(){if(f2)return je;f2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function M(z,se,ue){this.props=z,this.context=se,this.refs=N,this.updater=ue||S}M.prototype.isReactComponent={},M.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function H(){}H.prototype=M.prototype;function L(z,se,ue){this.props=z,this.context=se,this.refs=N,this.updater=ue||S}var $=L.prototype=new H;$.constructor=L,R($,M.prototype),$.isPureReactComponent=!0;var K=Array.isArray;function Q(){}var j={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(z,se,ue){var ge=ue.ref;return{$$typeof:t,type:z,key:se,ref:ge!==void 0?ge:null,props:ue}}function O(z,se){return k(z.type,se,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function q(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return se[ue]})}var P=/\/+/g;function Je(z,se){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):se.toString(36)}function _t(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(se){z.status==="pending"&&(z.status="fulfilled",z.value=se)},function(se){z.status==="pending"&&(z.status="rejected",z.reason=se)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ne(z,se,ue,ge,Se){var Ue=typeof z;(Ue==="undefined"||Ue==="boolean")&&(z=null);var We=!1;if(z===null)We=!0;else switch(Ue){case"bigint":case"string":case"number":We=!0;break;case"object":switch(z.$$typeof){case t:case e:We=!0;break;case y:return We=z._init,ne(We(z._payload),se,ue,ge,Se)}}if(We)return Se=Se(z),We=ge===""?"."+Je(z,0):ge,K(Se)?(ue="",We!=null&&(ue=We.replace(P,"$&/")+"/"),ne(Se,se,ue,"",function(Ti){return Ti})):Se!=null&&(U(Se)&&(Se=O(Se,ue+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+We)),se.push(Se)),1;We=0;var _n=ge===""?".":ge+":";if(K(z))for(var It=0;It<z.length;It++)ge=z[It],Ue=_n+Je(ge,It),We+=ne(ge,se,ue,Ue,Se);else if(It=E(z),typeof It=="function")for(z=It.call(z),It=0;!(ge=z.next()).done;)ge=ge.value,Ue=_n+Je(ge,It++),We+=ne(ge,se,ue,Ue,Se);else if(Ue==="object"){if(typeof z.then=="function")return ne(_t(z),se,ue,ge,Se);throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return We}function le(z,se,ue){if(z==null)return z;var ge=[],Se=0;return ne(z,ge,"","",function(Ue){return se.call(ue,Ue,Se++)}),ge}function de(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var ke=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ve={map:le,forEach:function(z,se,ue){le(z,function(){se.apply(this,arguments)},ue)},count:function(z){var se=0;return le(z,function(){se++}),se},toArray:function(z){return le(z,function(se){return se})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return je.Activity=_,je.Children=Ve,je.Component=M,je.Fragment=n,je.Profiler=r,je.PureComponent=L,je.StrictMode=s,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,je.__COMPILER_RUNTIME={__proto__:null,c:function(z){return j.H.useMemoCache(z)}},je.cache=function(z){return function(){return z.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(z,se,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ge=R({},z.props),Se=z.key;if(se!=null)for(Ue in se.key!==void 0&&(Se=""+se.key),se)!C.call(se,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&se.ref===void 0||(ge[Ue]=se[Ue]);var Ue=arguments.length-2;if(Ue===1)ge.children=ue;else if(1<Ue){for(var We=Array(Ue),_n=0;_n<Ue;_n++)We[_n]=arguments[_n+2];ge.children=We}return k(z.type,Se,ge)},je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},je.createElement=function(z,se,ue){var ge,Se={},Ue=null;if(se!=null)for(ge in se.key!==void 0&&(Ue=""+se.key),se)C.call(se,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Se[ge]=se[ge]);var We=arguments.length-2;if(We===1)Se.children=ue;else if(1<We){for(var _n=Array(We),It=0;It<We;It++)_n[It]=arguments[It+2];Se.children=_n}if(z&&z.defaultProps)for(ge in We=z.defaultProps,We)Se[ge]===void 0&&(Se[ge]=We[ge]);return k(z,Ue,Se)},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:u,render:z}},je.isValidElement=U,je.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:de}},je.memo=function(z,se){return{$$typeof:m,type:z,compare:se===void 0?null:se}},je.startTransition=function(z){var se=j.T,ue={};j.T=ue;try{var ge=z(),Se=j.S;Se!==null&&Se(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Q,ke)}catch(Ue){ke(Ue)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),j.T=se}},je.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},je.use=function(z){return j.H.use(z)},je.useActionState=function(z,se,ue){return j.H.useActionState(z,se,ue)},je.useCallback=function(z,se){return j.H.useCallback(z,se)},je.useContext=function(z){return j.H.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z,se){return j.H.useDeferredValue(z,se)},je.useEffect=function(z,se){return j.H.useEffect(z,se)},je.useEffectEvent=function(z){return j.H.useEffectEvent(z)},je.useId=function(){return j.H.useId()},je.useImperativeHandle=function(z,se,ue){return j.H.useImperativeHandle(z,se,ue)},je.useInsertionEffect=function(z,se){return j.H.useInsertionEffect(z,se)},je.useLayoutEffect=function(z,se){return j.H.useLayoutEffect(z,se)},je.useMemo=function(z,se){return j.H.useMemo(z,se)},je.useOptimistic=function(z,se){return j.H.useOptimistic(z,se)},je.useReducer=function(z,se,ue){return j.H.useReducer(z,se,ue)},je.useRef=function(z){return j.H.useRef(z)},je.useState=function(z){return j.H.useState(z)},je.useSyncExternalStore=function(z,se,ue){return j.H.useSyncExternalStore(z,se,ue)},je.useTransition=function(){return j.H.useTransition()},je.version="19.2.0",je}var m2;function wx(){return m2||(m2=1,Wv.exports=h6()),Wv.exports}var D=wx();const co=oI(D);var Qv={exports:{}},sd={},Yv={exports:{}},Xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function d6(){return p2||(p2=1,(function(t){function e(ne,le){var de=ne.length;ne.push(le);e:for(;0<de;){var ke=de-1>>>1,Ve=ne[ke];if(0<r(Ve,le))ne[ke]=le,ne[de]=Ve,de=ke;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var le=ne[0],de=ne.pop();if(de!==le){ne[0]=de;e:for(var ke=0,Ve=ne.length,z=Ve>>>1;ke<z;){var se=2*(ke+1)-1,ue=ne[se],ge=se+1,Se=ne[ge];if(0>r(ue,de))ge<Ve&&0>r(Se,ue)?(ne[ke]=Se,ne[ge]=de,ke=ge):(ne[ke]=ue,ne[se]=de,ke=se);else if(ge<Ve&&0>r(Se,de))ne[ke]=Se,ne[ge]=de,ke=ge;else break e}}return le}function r(ne,le){var de=ne.sortIndex-le.sortIndex;return de!==0?de:ne.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],y=1,_=null,x=3,E=!1,S=!1,R=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(ne){for(var le=n(m);le!==null;){if(le.callback===null)s(m);else if(le.startTime<=ne)s(m),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(m)}}function K(ne){if(R=!1,$(ne),!S)if(n(d)!==null)S=!0,Q||(Q=!0,q());else{var le=n(m);le!==null&&_t(K,le.startTime-ne)}}var Q=!1,j=-1,C=5,k=-1;function O(){return N?!0:!(t.unstable_now()-k<C)}function U(){if(N=!1,Q){var ne=t.unstable_now();k=ne;var le=!0;try{e:{S=!1,R&&(R=!1,H(j),j=-1),E=!0;var de=x;try{t:{for($(ne),_=n(d);_!==null&&!(_.expirationTime>ne&&O());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,x=_.priorityLevel;var Ve=ke(_.expirationTime<=ne);if(ne=t.unstable_now(),typeof Ve=="function"){_.callback=Ve,$(ne),le=!0;break t}_===n(d)&&s(d),$(ne)}else s(d);_=n(d)}if(_!==null)le=!0;else{var z=n(m);z!==null&&_t(K,z.startTime-ne),le=!1}}break e}finally{_=null,x=de,E=!1}le=void 0}}finally{le?q():Q=!1}}}var q;if(typeof L=="function")q=function(){L(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Je=P.port2;P.port1.onmessage=U,q=function(){Je.postMessage(null)}}else q=function(){M(U,0)};function _t(ne,le){j=M(function(){ne(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ne){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var de=x;x=le;try{return ne()}finally{x=de}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(ne,le){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var de=x;x=ne;try{return le()}finally{x=de}},t.unstable_scheduleCallback=function(ne,le,de){var ke=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,ne){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,ne={id:y++,callback:le,priorityLevel:ne,startTime:de,expirationTime:Ve,sortIndex:-1},de>ke?(ne.sortIndex=de,e(m,ne),n(d)===null&&ne===n(m)&&(R?(H(j),j=-1):R=!0,_t(K,de-ke))):(ne.sortIndex=Ve,e(d,ne),S||E||(S=!0,Q||(Q=!0,q()))),ne},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ne){var le=x;return function(){var de=x;x=le;try{return ne.apply(this,arguments)}finally{x=de}}}})(Xv)),Xv}var g2;function f6(){return g2||(g2=1,Yv.exports=d6()),Yv.exports}var Jv={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function m6(){if(y2)return Dn;y2=1;var t=wx();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Dn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},Dn.flushSync=function(d){var m=l.T,y=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=m,s.p=y,s.d.f()}},Dn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Dn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Dn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=u(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:E}):y==="script"&&s.d.X(d,{crossOrigin:_,integrity:x,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Dn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=u(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Dn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=u(y,m.crossOrigin);s.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Dn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=u(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Dn.requestFormReset=function(d){s.d.r(d)},Dn.unstable_batchedUpdates=function(d,m){return d(m)},Dn.useFormState=function(d,m,y){return l.H.useFormState(d,m,y)},Dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var v2;function lI(){if(v2)return Jv.exports;v2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jv.exports=m6(),Jv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function p6(){if(_2)return sd;_2=1;var t=f6(),e=wx(),n=lI();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(s(188))}function m(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var c=i,h=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return d(g),i;if(v===h)return d(g),a;v=v.sibling}throw Error(s(188))}if(c.return!==h.return)c=g,h=v;else{for(var w=!1,A=g.child;A;){if(A===c){w=!0,c=g,h=v;break}if(A===h){w=!0,h=g,c=v;break}A=A.sibling}if(!w){for(A=v.child;A;){if(A===c){w=!0,c=v,h=g;break}if(A===h){w=!0,h=v,c=g;break}A=A.sibling}if(!w)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case L:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return a=i.displayName||null,a!==null?a:Je(i.type)||"Memo";case C:a=i._payload,i=i._init;try{return Je(i(a))}catch{}}return null}var _t=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],Ve=-1;function z(i){return{current:i}}function se(i){0>Ve||(i.current=ke[Ve],ke[Ve]=null,Ve--)}function ue(i,a){Ve++,ke[Ve]=i.current,i.current=a}var ge=z(null),Se=z(null),Ue=z(null),We=z(null);function _n(i,a){switch(ue(Ue,a),ue(Se,i),ue(ge,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?kS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=kS(a),i=OS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(ge),ue(ge,i)}function It(){se(ge),se(Se),se(Ue)}function Ti(i){i.memoizedState!==null&&ue(We,i);var a=ge.current,c=OS(a,i.type);a!==c&&(ue(Se,i),ue(ge,c))}function ir(i){Se.current===i&&(se(ge),se(Se)),We.current===i&&(se(We),Jh._currentValue=de)}var ko,tc;function ti(i){if(ko===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ko=a&&a[1]||"",tc=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+i+tc}var Oo=!1;function nc(i,a){if(!i||Oo)return"";Oo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var J=ee}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(ee){J=ee}i.call(ae.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),w=v[0],A=v[1];if(w&&A){var V=w.split(`
`),X=A.split(`
`);for(g=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(h===V.length||g===X.length)for(h=V.length-1,g=X.length-1;1<=h&&0<=g&&V[h]!==X[g];)g--;for(;1<=h&&0<=g;h--,g--)if(V[h]!==X[g]){if(h!==1||g!==1)do if(h--,g--,0>g||V[h]!==X[g]){var ie=`
`+V[h].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=h&&0<=g);break}}}finally{Oo=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ti(c):""}function qy(i,a){switch(i.tag){case 26:case 27:case 5:return ti(i.type);case 16:return ti("Lazy");case 13:return i.child!==a&&a!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return nc(i.type,!1);case 11:return nc(i.type.render,!1);case 1:return nc(i.type,!0);case 31:return ti("Activity");default:return""}}function Hf(i){try{var a="",c=null;do a+=qy(i,c),c=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var sc=Object.prototype.hasOwnProperty,Mo=t.unstable_scheduleCallback,ic=t.unstable_cancelCallback,Hy=t.unstable_shouldYield,th=t.unstable_requestPaint,bn=t.unstable_now,Gf=t.unstable_getCurrentPriorityLevel,en=t.unstable_ImmediatePriority,an=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,$f=t.unstable_LowPriority,nh=t.unstable_IdlePriority,Gy=t.log,Po=t.unstable_setDisableYieldValue,ia=null,In=null;function Is(i){if(typeof Gy=="function"&&Po(i),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(ia,i)}catch{}}var qn=Math.clz32?Math.clz32:Kf,$y=Math.log,sh=Math.LN2;function Kf(i){return i>>>=0,i===0?32:31-($y(i)/sh|0)|0}var Lo=256,Ei=262144,ra=4194304;function ni(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function js(i,a,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=h&134217727;return A!==0?(h=A&~v,h!==0?g=ni(h):(w&=A,w!==0?g=ni(w):c||(c=A&~i,c!==0&&(g=ni(c))))):(A=h&~v,A!==0?g=ni(A):w!==0?g=ni(w):c||(c=h&~i,c!==0&&(g=ni(c)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:g}function aa(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function rc(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(){var i=ra;return ra<<=1,(ra&62914560)===0&&(ra=4194304),i}function ar(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function oa(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xn(i,a,c,h,g,v){var w=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,X=i.hiddenUpdates;for(c=w&~c;0<c;){var ie=31-qn(c),ae=1<<ie;A[ie]=0,V[ie]=-1;var J=X[ie];if(J!==null)for(X[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}c&=~ae}h!==0&&rh(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~a))}function rh(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-qn(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function la(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-qn(c),g=1<<h;g&a|i[h]&a&&(i[h]|=a),c&=~g}}function ca(i,a){var c=a&-a;return c=(c&42)!==0?1:ah(c),(c&(i.suspendedLanes|a))!==0?0:c}function ah(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function oh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function or(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:s2(i.type))}function Wf(i,a){var c=le.p;try{return le.p=i,a()}finally{le.p=c}}var Si=Math.random().toString(36).slice(2),kt="__reactFiber$"+Si,wn="__reactProps$"+Si,Ai="__reactContainer$"+Si,ua="__reactEvents$"+Si,Ci="__reactListeners$"+Si,Qf="__reactHandles$"+Si,lh="__reactResources$"+Si,lr="__reactMarker$"+Si;function Vo(i){delete i[kt],delete i[wn],delete i[ua],delete i[Ci],delete i[Qf]}function cr(i){var a=i[kt];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Ai]||c[kt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=zS(i);i!==null;){if(c=i[kt])return c;i=zS(i)}return a}i=c,c=i.parentNode}return null}function ur(i){if(i=i[kt]||i[Ai]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Uo(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function si(i){var a=i[lh];return a||(a=i[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ut(i){i[lr]=!0}var ac=new Set,ha={};function Hn(i,a){Ni(i,a),Ni(i+"Capture",a)}function Ni(i,a){for(ha[i]=a,i=0;i<a.length;i++)ac.add(a[i])}var Ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},uh={};function Yf(i){return sc.call(uh,i)?!0:sc.call(ch,i)?!1:Ky.test(i)?uh[i]=!0:(ch[i]=!0,!1)}function da(i,a,c){if(Yf(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function fa(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function Ds(i,a,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+h)}}function Gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xf(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Wy(i,a,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,v=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function oc(i){if(!i._valueTracker){var a=Xf(i)?"checked":"value";i._valueTracker=Wy(i,a,""+i[a])}}function hh(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=Xf(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function lc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hr=/[\n"\\]/g;function Ot(i){return i.replace(hr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ma(i,a,c,h,g,v,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Gn(a)):i.value!==""+Gn(a)&&(i.value=""+Gn(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?cc(i,w,Gn(a)):c!=null?cc(i,w,Gn(c)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Gn(A):i.removeAttribute("name")}function Fo(i,a,c,h,g,v,w,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){oc(i);return}c=c!=null?""+Gn(c):"",a=a!=null?""+Gn(a):c,A||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=A?i.checked:!!h,i.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),oc(i)}function cc(i,a,c){a==="number"&&lc(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function nt(i,a,c,h){if(i=i.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=a.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Gn(c),a=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function zo(i,a,c){if(a!=null&&(a=""+Gn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Gn(c):""}function pa(i,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(s(92));if(_t(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Gn(a),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),oc(i)}function ks(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var Qy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(i,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,c):typeof c!="number"||c===0||Qy.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Jf(i,a,c){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&dh(i,g,h)}else for(var v in a)a.hasOwnProperty(v)&&dh(i,v,a[v])}function fh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(i){return Xy.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function on(){}var uc=null;function hc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var dr=null,ys=null;function Zf(i){var a=ur(i);if(a&&(i=a.stateNode)){var c=i[wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(ma(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ot(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var g=h[wn]||null;if(!g)throw Error(s(90));ma(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===i.form&&hh(h)}break e;case"textarea":zo(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&nt(i,!!c.multiple,a,!1)}}}var mh=!1;function em(i,a,c){if(mh)return i(a,c);mh=!0;try{var h=i(a);return h}finally{if(mh=!1,(dr!==null||ys!==null)&&(Ym(),dr&&(a=dr,i=ys,ys=dr=null,Zf(a),i)))for(a=0;a<i.length;a++)Zf(i[a])}}function ts(i,a){var c=i.stateNode;if(c===null)return null;var h=c[wn]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(ii)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){ph=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{ph=!1}var vs=null,dc=null,ji=null;function ga(){if(ji)return ji;var i,a=dc,c=a.length,h,g="value"in vs?vs.value:vs.textContent,v=g.length;for(i=0;i<c&&a[i]===g[i];i++);var w=c-i;for(h=1;h<=w&&a[c-h]===g[v-h];h++);return ji=g.slice(i,1<h?1-h:void 0)}function Bo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ya(){return!0}function bt(){return!1}function jn(i){function a(c,h,g,v,w){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(c=i[A],this[A]=c?c(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ya:bt,this.isPropagationStopped=bt,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),a}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=jn(fr),va=_({},fr,{view:0,detail:0}),tm=jn(va),_a,fc,$n,Ho=_({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$n&&($n&&i.type==="mousemove"?(_a=i.screenX-$n.screenX,fc=i.screenY-$n.screenY):fc=_a=0,$n=i),_a)},movementY:function(i){return"movementY"in i?i.movementY:fc}}),nm=jn(Ho),Go=_({},Ho,{dataTransfer:0}),sm=jn(Go),gh=_({},va,{relatedTarget:0}),ba=jn(gh),im=_({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),mc=jn(im),Jy=_({},fr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rm=jn(Jy),$o=_({},fr,{data:0}),yh=jn($o),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=_h[i])?!!a[i]:!1}function xa(){return om}var lm=_({},va,{key:function(i){if(i.key){var a=am[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(i){return i.type==="keypress"?Bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cm=jn(lm),mr=_({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=jn(mr),um=_({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),hm=jn(um),dm=_({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=jn(dm),Kn=_({},Ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fm=jn(Kn),mm=_({},fr,{newState:0,oldState:0}),wa=jn(mm),p=[9,13,27,32],b=ii&&"CompositionEvent"in window,T=null;ii&&"documentMode"in document&&(T=document.documentMode);var I=ii&&"TextEvent"in window&&!T,W=ii&&(!b||T&&8<T&&11>=T),te=" ",he=!1;function at(i,a){switch(i){case"keyup":return p.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fe=!1;function ln(i,a){switch(i){case"compositionend":return Ht(a);case"keypress":return a.which!==32?null:(he=!0,te);case"textInput":return i=a.data,i===te&&he?null:i;default:return null}}function cn(i,a){if(Fe)return i==="compositionend"||!b&&at(i,a)?(i=ga(),ji=dc=vs=null,Fe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return W&&a.locale!=="ko"?null:a.data;default:return null}}var Ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ns(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ta[i.type]:a==="textarea"}function Ko(i,a,c,h){dr?ys?ys.push(h):ys=[h]:dr=h,a=sp(a,"onChange"),0<a.length&&(c=new qo("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var pr=null,xh=null;function PM(i){CS(i,0)}function pm(i){var a=Uo(i);if(hh(a))return i}function $w(i,a){if(i==="change")return a}var Kw=!1;if(ii){var Zy;if(ii){var e0="oninput"in document;if(!e0){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),e0=typeof Ww.oninput=="function"}Zy=e0}else Zy=!1;Kw=Zy&&(!document.documentMode||9<document.documentMode)}function Qw(){pr&&(pr.detachEvent("onpropertychange",Yw),xh=pr=null)}function Yw(i){if(i.propertyName==="value"&&pm(xh)){var a=[];Ko(a,xh,i,hc(i)),em(PM,a)}}function LM(i,a,c){i==="focusin"?(Qw(),pr=a,xh=c,pr.attachEvent("onpropertychange",Yw)):i==="focusout"&&Qw()}function VM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pm(xh)}function UM(i,a){if(i==="click")return pm(a)}function FM(i,a){if(i==="input"||i==="change")return pm(a)}function zM(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var _s=typeof Object.is=="function"?Object.is:zM;function wh(i,a){if(_s(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!sc.call(a,g)||!_s(i[g],a[g]))return!1}return!0}function Xw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jw(i,a){var c=Xw(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Xw(c)}}function Zw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Zw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function eT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=lc(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=lc(i.document)}return a}function t0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var BM=ii&&"documentMode"in document&&11>=document.documentMode,gc=null,n0=null,Th=null,s0=!1;function tT(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;s0||gc==null||gc!==lc(h)||(h=gc,"selectionStart"in h&&t0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Th&&wh(Th,h)||(Th=h,h=sp(n0,"onSelect"),0<h.length&&(a=new qo("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=gc)))}function Wo(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var yc={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionrun:Wo("Transition","TransitionRun"),transitionstart:Wo("Transition","TransitionStart"),transitioncancel:Wo("Transition","TransitionCancel"),transitionend:Wo("Transition","TransitionEnd")},i0={},nT={};ii&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete yc.animationend.animation,delete yc.animationiteration.animation,delete yc.animationstart.animation),"TransitionEvent"in window||delete yc.transitionend.transition);function Qo(i){if(i0[i])return i0[i];if(!yc[i])return i;var a=yc[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in nT)return i0[i]=a[c];return i}var sT=Qo("animationend"),iT=Qo("animationiteration"),rT=Qo("animationstart"),qM=Qo("transitionrun"),HM=Qo("transitionstart"),GM=Qo("transitioncancel"),aT=Qo("transitionend"),oT=new Map,r0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");r0.push("scrollEnd");function ri(i,a){oT.set(i,a),Hn(a,[i])}var gm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Os=[],vc=0,a0=0;function ym(){for(var i=vc,a=a0=vc=0;a<i;){var c=Os[a];Os[a++]=null;var h=Os[a];Os[a++]=null;var g=Os[a];Os[a++]=null;var v=Os[a];if(Os[a++]=null,h!==null&&g!==null){var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}v!==0&&lT(c,g,v)}}function vm(i,a,c,h){Os[vc++]=i,Os[vc++]=a,Os[vc++]=c,Os[vc++]=h,a0|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function o0(i,a,c,h){return vm(i,a,c,h),_m(i)}function Yo(i,a){return vm(i,null,null,a),_m(i)}function lT(i,a,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var g=!1,v=i.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&a!==null&&(g=31-qn(c),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=c|536870912),v):null}function _m(i){if(50<Gh)throw Gh=0,gv=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var _c={};function $M(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(i,a,c,h){return new $M(i,a,c,h)}function l0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gr(i,a){var c=i.alternate;return c===null?(c=bs(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function cT(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function bm(i,a,c,h,g,v){var w=0;if(h=i,typeof i=="function")l0(i)&&(w=1);else if(typeof i=="string")w=XP(i,c,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=bs(31,c,a,g),i.elementType=k,i.lanes=v,i;case R:return Xo(c.children,g,v,a);case N:w=8,g|=24;break;case M:return i=bs(12,c,a,g|2),i.elementType=M,i.lanes=v,i;case K:return i=bs(13,c,a,g),i.elementType=K,i.lanes=v,i;case Q:return i=bs(19,c,a,g),i.elementType=Q,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:w=10;break e;case H:w=9;break e;case $:w=11;break e;case j:w=14;break e;case C:w=16,h=null;break e}w=29,c=Error(s(130,i===null?"null":typeof i,"")),h=null}return a=bs(w,c,a,g),a.elementType=i,a.type=h,a.lanes=v,a}function Xo(i,a,c,h){return i=bs(7,i,h,a),i.lanes=c,i}function c0(i,a,c){return i=bs(6,i,null,a),i.lanes=c,i}function uT(i){var a=bs(18,null,null,0);return a.stateNode=i,a}function u0(i,a,c){return a=bs(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var hT=new WeakMap;function Ms(i,a){if(typeof i=="object"&&i!==null){var c=hT.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Hf(a)},hT.set(i,a),a)}return{value:i,source:a,stack:Hf(a)}}var bc=[],xc=0,xm=null,Eh=0,Ps=[],Ls=0,Ea=null,Di=1,ki="";function yr(i,a){bc[xc++]=Eh,bc[xc++]=xm,xm=i,Eh=a}function dT(i,a,c){Ps[Ls++]=Di,Ps[Ls++]=ki,Ps[Ls++]=Ea,Ea=i;var h=Di;i=ki;var g=32-qn(h)-1;h&=~(1<<g),c+=1;var v=32-qn(a)+g;if(30<v){var w=g-g%5;v=(h&(1<<w)-1).toString(32),h>>=w,g-=w,Di=1<<32-qn(a)+g|c<<g|h,ki=v+i}else Di=1<<v|c<<g|h,ki=i}function h0(i){i.return!==null&&(yr(i,1),dT(i,1,0))}function d0(i){for(;i===xm;)xm=bc[--xc],bc[xc]=null,Eh=bc[--xc],bc[xc]=null;for(;i===Ea;)Ea=Ps[--Ls],Ps[Ls]=null,ki=Ps[--Ls],Ps[Ls]=null,Di=Ps[--Ls],Ps[Ls]=null}function fT(i,a){Ps[Ls++]=Di,Ps[Ls++]=ki,Ps[Ls++]=Ea,Di=a.id,ki=a.overflow,Ea=i}var Tn=null,xt=null,Qe=!1,Sa=null,Vs=!1,f0=Error(s(519));function Aa(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sh(Ms(a,i)),f0}function mT(i){var a=i.stateNode,c=i.type,h=i.memoizedProps;switch(a[kt]=i,a[wn]=h,c){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(c=0;c<Kh.length;c++)qe(Kh[c],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),Fo(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),pa(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||jS(a.textContent,c)?(h.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),h.onScroll!=null&&qe("scroll",a),h.onScrollEnd!=null&&qe("scrollend",a),h.onClick!=null&&(a.onclick=on),a=!0):a=!1,a||Aa(i,!0)}function pT(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:Tn=Tn.return}}function wc(i){if(i!==Tn)return!1;if(!Qe)return pT(i),Qe=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||jv(i.type,i.memoizedProps)),c=!c),c&&xt&&Aa(i),pT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=FS(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=FS(i)}else a===27?(a=xt,Fa(i.type)?(i=Pv,Pv=null,xt=i):xt=a):xt=Tn?Fs(i.stateNode.nextSibling):null;return!0}function Jo(){xt=Tn=null,Qe=!1}function m0(){var i=Sa;return i!==null&&(as===null?as=i:as.push.apply(as,i),Sa=null),i}function Sh(i){Sa===null?Sa=[i]:Sa.push(i)}var p0=z(null),Zo=null,vr=null;function Ca(i,a,c){ue(p0,a._currentValue),a._currentValue=c}function _r(i){i._currentValue=p0.current,se(p0)}function g0(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function y0(i,a,c,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var w=g.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=g;for(var V=0;V<a.length;V++)if(A.context===a[V]){v.lanes|=c,A=v.alternate,A!==null&&(A.lanes|=c),g0(v.return,c,i),h||(w=null);break e}v=A.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(s(341));w.lanes|=c,v=w.alternate,v!==null&&(v.lanes|=c),g0(w,c,i),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Tc(i,a,c,h){i=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=g.type;_s(g.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(g===We.current){if(w=g.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Jh):i=[Jh])}g=g.return}i!==null&&y0(a,i,c,h),a.flags|=262144}function wm(i){for(i=i.firstContext;i!==null;){if(!_s(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function el(i){Zo=i,vr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function En(i){return gT(Zo,i)}function Tm(i,a){return Zo===null&&el(i),gT(i,a)}function gT(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},vr===null){if(i===null)throw Error(s(308));vr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else vr=vr.next=a;return c}var KM=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},WM=t.unstable_scheduleCallback,QM=t.unstable_NormalPriority,Gt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v0(){return{controller:new KM,data:new Map,refCount:0}}function Ah(i){i.refCount--,i.refCount===0&&WM(QM,function(){i.controller.abort()})}var Ch=null,_0=0,Ec=0,Sc=null;function YM(i,a){if(Ch===null){var c=Ch=[];_0=0,Ec=wv(),Sc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return _0++,a.then(yT,yT),a}function yT(){if(--_0===0&&Ch!==null){Sc!==null&&(Sc.status="fulfilled");var i=Ch;Ch=null,Ec=0,Sc=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function XM(i,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var vT=ne.S;ne.S=function(i,a){tS=bn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&YM(i,a),vT!==null&&vT(i,a)};var tl=z(null);function b0(){var i=tl.current;return i!==null?i:vt.pooledCache}function Em(i,a){a===null?ue(tl,tl.current):ue(tl,a.pool)}function _T(){var i=b0();return i===null?null:{parent:Gt._currentValue,pool:i}}var Ac=Error(s(460)),x0=Error(s(474)),Sm=Error(s(542)),Am={then:function(){}};function bT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xT(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(on,on),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,TT(i),i;default:if(typeof a.status=="string")a.then(on,on);else{if(i=vt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,TT(i),i}throw sl=a,Ac}}function nl(i){try{var a=i._init;return a(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(sl=c,Ac):c}}var sl=null;function wT(){if(sl===null)throw Error(s(459));var i=sl;return sl=null,i}function TT(i){if(i===Ac||i===Sm)throw Error(s(483))}var Cc=null,Nh=0;function Cm(i){var a=Nh;return Nh+=1,Cc===null&&(Cc=[]),xT(Cc,i,a)}function Rh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Nm(i,a){throw a.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function ET(i){function a(G,B){if(i){var Y=G.deletions;Y===null?(G.deletions=[B],G.flags|=16):Y.push(B)}}function c(G,B){if(!i)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function h(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function g(G,B){return G=gr(G,B),G.index=0,G.sibling=null,G}function v(G,B,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<B?(G.flags|=67108866,B):Y):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,B,Y,re){return B===null||B.tag!==6?(B=c0(Y,G.mode,re),B.return=G,B):(B=g(B,Y),B.return=G,B)}function V(G,B,Y,re){var Te=Y.type;return Te===R?ie(G,B,Y.props.children,re,Y.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&nl(Te)===B.type)?(B=g(B,Y.props),Rh(B,Y),B.return=G,B):(B=bm(Y.type,Y.key,Y.props,null,G.mode,re),Rh(B,Y),B.return=G,B)}function X(G,B,Y,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=u0(Y,G.mode,re),B.return=G,B):(B=g(B,Y.children||[]),B.return=G,B)}function ie(G,B,Y,re,Te){return B===null||B.tag!==7?(B=Xo(Y,G.mode,re,Te),B.return=G,B):(B=g(B,Y),B.return=G,B)}function ae(G,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=c0(""+B,G.mode,Y),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return Y=bm(B.type,B.key,B.props,null,G.mode,Y),Rh(Y,B),Y.return=G,Y;case S:return B=u0(B,G.mode,Y),B.return=G,B;case C:return B=nl(B),ae(G,B,Y)}if(_t(B)||q(B))return B=Xo(B,G.mode,Y,null),B.return=G,B;if(typeof B.then=="function")return ae(G,Cm(B),Y);if(B.$$typeof===L)return ae(G,Tm(G,B),Y);Nm(G,B)}return null}function J(G,B,Y,re){var Te=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Te!==null?null:A(G,B,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===Te?V(G,B,Y,re):null;case S:return Y.key===Te?X(G,B,Y,re):null;case C:return Y=nl(Y),J(G,B,Y,re)}if(_t(Y)||q(Y))return Te!==null?null:ie(G,B,Y,re,null);if(typeof Y.then=="function")return J(G,B,Cm(Y),re);if(Y.$$typeof===L)return J(G,B,Tm(G,Y),re);Nm(G,Y)}return null}function ee(G,B,Y,re,Te){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(Y)||null,A(B,G,""+re,Te);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return G=G.get(re.key===null?Y:re.key)||null,V(B,G,re,Te);case S:return G=G.get(re.key===null?Y:re.key)||null,X(B,G,re,Te);case C:return re=nl(re),ee(G,B,Y,re,Te)}if(_t(re)||q(re))return G=G.get(Y)||null,ie(B,G,re,Te,null);if(typeof re.then=="function")return ee(G,B,Y,Cm(re),Te);if(re.$$typeof===L)return ee(G,B,Y,Tm(B,re),Te);Nm(B,re)}return null}function ve(G,B,Y,re){for(var Te=null,st=null,be=B,Pe=B=0,$e=null;be!==null&&Pe<Y.length;Pe++){be.index>Pe?($e=be,be=null):$e=be.sibling;var it=J(G,be,Y[Pe],re);if(it===null){be===null&&(be=$e);break}i&&be&&it.alternate===null&&a(G,be),B=v(it,B,Pe),st===null?Te=it:st.sibling=it,st=it,be=$e}if(Pe===Y.length)return c(G,be),Qe&&yr(G,Pe),Te;if(be===null){for(;Pe<Y.length;Pe++)be=ae(G,Y[Pe],re),be!==null&&(B=v(be,B,Pe),st===null?Te=be:st.sibling=be,st=be);return Qe&&yr(G,Pe),Te}for(be=h(be);Pe<Y.length;Pe++)$e=ee(be,G,Pe,Y[Pe],re),$e!==null&&(i&&$e.alternate!==null&&be.delete($e.key===null?Pe:$e.key),B=v($e,B,Pe),st===null?Te=$e:st.sibling=$e,st=$e);return i&&be.forEach(function(Ga){return a(G,Ga)}),Qe&&yr(G,Pe),Te}function Ae(G,B,Y,re){if(Y==null)throw Error(s(151));for(var Te=null,st=null,be=B,Pe=B=0,$e=null,it=Y.next();be!==null&&!it.done;Pe++,it=Y.next()){be.index>Pe?($e=be,be=null):$e=be.sibling;var Ga=J(G,be,it.value,re);if(Ga===null){be===null&&(be=$e);break}i&&be&&Ga.alternate===null&&a(G,be),B=v(Ga,B,Pe),st===null?Te=Ga:st.sibling=Ga,st=Ga,be=$e}if(it.done)return c(G,be),Qe&&yr(G,Pe),Te;if(be===null){for(;!it.done;Pe++,it=Y.next())it=ae(G,it.value,re),it!==null&&(B=v(it,B,Pe),st===null?Te=it:st.sibling=it,st=it);return Qe&&yr(G,Pe),Te}for(be=h(be);!it.done;Pe++,it=Y.next())it=ee(be,G,Pe,it.value,re),it!==null&&(i&&it.alternate!==null&&be.delete(it.key===null?Pe:it.key),B=v(it,B,Pe),st===null?Te=it:st.sibling=it,st=it);return i&&be.forEach(function(l6){return a(G,l6)}),Qe&&yr(G,Pe),Te}function mt(G,B,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var Te=Y.key;B!==null;){if(B.key===Te){if(Te=Y.type,Te===R){if(B.tag===7){c(G,B.sibling),re=g(B,Y.props.children),re.return=G,G=re;break e}}else if(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&nl(Te)===B.type){c(G,B.sibling),re=g(B,Y.props),Rh(re,Y),re.return=G,G=re;break e}c(G,B);break}else a(G,B);B=B.sibling}Y.type===R?(re=Xo(Y.props.children,G.mode,re,Y.key),re.return=G,G=re):(re=bm(Y.type,Y.key,Y.props,null,G.mode,re),Rh(re,Y),re.return=G,G=re)}return w(G);case S:e:{for(Te=Y.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){c(G,B.sibling),re=g(B,Y.children||[]),re.return=G,G=re;break e}else{c(G,B);break}else a(G,B);B=B.sibling}re=u0(Y,G.mode,re),re.return=G,G=re}return w(G);case C:return Y=nl(Y),mt(G,B,Y,re)}if(_t(Y))return ve(G,B,Y,re);if(q(Y)){if(Te=q(Y),typeof Te!="function")throw Error(s(150));return Y=Te.call(Y),Ae(G,B,Y,re)}if(typeof Y.then=="function")return mt(G,B,Cm(Y),re);if(Y.$$typeof===L)return mt(G,B,Tm(G,Y),re);Nm(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(c(G,B.sibling),re=g(B,Y),re.return=G,G=re):(c(G,B),re=c0(Y,G.mode,re),re.return=G,G=re),w(G)):c(G,B)}return function(G,B,Y,re){try{Nh=0;var Te=mt(G,B,Y,re);return Cc=null,Te}catch(be){if(be===Ac||be===Sm)throw be;var st=bs(29,be,null,G.mode);return st.lanes=re,st.return=G,st}finally{}}}var il=ET(!0),ST=ET(!1),Na=!1;function w0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ia(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(rt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=_m(i),lT(i,null,c),a}return vm(i,h,a,c),_m(i)}function Ih(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,la(i,c)}}function E0(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=w:v=v.next=w,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var S0=!1;function jh(){if(S0){var i=Sc;if(i!==null)throw i}}function Dh(i,a,c,h){S0=!1;var g=i.updateQueue;Na=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var V=A,X=V.next;V.next=null,w===null?v=X:w.next=X,w=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=X:A.next=X,ie.lastBaseUpdate=V))}if(v!==null){var ae=g.baseState;w=0,ie=X=V=null,A=v;do{var J=A.lane&-536870913,ee=J!==A.lane;if(ee?(Ge&J)===J:(h&J)===J){J!==0&&J===Ec&&(S0=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=i,Ae=A;J=a;var mt=c;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){ae=ve.call(mt,ae,J);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,J=typeof ve=="function"?ve.call(mt,ae,J):ve,J==null)break e;ae=_({},ae,J);break e;case 2:Na=!0}}J=A.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=g.callbacks,ee===null?g.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(X=ie=ee,V=ae):ie=ie.next=ee,w|=J;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);ie===null&&(V=ae),g.baseState=V,g.firstBaseUpdate=X,g.lastBaseUpdate=ie,v===null&&(g.shared.lanes=0),Ma|=w,i.lanes=w,i.memoizedState=ae}}function AT(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function CT(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)AT(c[i],a)}var Nc=z(null),Rm=z(0);function NT(i,a){i=Nr,ue(Rm,i),ue(Nc,a),Nr=i|a.baseLanes}function A0(){ue(Rm,Nr),ue(Nc,Nc.current)}function C0(){Nr=Rm.current,se(Nc),se(Rm)}var xs=z(null),Us=null;function ja(i){var a=i.alternate;ue(Ft,Ft.current&1),ue(xs,i),Us===null&&(a===null||Nc.current!==null||a.memoizedState!==null)&&(Us=i)}function N0(i){ue(Ft,Ft.current),ue(xs,i),Us===null&&(Us=i)}function RT(i){i.tag===22?(ue(Ft,Ft.current),ue(xs,i),Us===null&&(Us=i)):Da()}function Da(){ue(Ft,Ft.current),ue(xs,xs.current)}function ws(i){se(xs),Us===i&&(Us=null),se(Ft)}var Ft=z(0);function Im(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ov(c)||Mv(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var br=0,Oe=null,dt=null,$t=null,jm=!1,Rc=!1,rl=!1,Dm=0,kh=0,Ic=null,JM=0;function Mt(){throw Error(s(321))}function R0(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!_s(i[c],a[c]))return!1;return!0}function I0(i,a,c,h,g,v){return br=v,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ne.H=i===null||i.memoizedState===null?dE:G0,rl=!1,v=c(h,g),rl=!1,Rc&&(v=jT(a,c,h,g)),IT(i),v}function IT(i){ne.H=Ph;var a=dt!==null&&dt.next!==null;if(br=0,$t=dt=Oe=null,jm=!1,kh=0,Ic=null,a)throw Error(s(300));i===null||Kt||(i=i.dependencies,i!==null&&wm(i)&&(Kt=!0))}function jT(i,a,c,h){Oe=i;var g=0;do{if(Rc&&(Ic=null),kh=0,Rc=!1,25<=g)throw Error(s(301));if(g+=1,$t=dt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ne.H=fE,v=a(c,h)}while(Rc);return v}function ZM(){var i=ne.H,a=i.useState()[0];return a=typeof a.then=="function"?Oh(a):a,i=i.useState()[0],(dt!==null?dt.memoizedState:null)!==i&&(Oe.flags|=1024),a}function j0(){var i=Dm!==0;return Dm=0,i}function D0(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function k0(i){if(jm){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}jm=!1}br=0,$t=dt=Oe=null,Rc=!1,kh=Dm=0,Ic=null}function Wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Oe.memoizedState=$t=i:$t=$t.next=i,$t}function zt(){if(dt===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=dt.next;var a=$t===null?Oe.memoizedState:$t.next;if(a!==null)$t=a,dt=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));dt=i,i={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},$t===null?Oe.memoizedState=$t=i:$t=$t.next=i}return $t}function km(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oh(i){var a=kh;return kh+=1,Ic===null&&(Ic=[]),i=xT(Ic,i,a),a=Oe,($t===null?a.memoizedState:$t.next)===null&&(a=a.alternate,ne.H=a===null||a.memoizedState===null?dE:G0),i}function Om(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Oh(i);if(i.$$typeof===L)return En(i)}throw Error(s(438,String(i)))}function O0(i){var a=null,c=Oe.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Oe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=km(),Oe.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),h=0;h<i;h++)c[h]=O;return a.index++,c}function xr(i,a){return typeof a=="function"?a(i):a}function Mm(i){var a=zt();return M0(a,dt,i)}function M0(i,a,c){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}a.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{a=g.next;var A=w=null,V=null,X=a,ie=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Ge&ae)===ae:(br&ae)===ae){var J=X.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===Ec&&(ie=!0);else if((br&J)===J){X=X.next,J===Ec&&(ie=!0);continue}else ae={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=ae,w=v):V=V.next=ae,Oe.lanes|=J,Ma|=J;ae=X.action,rl&&c(v,ae),v=X.hasEagerState?X.eagerState:c(v,ae)}else J={lane:ae,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=J,w=v):V=V.next=J,Oe.lanes|=ae,Ma|=ae;X=X.next}while(X!==null&&X!==a);if(V===null?w=v:V.next=A,!_s(v,i.memoizedState)&&(Kt=!0,ie&&(c=Sc,c!==null)))throw c;i.memoizedState=v,i.baseState=w,i.baseQueue=V,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function P0(i){var a=zt(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do v=i(v,w.action),w=w.next;while(w!==g);_s(v,a.memoizedState)||(Kt=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,h]}function DT(i,a,c){var h=Oe,g=zt(),v=Qe;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=a();var w=!_s((dt||g).memoizedState,c);if(w&&(g.memoizedState=c,Kt=!0),g=g.queue,U0(MT.bind(null,h,g,i),[i]),g.getSnapshot!==a||w||$t!==null&&$t.memoizedState.tag&1){if(h.flags|=2048,jc(9,{destroy:void 0},OT.bind(null,h,g,c,a),null),vt===null)throw Error(s(349));v||(br&127)!==0||kT(h,a,c)}return c}function kT(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Oe.updateQueue,a===null?(a=km(),Oe.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function OT(i,a,c,h){a.value=c,a.getSnapshot=h,PT(a)&&LT(i)}function MT(i,a,c){return c(function(){PT(a)&&LT(i)})}function PT(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!_s(i,c)}catch{return!0}}function LT(i){var a=Yo(i,2);a!==null&&os(a,i,2)}function L0(i){var a=Wn();if(typeof i=="function"){var c=i;if(i=c(),rl){Is(!0);try{c()}finally{Is(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},a}function VT(i,a,c,h){return i.baseState=c,M0(i,dt,typeof h=="function"?h:xr)}function eP(i,a,c,h,g){if(Vm(i))throw Error(s(485));if(i=a.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};ne.T!==null?c(!0):v.isTransition=!1,h(v),c=a.pending,c===null?(v.next=a.pending=v,UT(a,v)):(v.next=c.next,a.pending=c.next=v)}}function UT(i,a){var c=a.action,h=a.payload,g=i.state;if(a.isTransition){var v=ne.T,w={};ne.T=w;try{var A=c(g,h),V=ne.S;V!==null&&V(w,A),FT(i,a,A)}catch(X){V0(i,a,X)}finally{v!==null&&w.types!==null&&(v.types=w.types),ne.T=v}}else try{v=c(g,h),FT(i,a,v)}catch(X){V0(i,a,X)}}function FT(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){zT(i,a,h)},function(h){return V0(i,a,h)}):zT(i,a,c)}function zT(i,a,c){a.status="fulfilled",a.value=c,BT(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,UT(i,c)))}function V0(i,a,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,BT(a),a=a.next;while(a!==h)}i.action=null}function BT(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function qT(i,a){return a}function HT(i,a){if(Qe){var c=vt.formState;if(c!==null){e:{var h=Oe;if(Qe){if(xt){t:{for(var g=xt,v=Vs;g.nodeType!==8;){if(!v){g=null;break t}if(g=Fs(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){xt=Fs(g.nextSibling),h=g.data==="F!";break e}}Aa(h)}h=!1}h&&(a=c[0])}}return c=Wn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qT,lastRenderedState:a},c.queue=h,c=cE.bind(null,Oe,h),h.dispatch=c,h=L0(!1),v=H0.bind(null,Oe,!1,h.queue),h=Wn(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,c=eP.bind(null,Oe,g,v,c),g.dispatch=c,h.memoizedState=i,[a,c,!1]}function GT(i){var a=zt();return $T(a,dt,i)}function $T(i,a,c){if(a=M0(i,a,qT)[0],i=Mm(xr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Oh(a)}catch(w){throw w===Ac?Sm:w}else h=a;a=zt();var g=a.queue,v=g.dispatch;return c!==a.memoizedState&&(Oe.flags|=2048,jc(9,{destroy:void 0},tP.bind(null,g,c),null)),[h,v,i]}function tP(i,a){i.action=a}function KT(i){var a=zt(),c=dt;if(c!==null)return $T(a,c,i);zt(),a=a.memoizedState,c=zt();var h=c.queue.dispatch;return c.memoizedState=i,[a,h,!1]}function jc(i,a,c,h){return i={tag:i,create:c,deps:h,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=km(),Oe.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i),i}function WT(){return zt().memoizedState}function Pm(i,a,c,h){var g=Wn();Oe.flags|=i,g.memoizedState=jc(1|a,{destroy:void 0},c,h===void 0?null:h)}function Lm(i,a,c,h){var g=zt();h=h===void 0?null:h;var v=g.memoizedState.inst;dt!==null&&h!==null&&R0(h,dt.memoizedState.deps)?g.memoizedState=jc(a,v,c,h):(Oe.flags|=i,g.memoizedState=jc(1|a,v,c,h))}function QT(i,a){Pm(8390656,8,i,a)}function U0(i,a){Lm(2048,8,i,a)}function nP(i){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=km(),Oe.updateQueue=a,a.events=[i];else{var c=a.events;c===null?a.events=[i]:c.push(i)}}function YT(i){var a=zt().memoizedState;return nP({ref:a,nextImpl:i}),function(){if((rt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function XT(i,a){return Lm(4,2,i,a)}function JT(i,a){return Lm(4,4,i,a)}function ZT(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function eE(i,a,c){c=c!=null?c.concat([i]):null,Lm(4,4,ZT.bind(null,a,i),c)}function F0(){}function tE(i,a){var c=zt();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&R0(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function nE(i,a){var c=zt();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&R0(a,h[1]))return h[0];if(h=i(),rl){Is(!0);try{i()}finally{Is(!1)}}return c.memoizedState=[h,a],h}function z0(i,a,c){return c===void 0||(br&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=a:(i.memoizedState=c,i=sS(),Oe.lanes|=i,Ma|=i,c)}function sE(i,a,c,h){return _s(c,a)?c:Nc.current!==null?(i=z0(i,c,h),_s(i,a)||(Kt=!0),i):(br&42)===0||(br&1073741824)!==0&&(Ge&261930)===0?(Kt=!0,i.memoizedState=c):(i=sS(),Oe.lanes|=i,Ma|=i,a)}function iE(i,a,c,h,g){var v=le.p;le.p=v!==0&&8>v?v:8;var w=ne.T,A={};ne.T=A,H0(i,!1,a,c);try{var V=g(),X=ne.S;if(X!==null&&X(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=XM(V,h);Mh(i,a,ie,Ss(i))}else Mh(i,a,h,Ss(i))}catch(ae){Mh(i,a,{then:function(){},status:"rejected",reason:ae},Ss())}finally{le.p=v,w!==null&&A.types!==null&&(w.types=A.types),ne.T=w}}function sP(){}function B0(i,a,c,h){if(i.tag!==5)throw Error(s(476));var g=rE(i).queue;iE(i,g,a,de,c===null?sP:function(){return aE(i),c(h)})}function rE(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:de},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function aE(i){var a=rE(i);a.next===null&&(a=i.alternate.memoizedState),Mh(i,a.next.queue,{},Ss())}function q0(){return En(Jh)}function oE(){return zt().memoizedState}function lE(){return zt().memoizedState}function iP(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Ss();i=Ra(c);var h=Ia(a,i,c);h!==null&&(os(h,a,c),Ih(h,a,c)),a={cache:v0()},i.payload=a;return}a=a.return}}function rP(i,a,c){var h=Ss();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vm(i)?uE(a,c):(c=o0(i,a,c,h),c!==null&&(os(c,i,h),hE(c,a,h)))}function cE(i,a,c){var h=Ss();Mh(i,a,c,h)}function Mh(i,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vm(i))uE(a,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var w=a.lastRenderedState,A=v(w,c);if(g.hasEagerState=!0,g.eagerState=A,_s(A,w))return vm(i,a,g,0),vt===null&&ym(),!1}catch{}finally{}if(c=o0(i,a,g,h),c!==null)return os(c,i,h),hE(c,a,h),!0}return!1}function H0(i,a,c,h){if(h={lane:2,revertLane:wv(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Vm(i)){if(a)throw Error(s(479))}else a=o0(i,c,h,2),a!==null&&os(a,i,2)}function Vm(i){var a=i.alternate;return i===Oe||a!==null&&a===Oe}function uE(i,a){Rc=jm=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function hE(i,a,c){if((c&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,la(i,c)}}var Ph={readContext:En,use:Om,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Ph.useEffectEvent=Mt;var dE={readContext:En,use:Om,useCallback:function(i,a){return Wn().memoizedState=[i,a===void 0?null:a],i},useContext:En,useEffect:QT,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,Pm(4194308,4,ZT.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Pm(4194308,4,i,a)},useInsertionEffect:function(i,a){Pm(4,2,i,a)},useMemo:function(i,a){var c=Wn();a=a===void 0?null:a;var h=i();if(rl){Is(!0);try{i()}finally{Is(!1)}}return c.memoizedState=[h,a],h},useReducer:function(i,a,c){var h=Wn();if(c!==void 0){var g=c(a);if(rl){Is(!0);try{c(a)}finally{Is(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=rP.bind(null,Oe,i),[h.memoizedState,i]},useRef:function(i){var a=Wn();return i={current:i},a.memoizedState=i},useState:function(i){i=L0(i);var a=i.queue,c=cE.bind(null,Oe,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:F0,useDeferredValue:function(i,a){var c=Wn();return z0(c,i,a)},useTransition:function(){var i=L0(!1);return i=iE.bind(null,Oe,i.queue,!0,!1),Wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var h=Oe,g=Wn();if(Qe){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),vt===null)throw Error(s(349));(Ge&127)!==0||kT(h,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,QT(MT.bind(null,h,v,i),[i]),h.flags|=2048,jc(9,{destroy:void 0},OT.bind(null,h,v,c,a),null),c},useId:function(){var i=Wn(),a=vt.identifierPrefix;if(Qe){var c=ki,h=Di;c=(h&~(1<<32-qn(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Dm++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=JM++,a="_"+a+"r_"+c.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:q0,useFormState:HT,useActionState:HT,useOptimistic:function(i){var a=Wn();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=H0.bind(null,Oe,!0,c),c.dispatch=a,[i,a]},useMemoCache:O0,useCacheRefresh:function(){return Wn().memoizedState=iP.bind(null,Oe)},useEffectEvent:function(i){var a=Wn(),c={impl:i};return a.memoizedState=c,function(){if((rt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},G0={readContext:En,use:Om,useCallback:tE,useContext:En,useEffect:U0,useImperativeHandle:eE,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:nE,useReducer:Mm,useRef:WT,useState:function(){return Mm(xr)},useDebugValue:F0,useDeferredValue:function(i,a){var c=zt();return sE(c,dt.memoizedState,i,a)},useTransition:function(){var i=Mm(xr)[0],a=zt().memoizedState;return[typeof i=="boolean"?i:Oh(i),a]},useSyncExternalStore:DT,useId:oE,useHostTransitionStatus:q0,useFormState:GT,useActionState:GT,useOptimistic:function(i,a){var c=zt();return VT(c,dt,i,a)},useMemoCache:O0,useCacheRefresh:lE};G0.useEffectEvent=YT;var fE={readContext:En,use:Om,useCallback:tE,useContext:En,useEffect:U0,useImperativeHandle:eE,useInsertionEffect:XT,useLayoutEffect:JT,useMemo:nE,useReducer:P0,useRef:WT,useState:function(){return P0(xr)},useDebugValue:F0,useDeferredValue:function(i,a){var c=zt();return dt===null?z0(c,i,a):sE(c,dt.memoizedState,i,a)},useTransition:function(){var i=P0(xr)[0],a=zt().memoizedState;return[typeof i=="boolean"?i:Oh(i),a]},useSyncExternalStore:DT,useId:oE,useHostTransitionStatus:q0,useFormState:KT,useActionState:KT,useOptimistic:function(i,a){var c=zt();return dt!==null?VT(c,dt,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:O0,useCacheRefresh:lE};fE.useEffectEvent=YT;function $0(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var K0={enqueueSetState:function(i,a,c){i=i._reactInternals;var h=Ss(),g=Ra(h);g.payload=a,c!=null&&(g.callback=c),a=Ia(i,g,h),a!==null&&(os(a,i,h),Ih(a,i,h))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=Ss(),g=Ra(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Ia(i,g,h),a!==null&&(os(a,i,h),Ih(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Ss(),h=Ra(c);h.tag=2,a!=null&&(h.callback=a),a=Ia(i,h,c),a!==null&&(os(a,i,c),Ih(a,i,c))}};function mE(i,a,c,h,g,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,w):a.prototype&&a.prototype.isPureReactComponent?!wh(c,h)||!wh(g,v):!0}function pE(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&K0.enqueueReplaceState(a,a.state,null)}function al(i,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(i=i.defaultProps){c===a&&(c=_({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function gE(i){gm(i)}function yE(i){console.error(i)}function vE(i){gm(i)}function Um(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function _E(i,a,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function W0(i,a,c){return c=Ra(c),c.tag=3,c.payload={element:null},c.callback=function(){Um(i,a)},c}function bE(i){return i=Ra(i),i.tag=3,i}function xE(i,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){_E(a,c,h)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){_E(a,c,h),typeof g!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var A=h.stack;this.componentDidCatch(h.value,{componentStack:A!==null?A:""})})}function aP(i,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Tc(a,c,g,!0),c=xs.current,c!==null){switch(c.tag){case 31:case 13:return Us===null?Xm():c.alternate===null&&Pt===0&&(Pt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Am?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),_v(i,h,g)),!1;case 22:return c.flags|=65536,h===Am?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),_v(i,h,g)),!1}throw Error(s(435,c.tag))}return _v(i,h,g),Xm(),!1}if(Qe)return a=xs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==f0&&(i=Error(s(422),{cause:h}),Sh(Ms(i,c)))):(h!==f0&&(a=Error(s(423),{cause:h}),Sh(Ms(a,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Ms(h,c),g=W0(i.stateNode,h,g),E0(i,g),Pt!==4&&(Pt=2)),!1;var v=Error(s(520),{cause:h});if(v=Ms(v,c),Hh===null?Hh=[v]:Hh.push(v),Pt!==4&&(Pt=2),a===null)return!0;h=Ms(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=W0(c.stateNode,h,i),E0(c,i),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pa===null||!Pa.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=bE(g),xE(g,i,c,h),E0(c,g),!1}c=c.return}while(c!==null);return!1}var Q0=Error(s(461)),Kt=!1;function Sn(i,a,c,h){a.child=i===null?ST(a,null,c,h):il(a,i.child,c,h)}function wE(i,a,c,h,g){c=c.render;var v=a.ref;if("ref"in h){var w={};for(var A in h)A!=="ref"&&(w[A]=h[A])}else w=h;return el(a),h=I0(i,a,c,w,v,g),A=j0(),i!==null&&!Kt?(D0(i,a,g),wr(i,a,g)):(Qe&&A&&h0(a),a.flags|=1,Sn(i,a,h,g),a.child)}function TE(i,a,c,h,g){if(i===null){var v=c.type;return typeof v=="function"&&!l0(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,EE(i,a,v,h,g)):(i=bm(c.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!sv(i,g)){var w=v.memoizedProps;if(c=c.compare,c=c!==null?c:wh,c(w,h)&&i.ref===a.ref)return wr(i,a,g)}return a.flags|=1,i=gr(v,h),i.ref=a.ref,i.return=a,a.child=i}function EE(i,a,c,h,g){if(i!==null){var v=i.memoizedProps;if(wh(v,h)&&i.ref===a.ref)if(Kt=!1,a.pendingProps=h=v,sv(i,g))(i.flags&131072)!==0&&(Kt=!0);else return a.lanes=i.lanes,wr(i,a,g)}return Y0(i,a,c,h,g)}function SE(i,a,c,h){var g=h.children,v=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,i!==null){for(h=a.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~v}else h=0,a.child=null;return AE(i,a,v,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Em(a,v!==null?v.cachePool:null),v!==null?NT(a,v):A0(),RT(a);else return h=a.lanes=536870912,AE(i,a,v!==null?v.baseLanes|c:c,c,h)}else v!==null?(Em(a,v.cachePool),NT(a,v),Da(),a.memoizedState=null):(i!==null&&Em(a,null),A0(),Da());return Sn(i,a,g,c),a.child}function Lh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function AE(i,a,c,h,g){var v=b0();return v=v===null?null:{parent:Gt._currentValue,pool:v},a.memoizedState={baseLanes:c,cachePool:v},i!==null&&Em(a,null),A0(),RT(a),i!==null&&Tc(i,a,h,!0),a.childLanes=g,null}function Fm(i,a){return a=Bm({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function CE(i,a,c){return il(a,i.child,null,c),i=Fm(a,a.pendingProps),i.flags|=2,ws(a),a.memoizedState=null,i}function oP(i,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Qe){if(h.mode==="hidden")return i=Fm(a,h),a.lanes=536870912,Lh(null,i);if(N0(a),(i=xt)?(i=US(i,Vs),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ea!==null?{id:Di,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},c=uT(i),c.return=a,a.child=c,Tn=a,xt=null)):i=null,i===null)throw Aa(a);return a.lanes=536870912,null}return Fm(a,h)}var v=i.memoizedState;if(v!==null){var w=v.dehydrated;if(N0(a),g)if(a.flags&256)a.flags&=-257,a=CE(i,a,c);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(Kt||Tc(i,a,c,!1),g=(c&i.childLanes)!==0,Kt||g){if(h=vt,h!==null&&(w=ca(h,c),w!==0&&w!==v.retryLane))throw v.retryLane=w,Yo(i,w),os(h,i,w),Q0;Xm(),a=CE(i,a,c)}else i=v.treeContext,xt=Fs(w.nextSibling),Tn=a,Qe=!0,Sa=null,Vs=!1,i!==null&&fT(a,i),a=Fm(a,h),a.flags|=4096;return a}return i=gr(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function zm(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function Y0(i,a,c,h,g){return el(a),c=I0(i,a,c,h,void 0,g),h=j0(),i!==null&&!Kt?(D0(i,a,g),wr(i,a,g)):(Qe&&h&&h0(a),a.flags|=1,Sn(i,a,c,g),a.child)}function NE(i,a,c,h,g,v){return el(a),a.updateQueue=null,c=jT(a,h,c,g),IT(i),h=j0(),i!==null&&!Kt?(D0(i,a,v),wr(i,a,v)):(Qe&&h&&h0(a),a.flags|=1,Sn(i,a,c,v),a.child)}function RE(i,a,c,h,g){if(el(a),a.stateNode===null){var v=_c,w=c.contextType;typeof w=="object"&&w!==null&&(v=En(w)),v=new c(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=K0,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},w0(a),w=c.contextType,v.context=typeof w=="object"&&w!==null?En(w):_c,v.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&($0(a,c,w,h),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&K0.enqueueReplaceState(v,v.state,null),Dh(a,h,v,g),jh(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){v=a.stateNode;var A=a.memoizedProps,V=al(c,A);v.props=V;var X=v.context,ie=c.contextType;w=_c,typeof ie=="object"&&ie!==null&&(w=En(ie));var ae=c.getDerivedStateFromProps;ie=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||X!==w)&&pE(a,v,h,w),Na=!1;var J=a.memoizedState;v.state=J,Dh(a,h,v,g),jh(),X=a.memoizedState,A||J!==X||Na?(typeof ae=="function"&&($0(a,c,ae,h),X=a.memoizedState),(V=Na||mE(a,c,V,h,J,X,w))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=X),v.props=h,v.state=X,v.context=w,h=V):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,T0(i,a),w=a.memoizedProps,ie=al(c,w),v.props=ie,ae=a.pendingProps,J=v.context,X=c.contextType,V=_c,typeof X=="object"&&X!==null&&(V=En(X)),A=c.getDerivedStateFromProps,(X=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==ae||J!==V)&&pE(a,v,h,V),Na=!1,J=a.memoizedState,v.state=J,Dh(a,h,v,g),jh();var ee=a.memoizedState;w!==ae||J!==ee||Na||i!==null&&i.dependencies!==null&&wm(i.dependencies)?(typeof A=="function"&&($0(a,c,A,h),ee=a.memoizedState),(ie=Na||mE(a,c,ie,h,J,ee,V)||i!==null&&i.dependencies!==null&&wm(i.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ee,V),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ee,V)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ee),v.props=h,v.state=ee,v.context=V,h=ie):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&J===i.memoizedState||(a.flags|=1024),h=!1)}return v=h,zm(i,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&h?(a.child=il(a,i.child,null,g),a.child=il(a,null,c,g)):Sn(i,a,c,g),a.memoizedState=v.state,i=a.child):i=wr(i,a,g),i}function IE(i,a,c,h){return Jo(),a.flags|=256,Sn(i,a,c,h),a.child}var X0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function J0(i){return{baseLanes:i,cachePool:_T()}}function Z0(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=Es),i}function jE(i,a,c){var h=a.pendingProps,g=!1,v=(a.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),w&&(g=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(Qe){if(g?ja(a):Da(),(i=xt)?(i=US(i,Vs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Ea!==null?{id:Di,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},c=uT(i),c.return=a,a.child=c,Tn=a,xt=null)):i=null,i===null)throw Aa(a);return Mv(i)?a.lanes=32:a.lanes=536870912,null}var A=h.children;return h=h.fallback,g?(Da(),g=a.mode,A=Bm({mode:"hidden",children:A},g),h=Xo(h,g,c,null),A.return=a,h.return=a,A.sibling=h,a.child=A,h=a.child,h.memoizedState=J0(c),h.childLanes=Z0(i,w,c),a.memoizedState=X0,Lh(null,h)):(ja(a),ev(a,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(v)a.flags&256?(ja(a),a.flags&=-257,a=tv(i,a,c)):a.memoizedState!==null?(Da(),a.child=i.child,a.flags|=128,a=null):(Da(),A=h.fallback,g=a.mode,h=Bm({mode:"visible",children:h.children},g),A=Xo(A,g,c,null),A.flags|=2,h.return=a,A.return=a,h.sibling=A,a.child=h,il(a,i.child,null,c),h=a.child,h.memoizedState=J0(c),h.childLanes=Z0(i,w,c),a.memoizedState=X0,a=Lh(null,h));else if(ja(a),Mv(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var X=w.dgst;w=X,h=Error(s(419)),h.stack="",h.digest=w,Sh({value:h,source:null,stack:null}),a=tv(i,a,c)}else if(Kt||Tc(i,a,c,!1),w=(c&i.childLanes)!==0,Kt||w){if(w=vt,w!==null&&(h=ca(w,c),h!==0&&h!==V.retryLane))throw V.retryLane=h,Yo(i,h),os(w,i,h),Q0;Ov(A)||Xm(),a=tv(i,a,c)}else Ov(A)?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,xt=Fs(A.nextSibling),Tn=a,Qe=!0,Sa=null,Vs=!1,i!==null&&fT(a,i),a=ev(a,h.children),a.flags|=4096);return a}return g?(Da(),A=h.fallback,g=a.mode,V=i.child,X=V.sibling,h=gr(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,X!==null?A=gr(X,A):(A=Xo(A,g,c,null),A.flags|=2),A.return=a,h.return=a,h.sibling=A,a.child=h,Lh(null,h),h=a.child,A=i.child.memoizedState,A===null?A=J0(c):(g=A.cachePool,g!==null?(V=Gt._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=_T(),A={baseLanes:A.baseLanes|c,cachePool:g}),h.memoizedState=A,h.childLanes=Z0(i,w,c),a.memoizedState=X0,Lh(i.child,h)):(ja(a),c=i.child,i=c.sibling,c=gr(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=c,a.memoizedState=null,c)}function ev(i,a){return a=Bm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Bm(i,a){return i=bs(22,i,null,a),i.lanes=0,i}function tv(i,a,c){return il(a,i.child,null,c),i=ev(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function DE(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),g0(i.return,a,c)}function nv(i,a,c,h,g,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g,w.treeForkCount=v)}function kE(i,a,c){var h=a.pendingProps,g=h.revealOrder,v=h.tail;h=h.children;var w=Ft.current,A=(w&2)!==0;if(A?(w=w&1|2,a.flags|=128):w&=1,ue(Ft,w),Sn(i,a,h,c),h=Qe?Eh:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&DE(i,c,a);else if(i.tag===19)DE(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)i=c.alternate,i!==null&&Im(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),nv(a,!1,g,c,v,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Im(i)===null){a.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}nv(a,!0,c,null,v,h);break;case"together":nv(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function wr(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Ma|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(Tc(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,c=gr(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=gr(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function sv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&wm(i)))}function lP(i,a,c){switch(a.tag){case 3:_n(a,a.stateNode.containerInfo),Ca(a,Gt,i.memoizedState.cache),Jo();break;case 27:case 5:Ti(a);break;case 4:_n(a,a.stateNode.containerInfo);break;case 10:Ca(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,N0(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ja(a),a.flags|=128,null):(c&a.child.childLanes)!==0?jE(i,a,c):(ja(a),i=wr(i,a,c),i!==null?i.sibling:null);ja(a);break;case 19:var g=(i.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Tc(i,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return kE(i,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(Ft,Ft.current),h)break;return null;case 22:return a.lanes=0,SE(i,a,c,a.pendingProps);case 24:Ca(a,Gt,i.memoizedState.cache)}return wr(i,a,c)}function OE(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Kt=!0;else{if(!sv(i,c)&&(a.flags&128)===0)return Kt=!1,lP(i,a,c);Kt=(i.flags&131072)!==0}else Kt=!1,Qe&&(a.flags&1048576)!==0&&dT(a,Eh,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=nl(a.elementType),a.type=i,typeof i=="function")l0(i)?(h=al(i,h),a.tag=1,a=RE(null,a,i,h,c)):(a.tag=0,a=Y0(null,a,i,h,c));else{if(i!=null){var g=i.$$typeof;if(g===$){a.tag=11,a=wE(null,a,i,h,c);break e}else if(g===j){a.tag=14,a=TE(null,a,i,h,c);break e}}throw a=Je(i)||i,Error(s(306,a,""))}}return a;case 0:return Y0(i,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=al(h,a.pendingProps),RE(i,a,h,g,c);case 3:e:{if(_n(a,a.stateNode.containerInfo),i===null)throw Error(s(387));h=a.pendingProps;var v=a.memoizedState;g=v.element,T0(i,a),Dh(a,h,null,c);var w=a.memoizedState;if(h=w.cache,Ca(a,Gt,h),h!==v.cache&&y0(a,[Gt],c,!0),jh(),h=w.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=IE(i,a,h,c);break e}else if(h!==g){g=Ms(Error(s(424)),a),Sh(g),a=IE(i,a,h,c);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xt=Fs(i.firstChild),Tn=a,Qe=!0,Sa=null,Vs=!0,c=ST(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Jo(),h===g){a=wr(i,a,c);break e}Sn(i,a,h,c)}a=a.child}return a;case 26:return zm(i,a),i===null?(c=GS(a.type,null,a.pendingProps,null))?a.memoizedState=c:Qe||(c=a.type,i=a.pendingProps,h=ip(Ue.current).createElement(c),h[kt]=a,h[wn]=i,An(h,c,i),Ut(h),a.stateNode=h):a.memoizedState=GS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ti(a),i===null&&Qe&&(h=a.stateNode=BS(a.type,a.pendingProps,Ue.current),Tn=a,Vs=!0,g=xt,Fa(a.type)?(Pv=g,xt=Fs(h.firstChild)):xt=g),Sn(i,a,a.pendingProps.children,c),zm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Qe&&((g=h=xt)&&(h=VP(h,a.type,a.pendingProps,Vs),h!==null?(a.stateNode=h,Tn=a,xt=Fs(h.firstChild),Vs=!1,g=!0):g=!1),g||Aa(a)),Ti(a),g=a.type,v=a.pendingProps,w=i!==null?i.memoizedProps:null,h=v.children,jv(g,v)?h=null:w!==null&&jv(g,w)&&(a.flags|=32),a.memoizedState!==null&&(g=I0(i,a,ZM,null,null,c),Jh._currentValue=g),zm(i,a),Sn(i,a,h,c),a.child;case 6:return i===null&&Qe&&((i=c=xt)&&(c=UP(c,a.pendingProps,Vs),c!==null?(a.stateNode=c,Tn=a,xt=null,i=!0):i=!1),i||Aa(a)),null;case 13:return jE(i,a,c);case 4:return _n(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=il(a,null,h,c):Sn(i,a,h,c),a.child;case 11:return wE(i,a,a.type,a.pendingProps,c);case 7:return Sn(i,a,a.pendingProps,c),a.child;case 8:return Sn(i,a,a.pendingProps.children,c),a.child;case 12:return Sn(i,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Ca(a,a.type,h.value),Sn(i,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,el(a),g=En(g),h=h(g),a.flags|=1,Sn(i,a,h,c),a.child;case 14:return TE(i,a,a.type,a.pendingProps,c);case 15:return EE(i,a,a.type,a.pendingProps,c);case 19:return kE(i,a,c);case 31:return oP(i,a,c);case 22:return SE(i,a,c,a.pendingProps);case 24:return el(a),h=En(Gt),i===null?(g=b0(),g===null&&(g=vt,v=v0(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),a.memoizedState={parent:h,cache:g},w0(a),Ca(a,Gt,g)):((i.lanes&c)!==0&&(T0(i,a),Dh(a,null,null,c),jh()),g=i.memoizedState,v=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ca(a,Gt,h)):(h=v.cache,Ca(a,Gt,h),h!==g.cache&&y0(a,[Gt],c,!0))),Sn(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Tr(i){i.flags|=4}function iv(i,a,c,h,g){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(oS())i.flags|=8192;else throw sl=Am,x0}else i.flags&=-16777217}function ME(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!YS(a))if(oS())i.flags|=8192;else throw sl=Am,x0}function qm(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ih():536870912,i.lanes|=a,Mc|=a)}function Vh(i,a){if(!Qe)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function wt(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function cP(i,a,c){var h=a.pendingProps;switch(d0(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(a),null;case 1:return wt(a),null;case 3:return c=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),_r(Gt),It(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(wc(a)?Tr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,m0())),wt(a),null;case 26:var g=a.type,v=a.memoizedState;return i===null?(Tr(a),v!==null?(wt(a),ME(a,v)):(wt(a),iv(a,g,null,h,c))):v?v!==i.memoizedState?(Tr(a),wt(a),ME(a,v)):(wt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Tr(a),wt(a),iv(a,g,i,h,c)),null;case 27:if(ir(a),c=Ue.current,g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Tr(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return wt(a),null}i=ge.current,wc(a)?mT(a):(i=BS(g,h,c),a.stateNode=i,Tr(a))}return wt(a),null;case 5:if(ir(a),g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Tr(a);else{if(!h){if(a.stateNode===null)throw Error(s(166));return wt(a),null}if(v=ge.current,wc(a))mT(a);else{var w=ip(Ue.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof h.is=="string"?w.createElement("select",{is:h.is}):w.createElement("select"),h.multiple?v.multiple=!0:h.size&&(v.size=h.size);break;default:v=typeof h.is=="string"?w.createElement(g,{is:h.is}):w.createElement(g)}}v[kt]=a,v[wn]=h;e:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break e;for(;w.sibling===null;){if(w.return===null||w.return===a)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=v;e:switch(An(v,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Tr(a)}}return wt(a),iv(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,c),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Tr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(s(166));if(i=Ue.current,wc(a)){if(i=a.stateNode,c=a.memoizedProps,h=null,g=Tn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[kt]=a,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||jS(i.nodeValue,c)),i||Aa(a,!0)}else i=ip(i).createTextNode(h),i[kt]=a,a.stateNode=i}return wt(a),null;case 31:if(c=a.memoizedState,i===null||i.memoizedState!==null){if(h=wc(a),c!==null){if(i===null){if(!h)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[kt]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),i=!1}else c=m0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return a.flags&256?(ws(a),a):(ws(a),null);if((a.flags&128)!==0)throw Error(s(558))}return wt(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=wc(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[kt]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wt(a),g=!1}else g=m0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ws(a),a):(ws(a),null)}return ws(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)),c!==i&&c&&(a.child.flags|=8192),qm(a,a.updateQueue),wt(a),null);case 4:return It(),i===null&&Av(a.stateNode.containerInfo),wt(a),null;case 10:return _r(a.type),wt(a),null;case 19:if(se(Ft),h=a.memoizedState,h===null)return wt(a),null;if(g=(a.flags&128)!==0,v=h.rendering,v===null)if(g)Vh(h,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=Im(i),v!==null){for(a.flags|=128,Vh(h,!1),i=v.updateQueue,a.updateQueue=i,qm(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)cT(c,i),c=c.sibling;return ue(Ft,Ft.current&1|2),Qe&&yr(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&bn()>Wm&&(a.flags|=128,g=!0,Vh(h,!1),a.lanes=4194304)}else{if(!g)if(i=Im(v),i!==null){if(a.flags|=128,g=!0,i=i.updateQueue,a.updateQueue=i,qm(a,i),Vh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Qe)return wt(a),null}else 2*bn()-h.renderingStartTime>Wm&&c!==536870912&&(a.flags|=128,g=!0,Vh(h,!1),a.lanes=4194304);h.isBackwards?(v.sibling=a.child,a.child=v):(i=h.last,i!==null?i.sibling=v:a.child=v,h.last=v)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,c=Ft.current,ue(Ft,g?c&1|2:c&1),Qe&&yr(a,h.treeForkCount),i):(wt(a),null);case 22:case 23:return ws(a),C0(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(wt(a),a.subtreeFlags&6&&(a.flags|=8192)):wt(a),c=a.updateQueue,c!==null&&qm(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),i!==null&&se(tl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_r(Gt),wt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function uP(i,a){switch(d0(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return _r(Gt),It(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ir(a),null;case 31:if(a.memoizedState!==null){if(ws(a),a.alternate===null)throw Error(s(340));Jo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(ws(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Jo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return se(Ft),null;case 4:return It(),null;case 10:return _r(a.type),null;case 22:case 23:return ws(a),C0(),i!==null&&se(tl),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return _r(Gt),null;case 25:return null;default:return null}}function PE(i,a){switch(d0(a),a.tag){case 3:_r(Gt),It();break;case 26:case 27:case 5:ir(a);break;case 4:It();break;case 31:a.memoizedState!==null&&ws(a);break;case 13:ws(a);break;case 19:se(Ft);break;case 10:_r(a.type);break;case 22:case 23:ws(a),C0(),i!==null&&se(tl);break;case 24:_r(Gt)}}function Uh(i,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){h=void 0;var v=c.create,w=c.inst;h=v(),w.destroy=h}c=c.next}while(c!==g)}}catch(A){ht(a,a.return,A)}}function ka(i,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var w=h.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,g=a;var V=c,X=A;try{X()}catch(ie){ht(g,V,ie)}}}h=h.next}while(h!==v)}}catch(ie){ht(a,a.return,ie)}}function LE(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{CT(a,c)}catch(h){ht(i,i.return,h)}}}function VE(i,a,c){c.props=al(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){ht(i,a,h)}}function Fh(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(g){ht(i,a,g)}}function Oi(i,a){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){ht(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ht(i,a,g)}else c.current=null}function UE(i){var a=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){ht(i,i.return,g)}}function rv(i,a,c){try{var h=i.stateNode;DP(h,i.type,c,a),h[wn]=a}catch(g){ht(i,i.return,g)}}function FE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fa(i.type)||i.tag===4}function av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||FE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ov(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=on));else if(h!==4&&(h===27&&Fa(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(ov(i,a,c),i=i.sibling;i!==null;)ov(i,a,c),i=i.sibling}function Hm(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(h===27&&Fa(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Hm(i,a,c),i=i.sibling;i!==null;)Hm(i,a,c),i=i.sibling}function zE(i){var a=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);An(a,h,c),a[kt]=i,a[wn]=c}catch(v){ht(i,i.return,v)}}var Er=!1,Wt=!1,lv=!1,BE=typeof WeakSet=="function"?WeakSet:Set,un=null;function hP(i,a){if(i=i.containerInfo,Rv=hp,i=eT(i),t0(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var w=0,A=-1,V=-1,X=0,ie=0,ae=i,J=null;t:for(;;){for(var ee;ae!==c||g!==0&&ae.nodeType!==3||(A=w+g),ae!==v||h!==0&&ae.nodeType!==3||(V=w+h),ae.nodeType===3&&(w+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)J=ae,ae=ee;for(;;){if(ae===i)break t;if(J===c&&++X===g&&(A=w),J===v&&++ie===h&&(V=w),(ee=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=ee}c=A===-1||V===-1?null:{start:A,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Iv={focusedElem:i,selectionRange:c},hp=!1,un=a;un!==null;)if(a=un,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,un=i;else for(;un!==null;){switch(a=un,v=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,c=a,g=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var ve=al(c.type,g);i=h.getSnapshotBeforeUpdate(ve,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ht(c,c.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)kv(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,un=i;break}un=a.return}}function qE(i,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ar(i,c),h&4&&Uh(5,c);break;case 1:if(Ar(i,c),h&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(w){ht(c,c.return,w)}else{var g=al(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ht(c,c.return,w)}}h&64&&LE(c),h&512&&Fh(c,c.return);break;case 3:if(Ar(i,c),h&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{CT(i,a)}catch(w){ht(c,c.return,w)}}break;case 27:a===null&&h&4&&zE(c);case 26:case 5:Ar(i,c),a===null&&h&4&&UE(c),h&512&&Fh(c,c.return);break;case 12:Ar(i,c);break;case 31:Ar(i,c),h&4&&$E(i,c);break;case 13:Ar(i,c),h&4&&KE(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=bP.bind(null,c),FP(i,c))));break;case 22:if(h=c.memoizedState!==null||Er,!h){a=a!==null&&a.memoizedState!==null||Wt,g=Er;var v=Wt;Er=h,(Wt=a)&&!v?Cr(i,c,(c.subtreeFlags&8772)!==0):Ar(i,c),Er=g,Wt=v}break;case 30:break;default:Ar(i,c)}}function HE(i){var a=i.alternate;a!==null&&(i.alternate=null,HE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Vo(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,ss=!1;function Sr(i,a,c){for(c=c.child;c!==null;)GE(i,a,c),c=c.sibling}function GE(i,a,c){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ia,c)}catch{}switch(c.tag){case 26:Wt||Oi(c,a),Sr(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||Oi(c,a);var h=Ct,g=ss;Fa(c.type)&&(Ct=c.stateNode,ss=!1),Sr(i,a,c),Qh(c.stateNode),Ct=h,ss=g;break;case 5:Wt||Oi(c,a);case 6:if(h=Ct,g=ss,Ct=null,Sr(i,a,c),Ct=h,ss=g,Ct!==null)if(ss)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(v){ht(c,a,v)}else try{Ct.removeChild(c.stateNode)}catch(v){ht(c,a,v)}break;case 18:Ct!==null&&(ss?(i=Ct,LS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),qc(i)):LS(Ct,c.stateNode));break;case 4:h=Ct,g=ss,Ct=c.stateNode.containerInfo,ss=!0,Sr(i,a,c),Ct=h,ss=g;break;case 0:case 11:case 14:case 15:ka(2,c,a),Wt||ka(4,c,a),Sr(i,a,c);break;case 1:Wt||(Oi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&VE(c,a,h)),Sr(i,a,c);break;case 21:Sr(i,a,c);break;case 22:Wt=(h=Wt)||c.memoizedState!==null,Sr(i,a,c),Wt=h;break;default:Sr(i,a,c)}}function $E(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qc(i)}catch(c){ht(a,a.return,c)}}}function KE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qc(i)}catch(c){ht(a,a.return,c)}}function dP(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new BE),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new BE),a;default:throw Error(s(435,i.tag))}}function Gm(i,a){var c=dP(i);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=xP.bind(null,i,h);h.then(g,g)}})}function is(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],v=i,w=a,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Fa(A.type)){Ct=A.stateNode,ss=!1;break e}break;case 5:Ct=A.stateNode,ss=!1;break e;case 3:case 4:Ct=A.stateNode.containerInfo,ss=!0;break e}A=A.return}if(Ct===null)throw Error(s(160));GE(v,w,g),Ct=null,ss=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)WE(a,i),a=a.sibling}var ai=null;function WE(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:is(a,i),rs(i),h&4&&(ka(3,i,i.return),Uh(3,i),ka(5,i,i.return));break;case 1:is(a,i),rs(i),h&512&&(Wt||c===null||Oi(c,c.return)),h&64&&Er&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=ai;if(is(a,i),rs(i),h&512&&(Wt||c===null||Oi(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[lr]||v[kt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),An(v,h,c),v[kt]=i,Ut(v),h=v;break e;case"link":var w=WS("link","href",g).get(h+(c.href||""));if(w){for(var A=0;A<w.length;A++)if(v=w[A],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(A,1);break t}}v=g.createElement(h),An(v,h,c),g.head.appendChild(v);break;case"meta":if(w=WS("meta","content",g).get(h+(c.content||""))){for(A=0;A<w.length;A++)if(v=w[A],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(A,1);break t}}v=g.createElement(h),An(v,h,c),g.head.appendChild(v);break;default:throw Error(s(468,h))}v[kt]=i,Ut(v),h=v}i.stateNode=h}else QS(g,i.type,i.stateNode);else i.stateNode=KS(g,h,i.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?QS(g,i.type,i.stateNode):KS(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&rv(i,i.memoizedProps,c.memoizedProps)}break;case 27:is(a,i),rs(i),h&512&&(Wt||c===null||Oi(c,c.return)),c!==null&&h&4&&rv(i,i.memoizedProps,c.memoizedProps);break;case 5:if(is(a,i),rs(i),h&512&&(Wt||c===null||Oi(c,c.return)),i.flags&32){g=i.stateNode;try{ks(g,"")}catch(ve){ht(i,i.return,ve)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,rv(i,g,c!==null?c.memoizedProps:g)),h&1024&&(lv=!0);break;case 6:if(is(a,i),rs(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(ve){ht(i,i.return,ve)}}break;case 3:if(op=null,g=ai,ai=rp(a.containerInfo),is(a,i),ai=g,rs(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{qc(a.containerInfo)}catch(ve){ht(i,i.return,ve)}lv&&(lv=!1,QE(i));break;case 4:h=ai,ai=rp(i.stateNode.containerInfo),is(a,i),rs(i),ai=h;break;case 12:is(a,i),rs(i);break;case 31:is(a,i),rs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Gm(i,h)));break;case 13:is(a,i),rs(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Km=bn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Gm(i,h)));break;case 22:g=i.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,X=Er,ie=Wt;if(Er=X||g,Wt=ie||V,is(a,i),Wt=ie,Er=X,rs(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||V||Er||Wt||ol(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){V=c=a;try{if(v=V.stateNode,g)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var ae=V.memoizedProps.style,J=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ve){ht(V,V.return,ve)}}}else if(a.tag===6){if(c===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(ve){ht(V,V.return,ve)}}}else if(a.tag===18){if(c===null){V=a;try{var ee=V.stateNode;g?VS(ee,!0):VS(V.stateNode,!1)}catch(ve){ht(V,V.return,ve)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Gm(i,c))));break;case 19:is(a,i),rs(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Gm(i,h)));break;case 30:break;case 21:break;default:is(a,i),rs(i)}}function rs(i){var a=i.flags;if(a&2){try{for(var c,h=i.return;h!==null;){if(FE(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var g=c.stateNode,v=av(i);Hm(i,v,g);break;case 5:var w=c.stateNode;c.flags&32&&(ks(w,""),c.flags&=-33);var A=av(i);Hm(i,A,w);break;case 3:case 4:var V=c.stateNode.containerInfo,X=av(i);ov(i,X,V);break;default:throw Error(s(161))}}catch(ie){ht(i,i.return,ie)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function QE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;QE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ar(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qE(i,a.alternate,a),a=a.sibling}function ol(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ka(4,a,a.return),ol(a);break;case 1:Oi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&VE(a,a.return,c),ol(a);break;case 27:Qh(a.stateNode);case 26:case 5:Oi(a,a.return),ol(a);break;case 22:a.memoizedState===null&&ol(a);break;case 30:ol(a);break;default:ol(a)}i=i.sibling}}function Cr(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,v=a,w=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(g,v,c),Uh(4,v);break;case 1:if(Cr(g,v,c),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){ht(h,h.return,X)}if(h=v,g=h.updateQueue,g!==null){var A=h.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)AT(V[g],A)}catch(X){ht(h,h.return,X)}}c&&w&64&&LE(v),Fh(v,v.return);break;case 27:zE(v);case 26:case 5:Cr(g,v,c),c&&h===null&&w&4&&UE(v),Fh(v,v.return);break;case 12:Cr(g,v,c);break;case 31:Cr(g,v,c),c&&w&4&&$E(g,v);break;case 13:Cr(g,v,c),c&&w&4&&KE(g,v);break;case 22:v.memoizedState===null&&Cr(g,v,c),Fh(v,v.return);break;case 30:break;default:Cr(g,v,c)}a=a.sibling}}function cv(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ah(c))}function uv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i))}function oi(i,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)YE(i,a,c,h),a=a.sibling}function YE(i,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:oi(i,a,c,h),g&2048&&Uh(9,a);break;case 1:oi(i,a,c,h);break;case 3:oi(i,a,c,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i)));break;case 12:if(g&2048){oi(i,a,c,h),i=a.stateNode;try{var v=a.memoizedProps,w=v.id,A=v.onPostCommit;typeof A=="function"&&A(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ht(a,a.return,V)}}else oi(i,a,c,h);break;case 31:oi(i,a,c,h);break;case 13:oi(i,a,c,h);break;case 23:break;case 22:v=a.stateNode,w=a.alternate,a.memoizedState!==null?v._visibility&2?oi(i,a,c,h):zh(i,a):v._visibility&2?oi(i,a,c,h):(v._visibility|=2,Dc(i,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&cv(w,a);break;case 24:oi(i,a,c,h),g&2048&&uv(a.alternate,a);break;default:oi(i,a,c,h)}}function Dc(i,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=i,w=a,A=c,V=h,X=w.flags;switch(w.tag){case 0:case 11:case 15:Dc(v,w,A,V,g),Uh(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?Dc(v,w,A,V,g):zh(v,w):(ie._visibility|=2,Dc(v,w,A,V,g)),g&&X&2048&&cv(w.alternate,w);break;case 24:Dc(v,w,A,V,g),g&&X&2048&&uv(w.alternate,w);break;default:Dc(v,w,A,V,g)}a=a.sibling}}function zh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,h=a,g=h.flags;switch(h.tag){case 22:zh(c,h),g&2048&&cv(h.alternate,h);break;case 24:zh(c,h),g&2048&&uv(h.alternate,h);break;default:zh(c,h)}a=a.sibling}}var Bh=8192;function kc(i,a,c){if(i.subtreeFlags&Bh)for(i=i.child;i!==null;)XE(i,a,c),i=i.sibling}function XE(i,a,c){switch(i.tag){case 26:kc(i,a,c),i.flags&Bh&&i.memoizedState!==null&&JP(c,ai,i.memoizedState,i.memoizedProps);break;case 5:kc(i,a,c);break;case 3:case 4:var h=ai;ai=rp(i.stateNode.containerInfo),kc(i,a,c),ai=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Bh,Bh=16777216,kc(i,a,c),Bh=h):kc(i,a,c));break;default:kc(i,a,c)}}function JE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function qh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];un=h,eS(h,i)}JE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ZE(i),i=i.sibling}function ZE(i){switch(i.tag){case 0:case 11:case 15:qh(i),i.flags&2048&&ka(9,i,i.return);break;case 3:qh(i);break;case 12:qh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,$m(i)):qh(i);break;default:qh(i)}}function $m(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];un=h,eS(h,i)}JE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ka(8,a,a.return),$m(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,$m(a));break;default:$m(a)}i=i.sibling}}function eS(i,a){for(;un!==null;){var c=un;switch(c.tag){case 0:case 11:case 15:ka(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ah(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,un=h;else e:for(c=i;un!==null;){h=un;var g=h.sibling,v=h.return;if(HE(h),h===c){un=null;break e}if(g!==null){g.return=v,un=g;break e}un=v}}}var fP={getCacheForType:function(i){var a=En(Gt),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c},cacheSignal:function(){return En(Gt).controller.signal}},mP=typeof WeakMap=="function"?WeakMap:Map,rt=0,vt=null,Be=null,Ge=0,ut=0,Ts=null,Oa=!1,Oc=!1,hv=!1,Nr=0,Pt=0,Ma=0,ll=0,dv=0,Es=0,Mc=0,Hh=null,as=null,fv=!1,Km=0,tS=0,Wm=1/0,Qm=null,Pa=null,tn=0,La=null,Pc=null,Rr=0,mv=0,pv=null,nS=null,Gh=0,gv=null;function Ss(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:ne.T!==null?wv():or()}function sS(){if(Es===0)if((Ge&536870912)===0||Qe){var i=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),Es=i}else Es=536870912;return i=xs.current,i!==null&&(i.flags|=32),Es}function os(i,a,c){(i===vt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Lc(i,0),Va(i,Ge,Es,!1)),oa(i,c),((rt&2)===0||i!==vt)&&(i===vt&&((rt&2)===0&&(ll|=c),Pt===4&&Va(i,Ge,Es,!1)),Mi(i))}function iS(i,a,c){if((rt&6)!==0)throw Error(s(327));var h=!c&&(a&127)===0&&(a&i.expiredLanes)===0||aa(i,a),g=h?yP(i,a):vv(i,a,!0),v=h;do{if(g===0){Oc&&!h&&Va(i,a,0,!1);break}else{if(c=i.current.alternate,v&&!pP(c)){g=vv(i,a,!1),v=!1;continue}if(g===2){if(v=a,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var A=i;g=Hh;var V=A.current.memoizedState.isDehydrated;if(V&&(Lc(A,w).flags|=256),w=vv(A,w,!1),w!==2){if(hv&&!V){A.errorRecoveryDisabledLanes|=v,ll|=v,g=4;break e}v=as,as=g,v!==null&&(as===null?as=v:as.push.apply(as,v))}g=w}if(v=!1,g!==2)continue}}if(g===1){Lc(i,0),Va(i,a,0,!0);break}e:{switch(h=i,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Va(h,a,Es,!Oa);break e;case 2:as=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=Km+300-bn(),10<g)){if(Va(h,a,Es,!Oa),js(h,0,!0)!==0)break e;Rr=a,h.timeoutHandle=MS(rS.bind(null,h,c,as,Qm,fv,a,Es,ll,Mc,Oa,v,"Throttled",-0,0),g);break e}rS(h,c,as,Qm,fv,a,Es,ll,Mc,Oa,v,null,-0,0)}}break}while(!0);Mi(i)}function rS(i,a,c,h,g,v,w,A,V,X,ie,ae,J,ee){if(i.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},XE(a,v,ae);var ve=(v&62914560)===v?Km-bn():(v&4194048)===v?tS-bn():0;if(ve=ZP(ae,ve),ve!==null){Rr=v,i.cancelPendingCommit=ve(fS.bind(null,i,a,v,c,h,g,w,A,V,ie,ae,null,J,ee)),Va(i,v,w,!X);return}}fS(i,a,v,c,h,g,w,A,V)}function pP(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],v=g.getSnapshot;g=g.value;try{if(!_s(v(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(i,a,c,h){a&=~dv,a&=~ll,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var v=31-qn(g),w=1<<v;h[v]=-1,g&=~w}c!==0&&rh(i,c,a)}function Ym(){return(rt&6)===0?($h(0),!1):!0}function yv(){if(Be!==null){if(ut===0)var i=Be.return;else i=Be,vr=Zo=null,k0(i),Cc=null,Nh=0,i=Be;for(;i!==null;)PE(i.alternate,i),i=i.return;Be=null}}function Lc(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,MP(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Rr=0,yv(),vt=i,Be=c=gr(i.current,null),Ge=a,ut=0,Ts=null,Oa=!1,Oc=aa(i,a),hv=!1,Mc=Es=dv=ll=Ma=Pt=0,as=Hh=null,fv=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-qn(h),v=1<<g;a|=i[g],h&=~v}return Nr=a,ym(),c}function aS(i,a){Oe=null,ne.H=Ph,a===Ac||a===Sm?(a=wT(),ut=3):a===x0?(a=wT(),ut=4):ut=a===Q0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ts=a,Be===null&&(Pt=1,Um(i,Ms(a,i.current)))}function oS(){var i=xs.current;return i===null?!0:(Ge&4194048)===Ge?Us===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===Us:!1}function lS(){var i=ne.H;return ne.H=Ph,i===null?Ph:i}function cS(){var i=ne.A;return ne.A=fP,i}function Xm(){Pt=4,Oa||(Ge&4194048)!==Ge&&xs.current!==null||(Oc=!0),(Ma&134217727)===0&&(ll&134217727)===0||vt===null||Va(vt,Ge,Es,!1)}function vv(i,a,c){var h=rt;rt|=2;var g=lS(),v=cS();(vt!==i||Ge!==a)&&(Qm=null,Lc(i,a)),a=!1;var w=Pt;e:do try{if(ut!==0&&Be!==null){var A=Be,V=Ts;switch(ut){case 8:yv(),w=6;break e;case 3:case 2:case 9:case 6:xs.current===null&&(a=!0);var X=ut;if(ut=0,Ts=null,Vc(i,A,V,X),c&&Oc){w=0;break e}break;default:X=ut,ut=0,Ts=null,Vc(i,A,V,X)}}gP(),w=Pt;break}catch(ie){aS(i,ie)}while(!0);return a&&i.shellSuspendCounter++,vr=Zo=null,rt=h,ne.H=g,ne.A=v,Be===null&&(vt=null,Ge=0,ym()),w}function gP(){for(;Be!==null;)uS(Be)}function yP(i,a){var c=rt;rt|=2;var h=lS(),g=cS();vt!==i||Ge!==a?(Qm=null,Wm=bn()+500,Lc(i,a)):Oc=aa(i,a);e:do try{if(ut!==0&&Be!==null){a=Be;var v=Ts;t:switch(ut){case 1:ut=0,Ts=null,Vc(i,a,v,1);break;case 2:case 9:if(bT(v)){ut=0,Ts=null,hS(a);break}a=function(){ut!==2&&ut!==9||vt!==i||(ut=7),Mi(i)},v.then(a,a);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:bT(v)?(ut=0,Ts=null,hS(a)):(ut=0,Ts=null,Vc(i,a,v,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var A=Be;if(w?YS(w):A.stateNode.complete){ut=0,Ts=null;var V=A.sibling;if(V!==null)Be=V;else{var X=A.return;X!==null?(Be=X,Jm(X)):Be=null}break t}}ut=0,Ts=null,Vc(i,a,v,5);break;case 6:ut=0,Ts=null,Vc(i,a,v,6);break;case 8:yv(),Pt=6;break e;default:throw Error(s(462))}}vP();break}catch(ie){aS(i,ie)}while(!0);return vr=Zo=null,ne.H=h,ne.A=g,rt=c,Be!==null?0:(vt=null,Ge=0,ym(),Pt)}function vP(){for(;Be!==null&&!Hy();)uS(Be)}function uS(i){var a=OE(i.alternate,i,Nr);i.memoizedProps=i.pendingProps,a===null?Jm(i):Be=a}function hS(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=NE(c,a,a.pendingProps,a.type,void 0,Ge);break;case 11:a=NE(c,a,a.pendingProps,a.type.render,a.ref,Ge);break;case 5:k0(a);default:PE(c,a),a=Be=cT(a,Nr),a=OE(c,a,Nr)}i.memoizedProps=i.pendingProps,a===null?Jm(i):Be=a}function Vc(i,a,c,h){vr=Zo=null,k0(a),Cc=null,Nh=0;var g=a.return;try{if(aP(i,g,a,c,Ge)){Pt=1,Um(i,Ms(c,i.current)),Be=null;return}}catch(v){if(g!==null)throw Be=g,v;Pt=1,Um(i,Ms(c,i.current)),Be=null;return}a.flags&32768?(Qe||h===1?i=!0:Oc||(Ge&536870912)!==0?i=!1:(Oa=i=!0,(h===2||h===9||h===3||h===6)&&(h=xs.current,h!==null&&h.tag===13&&(h.flags|=16384))),dS(a,i)):Jm(a)}function Jm(i){var a=i;do{if((a.flags&32768)!==0){dS(a,Oa);return}i=a.return;var c=cP(a.alternate,a,Nr);if(c!==null){Be=c;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=i}while(a!==null);Pt===0&&(Pt=5)}function dS(i,a){do{var c=uP(i.alternate,i);if(c!==null){c.flags&=32767,Be=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){Be=i;return}Be=i=c}while(i!==null);Pt=6,Be=null}function fS(i,a,c,h,g,v,w,A,V){i.cancelPendingCommit=null;do Zm();while(tn!==0);if((rt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(v=a.lanes|a.childLanes,v|=a0,xn(i,c,v,w,A,V),i===vt&&(Be=vt=null,Ge=0),Pc=a,La=i,Rr=c,mv=v,pv=g,nS=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wP(rr,function(){return vS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,g=le.p,le.p=2,w=rt,rt|=4;try{hP(i,a,c)}finally{rt=w,le.p=g,ne.T=h}}tn=1,mS(),pS(),gS()}}function mS(){if(tn===1){tn=0;var i=La,a=Pc,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=ne.T,ne.T=null;var h=le.p;le.p=2;var g=rt;rt|=4;try{WE(a,i);var v=Iv,w=eT(i.containerInfo),A=v.focusedElem,V=v.selectionRange;if(w!==A&&A&&A.ownerDocument&&Zw(A.ownerDocument.documentElement,A)){if(V!==null&&t0(A)){var X=V.start,ie=V.end;if(ie===void 0&&(ie=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ie,A.value.length);else{var ae=A.ownerDocument||document,J=ae&&ae.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ve=A.textContent.length,Ae=Math.min(V.start,ve),mt=V.end===void 0?Ae:Math.min(V.end,ve);!ee.extend&&Ae>mt&&(w=mt,mt=Ae,Ae=w);var G=Jw(A,Ae),B=Jw(A,mt);if(G&&B&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var Y=ae.createRange();Y.setStart(G.node,G.offset),ee.removeAllRanges(),Ae>mt?(ee.addRange(Y),ee.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),ee.addRange(Y))}}}}for(ae=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hp=!!Rv,Iv=Rv=null}finally{rt=g,le.p=h,ne.T=c}}i.current=a,tn=2}}function pS(){if(tn===2){tn=0;var i=La,a=Pc,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=ne.T,ne.T=null;var h=le.p;le.p=2;var g=rt;rt|=4;try{qE(i,a.alternate,a)}finally{rt=g,le.p=h,ne.T=c}}tn=3}}function gS(){if(tn===4||tn===3){tn=0,th();var i=La,a=Pc,c=Rr,h=nS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Pc=La=null,yS(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Pa=null),oh(c),a=a.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ia,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=ne.T,g=le.p,le.p=2,ne.T=null;try{for(var v=i.onRecoverableError,w=0;w<h.length;w++){var A=h[w];v(A.value,{componentStack:A.stack})}}finally{ne.T=a,le.p=g}}(Rr&3)!==0&&Zm(),Mi(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===gv?Gh++:(Gh=0,gv=i):Gh=0,$h(0)}}function yS(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ah(a)))}function Zm(){return mS(),pS(),gS(),vS()}function vS(){if(tn!==5)return!1;var i=La,a=mv;mv=0;var c=oh(Rr),h=ne.T,g=le.p;try{le.p=32>c?32:c,ne.T=null,c=pv,pv=null;var v=La,w=Rr;if(tn=0,Pc=La=null,Rr=0,(rt&6)!==0)throw Error(s(331));var A=rt;if(rt|=4,ZE(v.current),YE(v,v.current,w,c),rt=A,$h(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ia,v)}catch{}return!0}finally{le.p=g,ne.T=h,yS(i,a)}}function _S(i,a,c){a=Ms(c,a),a=W0(i.stateNode,a,2),i=Ia(i,a,2),i!==null&&(oa(i,2),Mi(i))}function ht(i,a,c){if(i.tag===3)_S(i,i,c);else for(;a!==null;){if(a.tag===3){_S(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pa===null||!Pa.has(h))){i=Ms(c,i),c=bE(2),h=Ia(a,c,2),h!==null&&(xE(c,h,a,i),oa(h,2),Mi(h));break}}a=a.return}}function _v(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new mP;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(hv=!0,g.add(c),i=_P.bind(null,i,a,c),a.then(i,i))}function _P(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,vt===i&&(Ge&c)===c&&(Pt===4||Pt===3&&(Ge&62914560)===Ge&&300>bn()-Km?(rt&2)===0&&Lc(i,0):dv|=c,Mc===Ge&&(Mc=0)),Mi(i)}function bS(i,a){a===0&&(a=ih()),i=Yo(i,a),i!==null&&(oa(i,a),Mi(i))}function bP(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),bS(i,c)}function xP(i,a){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(a),bS(i,c)}function wP(i,a){return Mo(i,a)}var ep=null,Uc=null,bv=!1,tp=!1,xv=!1,Ua=0;function Mi(i){i!==Uc&&i.next===null&&(Uc===null?ep=Uc=i:Uc=Uc.next=i),tp=!0,bv||(bv=!0,EP())}function $h(i,a){if(!xv&&tp){xv=!0;do for(var c=!1,h=ep;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var w=h.suspendedLanes,A=h.pingedLanes;v=(1<<31-qn(42|i)+1)-1,v&=g&~(w&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,ES(h,v))}else v=Ge,v=js(h,h===vt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||aa(h,v)||(c=!0,ES(h,v));h=h.next}while(c);xv=!1}}function TP(){xS()}function xS(){tp=bv=!1;var i=0;Ua!==0&&OP()&&(i=Ua);for(var a=bn(),c=null,h=ep;h!==null;){var g=h.next,v=wS(h,a);v===0?(h.next=null,c===null?ep=g:c.next=g,g===null&&(Uc=c)):(c=h,(i!==0||(v&3)!==0)&&(tp=!0)),h=g}tn!==0&&tn!==5||$h(i),Ua!==0&&(Ua=0)}function wS(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-qn(v),A=1<<w,V=g[w];V===-1?((A&c)===0||(A&h)!==0)&&(g[w]=rc(A,a)):V<=a&&(i.expiredLanes|=A),v&=~A}if(a=vt,c=Ge,c=js(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===a&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ic(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||aa(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(h!==null&&ic(h),oh(c)){case 2:case 8:c=an;break;case 32:c=rr;break;case 268435456:c=nh;break;default:c=rr}return h=TS.bind(null,i),c=Mo(c,h),i.callbackPriority=a,i.callbackNode=c,a}return h!==null&&h!==null&&ic(h),i.callbackPriority=2,i.callbackNode=null,2}function TS(i,a){if(tn!==0&&tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Zm()&&i.callbackNode!==c)return null;var h=Ge;return h=js(i,i===vt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(iS(i,h,a),wS(i,bn()),i.callbackNode!=null&&i.callbackNode===c?TS.bind(null,i):null)}function ES(i,a){if(Zm())return null;iS(i,a,!0)}function EP(){PP(function(){(rt&6)!==0?Mo(en,TP):xS()})}function wv(){if(Ua===0){var i=Ec;i===0&&(i=Lo,Lo<<=1,(Lo&261888)===0&&(Lo=256)),Ua=i}return Ua}function SS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ri(""+i)}function AS(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function SP(i,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var v=SS((g[wn]||null).action),w=h.submitter;w&&(a=(a=w[wn]||null)?SS(a.formAction):w.getAttribute("formAction"),a!==null&&(v=a,w=null));var A=new qo("action","action",null,h,g);i.push({event:A,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ua!==0){var V=w?AS(g,w):new FormData(g);B0(c,{pending:!0,data:V,method:g.method,action:v},null,V)}}else typeof v=="function"&&(A.preventDefault(),V=w?AS(g,w):new FormData(g),B0(c,{pending:!0,data:V,method:g.method,action:v},v,V))},currentTarget:g}]})}}for(var Tv=0;Tv<r0.length;Tv++){var Ev=r0[Tv],AP=Ev.toLowerCase(),CP=Ev[0].toUpperCase()+Ev.slice(1);ri(AP,"on"+CP)}ri(sT,"onAnimationEnd"),ri(iT,"onAnimationIteration"),ri(rT,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(qM,"onTransitionRun"),ri(HM,"onTransitionStart"),ri(GM,"onTransitionCancel"),ri(aT,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function CS(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var w=h.length-1;0<=w;w--){var A=h[w],V=A.instance,X=A.currentTarget;if(A=A.listener,V!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=X;try{v(g)}catch(ie){gm(ie)}g.currentTarget=null,v=V}else for(w=0;w<h.length;w++){if(A=h[w],V=A.instance,X=A.currentTarget,A=A.listener,V!==v&&g.isPropagationStopped())break e;v=A,g.currentTarget=X;try{v(g)}catch(ie){gm(ie)}g.currentTarget=null,v=V}}}}function qe(i,a){var c=a[ua];c===void 0&&(c=a[ua]=new Set);var h=i+"__bubble";c.has(h)||(NS(a,i,2,!1),c.add(h))}function Sv(i,a,c){var h=0;a&&(h|=4),NS(c,i,h,a)}var np="_reactListening"+Math.random().toString(36).slice(2);function Av(i){if(!i[np]){i[np]=!0,ac.forEach(function(c){c!=="selectionchange"&&(NP.has(c)||Sv(c,!1,i),Sv(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[np]||(a[np]=!0,Sv("selectionchange",!1,a))}}function NS(i,a,c,h){switch(s2(a)){case 2:var g=n6;break;case 8:g=s6;break;default:g=zv}c=g.bind(null,a,c,i),g=void 0,!ph||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,c,{capture:!0,passive:g}):i.addEventListener(a,c,!0):g!==void 0?i.addEventListener(a,c,{passive:g}):i.addEventListener(a,c,!1)}function Cv(i,a,c,h,g){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===g)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;A!==null;){if(w=cr(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){h=v=w;continue e}A=A.parentNode}}h=h.return}em(function(){var X=v,ie=hc(c),ae=[];e:{var J=oT.get(i);if(J!==void 0){var ee=qo,ve=i;switch(i){case"keypress":if(Bo(c)===0)break e;case"keydown":case"keyup":ee=cm;break;case"focusin":ve="focus",ee=ba;break;case"focusout":ve="blur",ee=ba;break;case"beforeblur":case"afterblur":ee=ba;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=hm;break;case sT:case iT:case rT:ee=mc;break;case aT:ee=pc;break;case"scroll":case"scrollend":ee=tm;break;case"wheel":ee=fm;break;case"copy":case"cut":case"paste":ee=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=bh;break;case"toggle":case"beforetoggle":ee=wa}var Ae=(a&4)!==0,mt=!Ae&&(i==="scroll"||i==="scrollend"),G=Ae?J!==null?J+"Capture":null:J;Ae=[];for(var B=X,Y;B!==null;){var re=B;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||G===null||(re=ts(B,G),re!=null&&Ae.push(Wh(B,re,Y))),mt)break;B=B.return}0<Ae.length&&(J=new ee(J,ve,null,c,ie),ae.push({event:J,listeners:Ae}))}}if((a&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&c!==uc&&(ve=c.relatedTarget||c.fromElement)&&(cr(ve)||ve[Ai]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ve=c.relatedTarget||c.toElement,ee=X,ve=ve?cr(ve):null,ve!==null&&(mt=o(ve),Ae=ve.tag,ve!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(ee=null,ve=X),ee!==ve)){if(Ae=nm,re="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=bh,re="onPointerLeave",G="onPointerEnter",B="pointer"),mt=ee==null?J:Uo(ee),Y=ve==null?J:Uo(ve),J=new Ae(re,B+"leave",ee,c,ie),J.target=mt,J.relatedTarget=Y,re=null,cr(ie)===X&&(Ae=new Ae(G,B+"enter",ve,c,ie),Ae.target=Y,Ae.relatedTarget=mt,re=Ae),mt=re,ee&&ve)t:{for(Ae=RP,G=ee,B=ve,Y=0,re=G;re;re=Ae(re))Y++;re=0;for(var Te=B;Te;Te=Ae(Te))re++;for(;0<Y-re;)G=Ae(G),Y--;for(;0<re-Y;)B=Ae(B),re--;for(;Y--;){if(G===B||B!==null&&G===B.alternate){Ae=G;break t}G=Ae(G),B=Ae(B)}Ae=null}else Ae=null;ee!==null&&RS(ae,J,ee,Ae,!1),ve!==null&&mt!==null&&RS(ae,mt,ve,Ae,!0)}}e:{if(J=X?Uo(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var st=$w;else if(ns(J))if(Kw)st=FM;else{st=VM;var be=LM}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&fh(X.elementType)&&(st=$w):st=UM;if(st&&(st=st(i,X))){Ko(ae,st,c,ie);break e}be&&be(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&cc(J,"number",J.value)}switch(be=X?Uo(X):window,i){case"focusin":(ns(be)||be.contentEditable==="true")&&(gc=be,n0=X,Th=null);break;case"focusout":Th=n0=gc=null;break;case"mousedown":s0=!0;break;case"contextmenu":case"mouseup":case"dragend":s0=!1,tT(ae,c,ie);break;case"selectionchange":if(BM)break;case"keydown":case"keyup":tT(ae,c,ie)}var Pe;if(b)e:{switch(i){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Fe?at(i,c)&&($e="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(W&&c.locale!=="ko"&&(Fe||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Fe&&(Pe=ga()):(vs=ie,dc="value"in vs?vs.value:vs.textContent,Fe=!0)),be=sp(X,$e),0<be.length&&($e=new yh($e,i,null,c,ie),ae.push({event:$e,listeners:be}),Pe?$e.data=Pe:(Pe=Ht(c),Pe!==null&&($e.data=Pe)))),(Pe=I?ln(i,c):cn(i,c))&&($e=sp(X,"onBeforeInput"),0<$e.length&&(be=new yh("onBeforeInput","beforeinput",null,c,ie),ae.push({event:be,listeners:$e}),be.data=Pe)),SP(ae,i,X,c,ie)}CS(ae,a)})}function Wh(i,a,c){return{instance:i,listener:a,currentTarget:c}}function sp(i,a){for(var c=a+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ts(i,c),g!=null&&h.unshift(Wh(i,g,v)),g=ts(i,a),g!=null&&h.push(Wh(i,g,v))),i.tag===3)return h;i=i.return}return[]}function RP(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function RS(i,a,c,h,g){for(var v=a._reactName,w=[];c!==null&&c!==h;){var A=c,V=A.alternate,X=A.stateNode;if(A=A.tag,V!==null&&V===h)break;A!==5&&A!==26&&A!==27||X===null||(V=X,g?(X=ts(c,v),X!=null&&w.unshift(Wh(c,X,V))):g||(X=ts(c,v),X!=null&&w.push(Wh(c,X,V)))),c=c.return}w.length!==0&&i.push({event:a,listeners:w})}var IP=/\r\n?/g,jP=/\u0000|\uFFFD/g;function IS(i){return(typeof i=="string"?i:""+i).replace(IP,`
`).replace(jP,"")}function jS(i,a){return a=IS(a),IS(i)===a}function ft(i,a,c,h,g,v){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ks(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ks(i,""+h);break;case"className":fa(i,"class",h);break;case"tabIndex":fa(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":fa(i,c,h);break;case"style":Jf(i,h,v);break;case"data":if(a!=="object"){fa(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ri(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&ft(i,a,"name",g.name,g,null),ft(i,a,"formEncType",g.formEncType,g,null),ft(i,a,"formMethod",g.formMethod,g,null),ft(i,a,"formTarget",g.formTarget,g,null)):(ft(i,a,"encType",g.encType,g,null),ft(i,a,"method",g.method,g,null),ft(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ri(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=on);break;case"onScroll":h!=null&&qe("scroll",i);break;case"onScrollEnd":h!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Ri(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":qe("beforetoggle",i),qe("toggle",i),da(i,"popover",h);break;case"xlinkActuate":Ds(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ds(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ds(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ds(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ds(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ds(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ds(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":da(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Yy.get(c)||c,da(i,c,h))}}function Nv(i,a,c,h,g,v){switch(c){case"style":Jf(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof h=="string"?ks(i,h):(typeof h=="number"||typeof h=="bigint")&&ks(i,""+h);break;case"onScroll":h!=null&&qe("scroll",i);break;case"onScrollEnd":h!=null&&qe("scrollend",i);break;case"onClick":h!=null&&(i.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),v=i[wn]||null,v=v!=null?v[c]:null,typeof v=="function"&&i.removeEventListener(a,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,h,g);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):da(i,c,h)}}}function An(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var h=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var w=c[v];if(w!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ft(i,a,v,w,c,null)}}g&&ft(i,a,"srcSet",c.srcSet,c,null),h&&ft(i,a,"src",c.src,c,null);return;case"input":qe("invalid",i);var A=v=w=g=null,V=null,X=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":g=ie;break;case"type":w=ie;break;case"checked":V=ie;break;case"defaultChecked":X=ie;break;case"value":v=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,a));break;default:ft(i,a,h,ie,c,null)}}Fo(i,v,A,V,X,w,g,!1);return;case"select":qe("invalid",i),h=w=v=null;for(g in c)if(c.hasOwnProperty(g)&&(A=c[g],A!=null))switch(g){case"value":v=A;break;case"defaultValue":w=A;break;case"multiple":h=A;default:ft(i,a,g,A,c,null)}a=v,c=w,i.multiple=!!h,a!=null?nt(i,!!h,a,!1):c!=null&&nt(i,!!h,c,!0);return;case"textarea":qe("invalid",i),v=g=h=null;for(w in c)if(c.hasOwnProperty(w)&&(A=c[w],A!=null))switch(w){case"value":h=A;break;case"defaultValue":g=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ft(i,a,w,A,c,null)}pa(i,h,g,v);return;case"option":for(V in c)if(c.hasOwnProperty(V)&&(h=c[V],h!=null))switch(V){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ft(i,a,V,h,c,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(h=0;h<Kh.length;h++)qe(Kh[h],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(h=c[X],h!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ft(i,a,X,h,c,null)}return;default:if(fh(a)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&Nv(i,a,ie,h,c,void 0));return}}for(A in c)c.hasOwnProperty(A)&&(h=c[A],h!=null&&ft(i,a,A,h,c,null))}function DP(i,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,w=null,A=null,V=null,X=null,ie=null;for(ee in c){var ae=c[ee];if(c.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=ae;default:h.hasOwnProperty(ee)||ft(i,a,ee,null,h,ae)}}for(var J in h){var ee=h[J];if(ae=c[J],h.hasOwnProperty(J)&&(ee!=null||ae!=null))switch(J){case"type":v=ee;break;case"name":g=ee;break;case"checked":X=ee;break;case"defaultChecked":ie=ee;break;case"value":w=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,a));break;default:ee!==ae&&ft(i,a,J,ee,h,ae)}}ma(i,w,A,V,X,ie,v,g);return;case"select":ee=w=A=J=null;for(v in c)if(V=c[v],c.hasOwnProperty(v)&&V!=null)switch(v){case"value":break;case"multiple":ee=V;default:h.hasOwnProperty(v)||ft(i,a,v,null,h,V)}for(g in h)if(v=h[g],V=c[g],h.hasOwnProperty(g)&&(v!=null||V!=null))switch(g){case"value":J=v;break;case"defaultValue":A=v;break;case"multiple":w=v;default:v!==V&&ft(i,a,g,v,h,V)}a=A,c=w,h=ee,J!=null?nt(i,!!c,J,!1):!!h!=!!c&&(a!=null?nt(i,!!c,a,!0):nt(i,!!c,c?[]:"",!1));return;case"textarea":ee=J=null;for(A in c)if(g=c[A],c.hasOwnProperty(A)&&g!=null&&!h.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ft(i,a,A,null,h,g)}for(w in h)if(g=h[w],v=c[w],h.hasOwnProperty(w)&&(g!=null||v!=null))switch(w){case"value":J=g;break;case"defaultValue":ee=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&ft(i,a,w,g,h,v)}zo(i,J,ee);return;case"option":for(var ve in c)if(J=c[ve],c.hasOwnProperty(ve)&&J!=null&&!h.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:ft(i,a,ve,null,h,J)}for(V in h)if(J=h[V],ee=c[V],h.hasOwnProperty(V)&&J!==ee&&(J!=null||ee!=null))switch(V){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ft(i,a,V,J,h,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in c)J=c[Ae],c.hasOwnProperty(Ae)&&J!=null&&!h.hasOwnProperty(Ae)&&ft(i,a,Ae,null,h,J);for(X in h)if(J=h[X],ee=c[X],h.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,a));break;default:ft(i,a,X,J,h,ee)}return;default:if(fh(a)){for(var mt in c)J=c[mt],c.hasOwnProperty(mt)&&J!==void 0&&!h.hasOwnProperty(mt)&&Nv(i,a,mt,void 0,h,J);for(ie in h)J=h[ie],ee=c[ie],!h.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||Nv(i,a,ie,J,h,ee);return}}for(var G in c)J=c[G],c.hasOwnProperty(G)&&J!=null&&!h.hasOwnProperty(G)&&ft(i,a,G,null,h,J);for(ae in h)J=h[ae],ee=c[ae],!h.hasOwnProperty(ae)||J===ee||J==null&&ee==null||ft(i,a,ae,J,h,ee)}function DS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kP(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],v=g.transferSize,w=g.initiatorType,A=g.duration;if(v&&A&&DS(w)){for(w=0,A=g.responseEnd,h+=1;h<c.length;h++){var V=c[h],X=V.startTime;if(X>A)break;var ie=V.transferSize,ae=V.initiatorType;ie&&DS(ae)&&(V=V.responseEnd,w+=ie*(V<A?1:(A-X)/(V-X)))}if(--h,a+=8*(v+w)/(g.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rv=null,Iv=null;function ip(i){return i.nodeType===9?i:i.ownerDocument}function kS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function jv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dv=null;function OP(){var i=window.event;return i&&i.type==="popstate"?i===Dv?!1:(Dv=i,!0):(Dv=null,!1)}var MS=typeof setTimeout=="function"?setTimeout:void 0,MP=typeof clearTimeout=="function"?clearTimeout:void 0,PS=typeof Promise=="function"?Promise:void 0,PP=typeof queueMicrotask=="function"?queueMicrotask:typeof PS<"u"?function(i){return PS.resolve(null).then(i).catch(LP)}:MS;function LP(i){setTimeout(function(){throw i})}function Fa(i){return i==="head"}function LS(i,a){var c=a,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(g),qc(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Qh(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Qh(c);for(var v=c.firstChild;v;){var w=v.nextSibling,A=v.nodeName;v[lr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=w}}else c==="body"&&Qh(i.ownerDocument.body);c=g}while(c);qc(a)}function VS(i,a){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function kv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":kv(c),Vo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function VP(i,a,c,h){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[lr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Fs(i.nextSibling),i===null)break}return null}function UP(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Fs(i.nextSibling),i===null))return null;return i}function US(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Fs(i.nextSibling),i===null))return null;return i}function Ov(i){return i.data==="$?"||i.data==="$~"}function Mv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function FP(i,a){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Fs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var Pv=null;function FS(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(a===0)return Fs(i.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}i=i.nextSibling}return null}function zS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return i;a--}else c!=="/$"&&c!=="/&"||a++}i=i.previousSibling}return null}function BS(i,a,c){switch(a=ip(c),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Qh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Vo(i)}var zs=new Map,qS=new Set;function rp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ir=le.d;le.d={f:zP,r:BP,D:qP,C:HP,L:GP,m:$P,X:WP,S:KP,M:QP};function zP(){var i=Ir.f(),a=Ym();return i||a}function BP(i){var a=ur(i);a!==null&&a.tag===5&&a.type==="form"?aE(a):Ir.r(i)}var Fc=typeof document>"u"?null:document;function HS(i,a,c){var h=Fc;if(h&&typeof a=="string"&&a){var g=Ot(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),qS.has(g)||(qS.add(g),i={rel:i,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),An(a,"link",i),Ut(a),h.head.appendChild(a)))}}function qP(i){Ir.D(i),HS("dns-prefetch",i,null)}function HP(i,a){Ir.C(i,a),HS("preconnect",i,a)}function GP(i,a,c){Ir.L(i,a,c);var h=Fc;if(h&&i&&a){var g='link[rel="preload"][as="'+Ot(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Ot(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Ot(c.imageSizes)+'"]')):g+='[href="'+Ot(i)+'"]';var v=g;switch(a){case"style":v=zc(i);break;case"script":v=Bc(i)}zs.has(v)||(i=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),zs.set(v,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(Yh(v))||a==="script"&&h.querySelector(Xh(v))||(a=h.createElement("link"),An(a,"link",i),Ut(a),h.head.appendChild(a)))}}function $P(i,a){Ir.m(i,a);var c=Fc;if(c&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ot(h)+'"][href="'+Ot(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Bc(i)}if(!zs.has(v)&&(i=_({rel:"modulepreload",href:i},a),zs.set(v,i),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xh(v)))return}h=c.createElement("link"),An(h,"link",i),Ut(h),c.head.appendChild(h)}}}function KP(i,a,c){Ir.S(i,a,c);var h=Fc;if(h&&i){var g=si(h).hoistableStyles,v=zc(i);a=a||"default";var w=g.get(v);if(!w){var A={loading:0,preload:null};if(w=h.querySelector(Yh(v)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},c),(c=zs.get(v))&&Lv(i,c);var V=w=h.createElement("link");Ut(V),An(V,"link",i),V._p=new Promise(function(X,ie){V.onload=X,V.onerror=ie}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ap(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:A},g.set(v,w)}}}function WP(i,a){Ir.X(i,a);var c=Fc;if(c&&i){var h=si(c).hoistableScripts,g=Bc(i),v=h.get(g);v||(v=c.querySelector(Xh(g)),v||(i=_({src:i,async:!0},a),(a=zs.get(g))&&Vv(i,a),v=c.createElement("script"),Ut(v),An(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function QP(i,a){Ir.M(i,a);var c=Fc;if(c&&i){var h=si(c).hoistableScripts,g=Bc(i),v=h.get(g);v||(v=c.querySelector(Xh(g)),v||(i=_({src:i,async:!0,type:"module"},a),(a=zs.get(g))&&Vv(i,a),v=c.createElement("script"),Ut(v),An(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function GS(i,a,c,h){var g=(g=Ue.current)?rp(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=zc(c.href),c=si(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=zc(c.href);var v=si(g).hoistableStyles,w=v.get(i);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=g.querySelector(Yh(i)))&&!v._p&&(w.instance=v,w.state.loading=5),zs.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},zs.set(i,c),v||YP(g,i,c,w.state))),a&&h===null)throw Error(s(528,""));return w}if(a&&h!==null)throw Error(s(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bc(c),c=si(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zc(i){return'href="'+Ot(i)+'"'}function Yh(i){return'link[rel="stylesheet"]['+i+"]"}function $S(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function YP(i,a,c,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),An(a,"link",c),Ut(a),i.head.appendChild(a))}function Bc(i){return'[src="'+Ot(i)+'"]'}function Xh(i){return"script[async]"+i}function KS(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Ot(c.href)+'"]');if(h)return a.instance=h,Ut(h),h;var g=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ut(h),An(h,"style",g),ap(h,c.precedence,i),a.instance=h;case"stylesheet":g=zc(c.href);var v=i.querySelector(Yh(g));if(v)return a.state.loading|=4,a.instance=v,Ut(v),v;h=$S(c),(g=zs.get(g))&&Lv(h,g),v=(i.ownerDocument||i).createElement("link"),Ut(v);var w=v;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),An(v,"link",h),a.state.loading|=4,ap(v,c.precedence,i),a.instance=v;case"script":return v=Bc(c.src),(g=i.querySelector(Xh(v)))?(a.instance=g,Ut(g),g):(h=c,(g=zs.get(v))&&(h=_({},c),Vv(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ut(g),An(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,ap(h,c.precedence,i));return a.instance}function ap(i,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,w=0;w<h.length;w++){var A=h[w];if(A.dataset.precedence===a)v=A;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function Lv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Vv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var op=null;function WS(i,a,c){if(op===null){var h=new Map,g=op=new Map;g.set(c,h)}else g=op,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var v=c[g];if(!(v[lr]||v[kt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(a)||"";w=i+w;var A=h.get(w);A?A.push(v):h.set(w,[v])}}return h}function QS(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function XP(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function YS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JP(i,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=zc(h.href),v=a.querySelector(Yh(g));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=lp.bind(i),a.then(i,i)),c.state.loading|=4,c.instance=v,Ut(v);return}v=a.ownerDocument||a,h=$S(h),(g=zs.get(g))&&Lv(h,g),v=v.createElement("link"),Ut(v);var w=v;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),An(v,"link",h),c.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=lp.bind(i),a.addEventListener("load",c),a.addEventListener("error",c))}}var Uv=0;function ZP(i,a){return i.stylesheets&&i.count===0&&up(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&up(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+a);0<i.imgBytes&&Uv===0&&(Uv=62500*kP());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&up(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>Uv?50:800)+a);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function lp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cp=null;function up(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cp=new Map,a.forEach(e6,i),cp=null,lp.call(i))}function e6(i,a){if(!(a.state.loading&4)){var c=cp.get(i);if(c)var h=c.get(null);else{c=new Map,cp.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var w=g[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),h=w)}h&&c.set(null,h)}g=a.instance,w=g.getAttribute("data-precedence"),v=c.get(w)||h,v===h&&c.set(null,g),c.set(w,g),this.count++,h=lp.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Jh={$$typeof:L,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function t6(i,a,c,h,g,v,w,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function XS(i,a,c,h,g,v,w,A,V,X,ie,ae){return i=new t6(i,a,c,w,V,X,ie,ae,A),a=1,v===!0&&(a|=24),v=bs(3,null,null,a),i.current=v,v.stateNode=i,a=v0(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:a},w0(v),i}function JS(i){return i?(i=_c,i):_c}function ZS(i,a,c,h,g,v){g=JS(g),h.context===null?h.context=g:h.pendingContext=g,h=Ra(a),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=Ia(i,h,a),c!==null&&(os(c,i,a),Ih(c,i,a))}function e2(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Fv(i,a){e2(i,a),(i=i.alternate)&&e2(i,a)}function t2(i){if(i.tag===13||i.tag===31){var a=Yo(i,67108864);a!==null&&os(a,i,67108864),Fv(i,67108864)}}function n2(i){if(i.tag===13||i.tag===31){var a=Ss();a=ah(a);var c=Yo(i,a);c!==null&&os(c,i,a),Fv(i,a)}}var hp=!0;function n6(i,a,c,h){var g=ne.T;ne.T=null;var v=le.p;try{le.p=2,zv(i,a,c,h)}finally{le.p=v,ne.T=g}}function s6(i,a,c,h){var g=ne.T;ne.T=null;var v=le.p;try{le.p=8,zv(i,a,c,h)}finally{le.p=v,ne.T=g}}function zv(i,a,c,h){if(hp){var g=Bv(h);if(g===null)Cv(i,a,h,dp,c),i2(i,h);else if(r6(g,i,a,c,h))h.stopPropagation();else if(i2(i,h),a&4&&-1<i6.indexOf(i)){for(;g!==null;){var v=ur(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=ni(v.pendingLanes);if(w!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-qn(w);A.entanglements[1]|=V,w&=~V}Mi(v),(rt&6)===0&&(Wm=bn()+500,$h(0))}}break;case 31:case 13:A=Yo(v,2),A!==null&&os(A,v,2),Ym(),Fv(v,2)}if(v=Bv(h),v===null&&Cv(i,a,h,dp,c),v===g)break;g=v}g!==null&&h.stopPropagation()}else Cv(i,a,h,null,c)}}function Bv(i){return i=hc(i),qv(i)}var dp=null;function qv(i){if(dp=null,i=cr(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===31){if(i=u(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return dp=i,null}function s2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gf()){case en:return 2;case an:return 8;case rr:case $f:return 32;case nh:return 268435456;default:return 32}default:return 32}}var Hv=!1,za=null,Ba=null,qa=null,Zh=new Map,ed=new Map,Ha=[],i6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i2(i,a){switch(i){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Zh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(a.pointerId)}}function td(i,a,c,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},a!==null&&(a=ur(a),a!==null&&t2(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function r6(i,a,c,h,g){switch(a){case"focusin":return za=td(za,i,a,c,h,g),!0;case"dragenter":return Ba=td(Ba,i,a,c,h,g),!0;case"mouseover":return qa=td(qa,i,a,c,h,g),!0;case"pointerover":var v=g.pointerId;return Zh.set(v,td(Zh.get(v)||null,i,a,c,h,g)),!0;case"gotpointercapture":return v=g.pointerId,ed.set(v,td(ed.get(v)||null,i,a,c,h,g)),!0}return!1}function r2(i){var a=cr(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,Wf(i.priority,function(){n2(c)});return}}else if(a===31){if(a=u(c),a!==null){i.blockedOn=a,Wf(i.priority,function(){n2(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Bv(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);uc=h,c.target.dispatchEvent(h),uc=null}else return a=ur(c),a!==null&&t2(a),i.blockedOn=c,!1;a.shift()}return!0}function a2(i,a,c){fp(i)&&c.delete(a)}function a6(){Hv=!1,za!==null&&fp(za)&&(za=null),Ba!==null&&fp(Ba)&&(Ba=null),qa!==null&&fp(qa)&&(qa=null),Zh.forEach(a2),ed.forEach(a2)}function mp(i,a){i.blockedOn===a&&(i.blockedOn=null,Hv||(Hv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a6)))}var pp=null;function o2(i){pp!==i&&(pp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pp===i&&(pp=null);for(var a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(qv(h||c)===null)continue;break}var v=ur(c);v!==null&&(i.splice(a,3),a-=3,B0(v,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function qc(i){function a(V){return mp(V,i)}za!==null&&mp(za,i),Ba!==null&&mp(Ba,i),qa!==null&&mp(qa,i),Zh.forEach(a),ed.forEach(a);for(var c=0;c<Ha.length;c++){var h=Ha[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ha.length&&(c=Ha[0],c.blockedOn===null);)r2(c),c.blockedOn===null&&Ha.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],v=c[h+1],w=g[wn]||null;if(typeof v=="function")w||o2(c);else if(w){var A=null;if(v&&v.hasAttribute("formAction")){if(g=v,w=v[wn]||null)A=w.formAction;else if(qv(g)!==null)continue}else A=w.action;typeof A=="function"?c[h+1]=A:(c.splice(h,3),h-=3),o2(c)}}}function l2(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Gv(i){this._internalRoot=i}gp.prototype.render=Gv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var c=a.current,h=Ss();ZS(c,h,i,a,null,null)},gp.prototype.unmount=Gv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ZS(i.current,2,null,i,null,null),Ym(),a[Ai]=null}};function gp(i){this._internalRoot=i}gp.prototype.unstable_scheduleHydration=function(i){if(i){var a=or();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Ha.length&&a!==0&&a<Ha[c].priority;c++);Ha.splice(c,0,i),c===0&&r2(i)}};var c2=e.version;if(c2!=="19.2.0")throw Error(s(527,c2,"19.2.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var o6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{ia=yp.inject(o6),In=yp}catch{}}return sd.createRoot=function(i,a){if(!r(i))throw Error(s(299));var c=!1,h="",g=gE,v=yE,w=vE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=XS(i,1,!1,null,null,c,h,null,g,v,w,l2),i[Ai]=a.current,Av(i),new Gv(a)},sd.hydrateRoot=function(i,a,c){if(!r(i))throw Error(s(299));var h=!1,g="",v=gE,w=yE,A=vE,V=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),a=XS(i,1,!0,a,c??null,h,g,V,v,w,A,l2),a.context=JS(null),c=a.current,h=Ss(),h=ah(h),g=Ra(h),g.callback=null,Ia(c,g,h),c=h,a.current.lanes=c,oa(a,c),Mi(a),i[Ai]=a.current,Av(i),new gp(a)},sd.version="19.2.0",sd}var b2;function g6(){if(b2)return Qv.exports;b2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qv.exports=p6(),Qv.exports}var y6=g6();const v6=oI(y6);var Mu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_6={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Za,xx,YR,b6=(YR=class{constructor(){we(this,Za,_6);we(this,xx,!1)}setTimeoutProvider(t){me(this,Za,t)}setTimeout(t,e){return F(this,Za).setTimeout(t,e)}clearTimeout(t){F(this,Za).clearTimeout(t)}setInterval(t,e){return F(this,Za).setInterval(t,e)}clearInterval(t){F(this,Za).clearInterval(t)}},Za=new WeakMap,xx=new WeakMap,YR),fl=new b6;function x6(t){setTimeout(t,0)}var Ol=typeof window>"u"||"Deno"in globalThis;function Xn(){}function w6(t,e){return typeof t=="function"?t(e):t}function $_(t){return typeof t=="number"&&t>=0&&t!==1/0}function cI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uo(t,e){return typeof t=="function"?t(e):t}function Gs(t,e){return typeof t=="function"?t(e):t}function x2(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:o,queryKey:l,stale:u}=t;if(l){if(s){if(e.queryHash!==Tx(l,e.options))return!1}else if(!Vd(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||o&&!o(e))}function w2(t,e){const{exact:n,status:s,predicate:r,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ml(e.options.mutationKey)!==Ml(o))return!1}else if(!Vd(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Tx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ml)(t)}function Ml(t){return JSON.stringify(t,(e,n)=>K_(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Vd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vd(t[n],e[n])):!1}var T6=Object.prototype.hasOwnProperty;function uI(t,e){if(t===e)return t;const n=T2(t)&&T2(e);if(!n&&!(K_(t)&&K_(e)))return e;const r=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),l=o.length,u=n?new Array(l):{};let d=0;for(let m=0;m<l;m++){const y=n?m:o[m],_=t[y],x=e[y];if(_===x){u[y]=_,(n?m<r:T6.call(t,y))&&d++;continue}if(_===null||x===null||typeof _!="object"||typeof x!="object"){u[y]=x;continue}const E=uI(_,x);u[y]=E,E===_&&d++}return r===l&&d===r?t:u}function og(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function T2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function K_(t){if(!E2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!E2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function E2(t){return Object.prototype.toString.call(t)==="[object Object]"}function E6(t){return new Promise(e=>{fl.setTimeout(e,t)})}function W_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uI(t,e):e}function S6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function A6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Ex=Symbol();function hI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ex?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dI(t,e){return typeof t=="function"?t(...e):!!t}var xl,eo,hu,XR,C6=(XR=class extends Mu{constructor(){super();we(this,xl);we(this,eo);we(this,hu);me(this,hu,e=>{if(!Ol&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,eo)||this.setEventListener(F(this,hu))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,eo))==null||e.call(this),me(this,eo,void 0))}setEventListener(e){var n;me(this,hu,e),(n=F(this,eo))==null||n.call(this),me(this,eo,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){F(this,xl)!==e&&(me(this,xl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,xl)=="boolean"?F(this,xl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xl=new WeakMap,eo=new WeakMap,hu=new WeakMap,XR),Sx=new C6;function Q_(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var N6=x6;function R6(){let t=[],e=0,n=u=>{u()},s=u=>{u()},r=N6;const o=u=>{e?t.push(u):r(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&r(()=>{s(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{r=u}}}var nn=R6(),du,to,fu,JR,I6=(JR=class extends Mu{constructor(){super();we(this,du,!0);we(this,to);we(this,fu);me(this,fu,e=>{if(!Ol&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){F(this,to)||this.setEventListener(F(this,fu))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,to))==null||e.call(this),me(this,to,void 0))}setEventListener(e){var n;me(this,fu,e),(n=F(this,to))==null||n.call(this),me(this,to,e(this.setOnline.bind(this)))}setOnline(e){F(this,du)!==e&&(me(this,du,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return F(this,du)}},du=new WeakMap,to=new WeakMap,fu=new WeakMap,JR),lg=new I6;function j6(t){return Math.min(1e3*2**t,3e4)}function fI(t){return(t??"online")==="online"?lg.isOnline():!0}var Y_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mI(t){let e=!1,n=0,s;const r=Q_(),o=()=>r.status!=="pending",l=R=>{var N;if(!o()){const M=new Y_(R);x(M),(N=t.onCancel)==null||N.call(t,M)}},u=()=>{e=!0},d=()=>{e=!1},m=()=>Sx.isFocused()&&(t.networkMode==="always"||lg.isOnline())&&t.canRun(),y=()=>fI(t.networkMode)&&t.canRun(),_=R=>{o()||(s==null||s(),r.resolve(R))},x=R=>{o()||(s==null||s(),r.reject(R))},E=()=>new Promise(R=>{var N;s=M=>{(o()||m())&&R(M)},(N=t.onPause)==null||N.call(t)}).then(()=>{var R;s=void 0,o()||(R=t.onContinue)==null||R.call(t)}),S=()=>{if(o())return;let R;const N=n===0?t.initialPromise:void 0;try{R=N??t.fn()}catch(M){R=Promise.reject(M)}Promise.resolve(R).then(_).catch(M=>{var Q;if(o())return;const H=t.retry??(Ol?0:3),L=t.retryDelay??j6,$=typeof L=="function"?L(n,M):L,K=H===!0||typeof H=="number"&&n<H||typeof H=="function"&&H(n,M);if(e||!K){x(M);return}n++,(Q=t.onFail)==null||Q.call(t,n,M),E6($).then(()=>m()?void 0:E()).then(()=>{e?x(M):S()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(s==null||s(),r),cancelRetry:u,continueRetry:d,canStart:y,start:()=>(y()?S():E().then(S),r)}}var wl,ZR,pI=(ZR=class{constructor(){we(this,wl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$_(this.gcTime)&&me(this,wl,fl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ol?1/0:300*1e3))}clearGcTimeout(){F(this,wl)&&(fl.clearTimeout(F(this,wl)),me(this,wl,void 0))}},wl=new WeakMap,ZR),Tl,mu,Hs,El,hn,hf,Sl,ci,Dr,eI,D6=(eI=class extends pI{constructor(n){super();we(this,ci);we(this,Tl);we(this,mu);we(this,Hs);we(this,El);we(this,hn);we(this,hf);we(this,Sl);me(this,Sl,!1),me(this,hf,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,El,n.client),me(this,Hs,F(this,El).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,Tl,A2(this.options)),this.state=n.state??F(this,Tl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,hn))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,hf),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=A2(this.options);s.data!==void 0&&(this.setState(S2(s.data,s.dataUpdatedAt)),me(this,Tl,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Hs).remove(this)}setData(n,s){const r=W_(this.state.data,n,this.options);return Le(this,ci,Dr).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(n,s){Le(this,ci,Dr).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var r,o;const s=(r=F(this,hn))==null?void 0:r.promise;return(o=F(this,hn))==null||o.cancel(n),s?s.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Tl))}isActive(){return this.observers.some(n=>Gs(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>uo(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!cI(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=F(this,hn))==null||s.continue()}onOnline(){var s;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=F(this,hn))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Hs).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(F(this,hn)&&(F(this,Sl)?F(this,hn).cancel({revert:!0}):F(this,hn).cancelRetry()),this.scheduleGc()),F(this,Hs).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Le(this,ci,Dr).call(this,{type:"invalidate"})}async fetch(n,s){var m,y,_,x,E,S,R,N,M,H,L,$;if(this.state.fetchStatus!=="idle"&&((m=F(this,hn))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(F(this,hn))return F(this,hn).continueRetry(),F(this,hn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const K=this.observers.find(Q=>Q.options.queryFn);K&&this.setOptions(K.options)}const r=new AbortController,o=K=>{Object.defineProperty(K,"signal",{enumerable:!0,get:()=>(me(this,Sl,!0),r.signal)})},l=()=>{const K=hI(this.options,s),j=(()=>{const C={client:F(this,El),queryKey:this.queryKey,meta:this.meta};return o(C),C})();return me(this,Sl,!1),this.options.persister?this.options.persister(K,j,this):K(j)},d=(()=>{const K={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:F(this,El),state:this.state,fetchFn:l};return o(K),K})();(y=this.options.behavior)==null||y.onFetch(d,this),me(this,mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=d.fetchOptions)==null?void 0:_.meta))&&Le(this,ci,Dr).call(this,{type:"fetch",meta:(x=d.fetchOptions)==null?void 0:x.meta}),me(this,hn,mI({initialPromise:s==null?void 0:s.initialPromise,fn:d.fetchFn,onCancel:K=>{K instanceof Y_&&K.revert&&this.setState({...F(this,mu),fetchStatus:"idle"}),r.abort()},onFail:(K,Q)=>{Le(this,ci,Dr).call(this,{type:"failed",failureCount:K,error:Q})},onPause:()=>{Le(this,ci,Dr).call(this,{type:"pause"})},onContinue:()=>{Le(this,ci,Dr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const K=await F(this,hn).start();if(K===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(K),(S=(E=F(this,Hs).config).onSuccess)==null||S.call(E,K,this),(N=(R=F(this,Hs).config).onSettled)==null||N.call(R,K,this.state.error,this),K}catch(K){if(K instanceof Y_){if(K.silent)return F(this,hn).promise;if(K.revert){if(this.state.data===void 0)throw K;return this.state.data}}throw Le(this,ci,Dr).call(this,{type:"error",error:K}),(H=(M=F(this,Hs).config).onError)==null||H.call(M,K,this),($=(L=F(this,Hs).config).onSettled)==null||$.call(L,this.state.data,K,this),K}finally{this.scheduleGc()}}},Tl=new WeakMap,mu=new WeakMap,Hs=new WeakMap,El=new WeakMap,hn=new WeakMap,hf=new WeakMap,Sl=new WeakMap,ci=new WeakSet,Dr=function(n){const s=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gI(r.data,this.options),fetchMeta:n.meta??null};case"success":const o={...r,...S2(n.data,n.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,mu,n.manual?o:void 0),o;case"error":const l=n.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=s(this.state),nn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,Hs).notify({query:this,type:"updated",action:n})})},eI);function gI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function S2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function A2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ls,Ye,df,Qn,Al,pu,Or,no,ff,gu,yu,Cl,Nl,so,vu,lt,fd,X_,J_,Z_,eb,tb,nb,sb,yI,tI,k6=(tI=class extends Mu{constructor(e,n){super();we(this,lt);we(this,ls);we(this,Ye);we(this,df);we(this,Qn);we(this,Al);we(this,pu);we(this,Or);we(this,no);we(this,ff);we(this,gu);we(this,yu);we(this,Cl);we(this,Nl);we(this,so);we(this,vu,new Set);this.options=n,me(this,ls,e),me(this,no,null),me(this,Or,Q_()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ye).addObserver(this),C2(F(this,Ye),this.options)?Le(this,lt,fd).call(this):this.updateResult(),Le(this,lt,eb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ib(F(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ib(F(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Le(this,lt,tb).call(this),Le(this,lt,nb).call(this),F(this,Ye).removeObserver(this)}setOptions(e){const n=this.options,s=F(this,Ye);if(this.options=F(this,ls).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gs(this.options.enabled,F(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Le(this,lt,sb).call(this),F(this,Ye).setOptions(this.options),n._defaulted&&!og(this.options,n)&&F(this,ls).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ye),observer:this});const r=this.hasListeners();r&&N2(F(this,Ye),s,this.options,n)&&Le(this,lt,fd).call(this),this.updateResult(),r&&(F(this,Ye)!==s||Gs(this.options.enabled,F(this,Ye))!==Gs(n.enabled,F(this,Ye))||uo(this.options.staleTime,F(this,Ye))!==uo(n.staleTime,F(this,Ye)))&&Le(this,lt,X_).call(this);const o=Le(this,lt,J_).call(this);r&&(F(this,Ye)!==s||Gs(this.options.enabled,F(this,Ye))!==Gs(n.enabled,F(this,Ye))||o!==F(this,so))&&Le(this,lt,Z_).call(this,o)}getOptimisticResult(e){const n=F(this,ls).getQueryCache().build(F(this,ls),e),s=this.createResult(n,e);return M6(this,s)&&(me(this,Qn,s),me(this,pu,this.options),me(this,Al,F(this,Ye).state)),s}getCurrentResult(){return F(this,Qn)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,Or).status==="pending"&&F(this,Or).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){F(this,vu).add(e)}getCurrentQuery(){return F(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,ls).defaultQueryOptions(e),s=F(this,ls).getQueryCache().build(F(this,ls),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return Le(this,lt,fd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Qn)))}createResult(e,n){var k;const s=F(this,Ye),r=this.options,o=F(this,Qn),l=F(this,Al),u=F(this,pu),m=e!==s?e.state:F(this,df),{state:y}=e;let _={...y},x=!1,E;if(n._optimisticResults){const O=this.hasListeners(),U=!O&&C2(e,n),q=O&&N2(e,s,n,r);(U||q)&&(_={..._,...gI(y.data,e.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:S,errorUpdatedAt:R,status:N}=_;E=_.data;let M=!1;if(n.placeholderData!==void 0&&E===void 0&&N==="pending"){let O;o!=null&&o.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(O=o.data,M=!0):O=typeof n.placeholderData=="function"?n.placeholderData((k=F(this,yu))==null?void 0:k.state.data,F(this,yu)):n.placeholderData,O!==void 0&&(N="success",E=W_(o==null?void 0:o.data,O,n),x=!0)}if(n.select&&E!==void 0&&!M)if(o&&E===(l==null?void 0:l.data)&&n.select===F(this,ff))E=F(this,gu);else try{me(this,ff,n.select),E=n.select(E),E=W_(o==null?void 0:o.data,E,n),me(this,gu,E),me(this,no,null)}catch(O){me(this,no,O)}F(this,no)&&(S=F(this,no),E=F(this,gu),R=Date.now(),N="error");const H=_.fetchStatus==="fetching",L=N==="pending",$=N==="error",K=L&&H,Q=E!==void 0,C={status:N,fetchStatus:_.fetchStatus,isPending:L,isSuccess:N==="success",isError:$,isInitialLoading:K,isLoading:K,data:E,dataUpdatedAt:_.dataUpdatedAt,error:S,errorUpdatedAt:R,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:H,isRefetching:H&&!L,isLoadingError:$&&!Q,isPaused:_.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:$&&Q,isStale:Ax(e,n),refetch:this.refetch,promise:F(this,Or),isEnabled:Gs(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=P=>{C.status==="error"?P.reject(C.error):C.data!==void 0&&P.resolve(C.data)},U=()=>{const P=me(this,Or,C.promise=Q_());O(P)},q=F(this,Or);switch(q.status){case"pending":e.queryHash===s.queryHash&&O(q);break;case"fulfilled":(C.status==="error"||C.data!==q.value)&&U();break;case"rejected":(C.status!=="error"||C.error!==q.reason)&&U();break}}return C}updateResult(){const e=F(this,Qn),n=this.createResult(F(this,Ye),this.options);if(me(this,Al,F(this,Ye).state),me(this,pu,this.options),F(this,Al).data!==void 0&&me(this,yu,F(this,Ye)),og(n,e))return;me(this,Qn,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!F(this,vu).size)return!0;const l=new Set(o??F(this,vu));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,Qn)).some(u=>{const d=u;return F(this,Qn)[d]!==e[d]&&l.has(d)})};Le(this,lt,yI).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Le(this,lt,eb).call(this)}},ls=new WeakMap,Ye=new WeakMap,df=new WeakMap,Qn=new WeakMap,Al=new WeakMap,pu=new WeakMap,Or=new WeakMap,no=new WeakMap,ff=new WeakMap,gu=new WeakMap,yu=new WeakMap,Cl=new WeakMap,Nl=new WeakMap,so=new WeakMap,vu=new WeakMap,lt=new WeakSet,fd=function(e){Le(this,lt,sb).call(this);let n=F(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Xn)),n},X_=function(){Le(this,lt,tb).call(this);const e=uo(this.options.staleTime,F(this,Ye));if(Ol||F(this,Qn).isStale||!$_(e))return;const s=cI(F(this,Qn).dataUpdatedAt,e)+1;me(this,Cl,fl.setTimeout(()=>{F(this,Qn).isStale||this.updateResult()},s))},J_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ye)):this.options.refetchInterval)??!1},Z_=function(e){Le(this,lt,nb).call(this),me(this,so,e),!(Ol||Gs(this.options.enabled,F(this,Ye))===!1||!$_(F(this,so))||F(this,so)===0)&&me(this,Nl,fl.setInterval(()=>{(this.options.refetchIntervalInBackground||Sx.isFocused())&&Le(this,lt,fd).call(this)},F(this,so)))},eb=function(){Le(this,lt,X_).call(this),Le(this,lt,Z_).call(this,Le(this,lt,J_).call(this))},tb=function(){F(this,Cl)&&(fl.clearTimeout(F(this,Cl)),me(this,Cl,void 0))},nb=function(){F(this,Nl)&&(fl.clearInterval(F(this,Nl)),me(this,Nl,void 0))},sb=function(){const e=F(this,ls).getQueryCache().build(F(this,ls),this.options);if(e===F(this,Ye))return;const n=F(this,Ye);me(this,Ye,e),me(this,df,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},yI=function(e){nn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,Qn))}),F(this,ls).getQueryCache().notify({query:F(this,Ye),type:"observerResultsUpdated"})})},tI);function O6(t,e){return Gs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function C2(t,e){return O6(t,e)||t.state.data!==void 0&&ib(t,e,e.refetchOnMount)}function ib(t,e,n){if(Gs(e.enabled,t)!==!1&&uo(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Ax(t,e)}return!1}function N2(t,e,n,s){return(t!==e||Gs(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ax(t,n)}function Ax(t,e){return Gs(e.enabled,t)!==!1&&t.isStaleByTime(uo(e.staleTime,t))}function M6(t,e){return!og(t.getCurrentResult(),e)}function R2(t){return{onFetch:(e,n)=>{var y,_,x,E,S;const s=e.options,r=(x=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:x.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let R=!1;const N=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(e.signal.aborted?R=!0:e.signal.addEventListener("abort",()=>{R=!0}),e.signal)})},M=hI(e.options,e.fetchOptions),H=async(L,$,K)=>{if(R)return Promise.reject();if($==null&&L.pages.length)return Promise.resolve(L);const j=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:$,direction:K?"backward":"forward",meta:e.options.meta};return N(U),U})(),C=await M(j),{maxPages:k}=e.options,O=K?A6:S6;return{pages:O(L.pages,C,k),pageParams:O(L.pageParams,$,k)}};if(r&&o.length){const L=r==="backward",$=L?P6:I2,K={pages:o,pageParams:l},Q=$(s,K);u=await H(K,Q,L)}else{const L=t??o.length;do{const $=d===0?l[0]??s.initialPageParam:I2(s,u);if(d>0&&$==null)break;u=await H(u,$),d++}while(d<L)}return u};e.options.persister?e.fetchFn=()=>{var R,N;return(N=(R=e.options).persister)==null?void 0:N.call(R,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function I2(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function P6(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var mf,Ui,Yn,Rl,Fi,Ka,nI,L6=(nI=class extends pI{constructor(n){super();we(this,Fi);we(this,mf);we(this,Ui);we(this,Yn);we(this,Rl);me(this,mf,n.client),this.mutationId=n.mutationId,me(this,Yn,n.mutationCache),me(this,Ui,[]),this.state=n.state||vI(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Ui).includes(n)||(F(this,Ui).push(n),this.clearGcTimeout(),F(this,Yn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,Ui,F(this,Ui).filter(s=>s!==n)),this.scheduleGc(),F(this,Yn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():F(this,Yn).remove(this))}continue(){var n;return((n=F(this,Rl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,d,m,y,_,x,E,S,R,N,M,H,L,$,K,Q,j,C,k,O;const s=()=>{Le(this,Fi,Ka).call(this,{type:"continue"})},r={client:F(this,mf),meta:this.options.meta,mutationKey:this.options.mutationKey};me(this,Rl,mI({fn:()=>this.options.mutationFn?this.options.mutationFn(n,r):Promise.reject(new Error("No mutationFn found")),onFail:(U,q)=>{Le(this,Fi,Ka).call(this,{type:"failed",failureCount:U,error:q})},onPause:()=>{Le(this,Fi,Ka).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Yn).canRun(this)}));const o=this.state.status==="pending",l=!F(this,Rl).canStart();try{if(o)s();else{Le(this,Fi,Ka).call(this,{type:"pending",variables:n,isPaused:l}),await((d=(u=F(this,Yn).config).onMutate)==null?void 0:d.call(u,n,this,r));const q=await((y=(m=this.options).onMutate)==null?void 0:y.call(m,n,r));q!==this.state.context&&Le(this,Fi,Ka).call(this,{type:"pending",context:q,variables:n,isPaused:l})}const U=await F(this,Rl).start();return await((x=(_=F(this,Yn).config).onSuccess)==null?void 0:x.call(_,U,n,this.state.context,this,r)),await((S=(E=this.options).onSuccess)==null?void 0:S.call(E,U,n,this.state.context,r)),await((N=(R=F(this,Yn).config).onSettled)==null?void 0:N.call(R,U,null,this.state.variables,this.state.context,this,r)),await((H=(M=this.options).onSettled)==null?void 0:H.call(M,U,null,n,this.state.context,r)),Le(this,Fi,Ka).call(this,{type:"success",data:U}),U}catch(U){try{throw await(($=(L=F(this,Yn).config).onError)==null?void 0:$.call(L,U,n,this.state.context,this,r)),await((Q=(K=this.options).onError)==null?void 0:Q.call(K,U,n,this.state.context,r)),await((C=(j=F(this,Yn).config).onSettled)==null?void 0:C.call(j,void 0,U,this.state.variables,this.state.context,this,r)),await((O=(k=this.options).onSettled)==null?void 0:O.call(k,void 0,U,n,this.state.context,r)),U}finally{Le(this,Fi,Ka).call(this,{type:"error",error:U})}}finally{F(this,Yn).runNext(this)}}},mf=new WeakMap,Ui=new WeakMap,Yn=new WeakMap,Rl=new WeakMap,Fi=new WeakSet,Ka=function(n){const s=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),nn.batch(()=>{F(this,Ui).forEach(r=>{r.onMutationUpdate(n)}),F(this,Yn).notify({mutation:this,type:"updated",action:n})})},nI);function vI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mr,ui,pf,sI,V6=(sI=class extends Mu{constructor(e={}){super();we(this,Mr);we(this,ui);we(this,pf);this.config=e,me(this,Mr,new Set),me(this,ui,new Map),me(this,pf,0)}build(e,n,s){const r=new L6({client:e,mutationCache:this,mutationId:++vp(this,pf)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){F(this,Mr).add(e);const n=_p(e);if(typeof n=="string"){const s=F(this,ui).get(n);s?s.push(e):F(this,ui).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Mr).delete(e)){const n=_p(e);if(typeof n=="string"){const s=F(this,ui).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&F(this,ui).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=_p(e);if(typeof n=="string"){const s=F(this,ui).get(n),r=s==null?void 0:s.find(o=>o.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=_p(e);if(typeof n=="string"){const r=(s=F(this,ui).get(n))==null?void 0:s.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{F(this,Mr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Mr).clear(),F(this,ui).clear()})}getAll(){return Array.from(F(this,Mr))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>w2(n,s))}findAll(e={}){return this.getAll().filter(n=>w2(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},Mr=new WeakMap,ui=new WeakMap,pf=new WeakMap,sI);function _p(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Pr,io,cs,Lr,$r,Lp,rb,iI,U6=(iI=class extends Mu{constructor(n,s){super();we(this,$r);we(this,Pr);we(this,io);we(this,cs);we(this,Lr);me(this,Pr,n),this.setOptions(s),this.bindMethods(),Le(this,$r,Lp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=F(this,Pr).defaultMutationOptions(n),og(this.options,s)||F(this,Pr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,cs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ml(s.mutationKey)!==Ml(this.options.mutationKey)?this.reset():((r=F(this,cs))==null?void 0:r.state.status)==="pending"&&F(this,cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,cs))==null||n.removeObserver(this)}onMutationUpdate(n){Le(this,$r,Lp).call(this),Le(this,$r,rb).call(this,n)}getCurrentResult(){return F(this,io)}reset(){var n;(n=F(this,cs))==null||n.removeObserver(this),me(this,cs,void 0),Le(this,$r,Lp).call(this),Le(this,$r,rb).call(this)}mutate(n,s){var r;return me(this,Lr,s),(r=F(this,cs))==null||r.removeObserver(this),me(this,cs,F(this,Pr).getMutationCache().build(F(this,Pr),this.options)),F(this,cs).addObserver(this),F(this,cs).execute(n)}},Pr=new WeakMap,io=new WeakMap,cs=new WeakMap,Lr=new WeakMap,$r=new WeakSet,Lp=function(){var s;const n=((s=F(this,cs))==null?void 0:s.state)??vI();me(this,io,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},rb=function(n){nn.batch(()=>{var s,r,o,l,u,d,m,y;if(F(this,Lr)&&this.hasListeners()){const _=F(this,io).variables,x=F(this,io).context,E={client:F(this,Pr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((r=(s=F(this,Lr)).onSuccess)==null||r.call(s,n.data,_,x,E),(l=(o=F(this,Lr)).onSettled)==null||l.call(o,n.data,null,_,x,E)):(n==null?void 0:n.type)==="error"&&((d=(u=F(this,Lr)).onError)==null||d.call(u,n.error,_,x,E),(y=(m=F(this,Lr)).onSettled)==null||y.call(m,void 0,n.error,_,x,E))}this.listeners.forEach(_=>{_(F(this,io))})})},iI),zi,rI,F6=(rI=class extends Mu{constructor(e={}){super();we(this,zi);this.config=e,me(this,zi,new Map)}build(e,n,s){const r=n.queryKey,o=n.queryHash??Tx(r,n);let l=this.get(o);return l||(l=new D6({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){F(this,zi).has(e.queryHash)||(F(this,zi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,zi).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,zi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,zi).get(e)}getAll(){return[...F(this,zi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>x2(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>x2(e,s)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zi=new WeakMap,rI),Lt,ro,ao,_u,bu,oo,xu,wu,aI,z6=(aI=class{constructor(t={}){we(this,Lt);we(this,ro);we(this,ao);we(this,_u);we(this,bu);we(this,oo);we(this,xu);we(this,wu);me(this,Lt,t.queryCache||new F6),me(this,ro,t.mutationCache||new V6),me(this,ao,t.defaultOptions||{}),me(this,_u,new Map),me(this,bu,new Map),me(this,oo,0)}mount(){vp(this,oo)._++,F(this,oo)===1&&(me(this,xu,Sx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Lt).onFocus())})),me(this,wu,lg.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Lt).onOnline())})))}unmount(){var t,e;vp(this,oo)._--,F(this,oo)===0&&((t=F(this,xu))==null||t.call(this),me(this,xu,void 0),(e=F(this,wu))==null||e.call(this),me(this,wu,void 0))}isFetching(t){return F(this,Lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ro).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Lt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(uo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return F(this,Lt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=F(this,Lt).get(s.queryHash),o=r==null?void 0:r.state.data,l=w6(e,o);if(l!==void 0)return F(this,Lt).build(this,s).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>F(this,Lt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Lt);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Lt);return nn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=nn.batch(()=>F(this,Lt).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return nn.batch(()=>(F(this,Lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=nn.batch(()=>F(this,Lt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(Xn)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Lt).build(this,e);return n.isStaleByTime(uo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=R2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=R2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lg.isOnline()?F(this,ro).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Lt)}getMutationCache(){return F(this,ro)}getDefaultOptions(){return F(this,ao)}setDefaultOptions(t){me(this,ao,t)}setQueryDefaults(t,e){F(this,_u).set(Ml(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,_u).values()],n={};return e.forEach(s=>{Vd(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){F(this,bu).set(Ml(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,bu).values()],n={};return e.forEach(s=>{Vd(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,ao).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ex&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,ao).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Lt).clear(),F(this,ro).clear()}},Lt=new WeakMap,ro=new WeakMap,ao=new WeakMap,_u=new WeakMap,bu=new WeakMap,oo=new WeakMap,xu=new WeakMap,wu=new WeakMap,aI),_I=D.createContext(void 0),Cx=t=>{const e=D.useContext(_I);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},B6=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(_I.Provider,{value:t,children:e})),bI=D.createContext(!1),q6=()=>D.useContext(bI);bI.Provider;function H6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var G6=D.createContext(H6()),$6=()=>D.useContext(G6),K6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},W6=t=>{D.useEffect(()=>{t.clearReset()},[t])},Q6=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||dI(n,[t.error,s])),Y6=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},X6=(t,e)=>t.isLoading&&t.isFetching&&!e,J6=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,j2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Z6(t,e,n){var _,x,E,S,R;const s=q6(),r=$6(),o=Cx(),l=o.defaultQueryOptions(t);(x=(_=o.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||x.call(_,l),l._optimisticResults=s?"isRestoring":"optimistic",Y6(l),K6(l,r),W6(r);const u=!o.getQueryCache().get(l.queryHash),[d]=D.useState(()=>new e(o,l)),m=d.getOptimisticResult(l),y=!s&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(N=>{const M=y?d.subscribe(nn.batchCalls(N)):Xn;return d.updateResult(),M},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),D.useEffect(()=>{d.setOptions(l)},[l,d]),J6(l,m))throw j2(l,d,r);if(Q6({result:m,errorResetBoundary:r,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw m.error;if((S=(E=o.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||S.call(E,l,m),l.experimental_prefetchInRender&&!Ol&&X6(m,s)){const N=u?j2(l,d,r):(R=o.getQueryCache().get(l.queryHash))==null?void 0:R.promise;N==null||N.catch(Xn).finally(()=>{d.updateResult()})}return l.notifyOnChangeProps?m:d.trackResult(m)}function e5(t,e){return Z6(t,k6)}function t5(t,e){const n=Cx(),[s]=D.useState(()=>new U6(n,t));D.useEffect(()=>{s.setOptions(t)},[s,t]);const r=D.useSyncExternalStore(D.useCallback(l=>s.subscribe(nn.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=D.useCallback((l,u)=>{s.mutate(l,u).catch(Xn)},[s]);if(r.error&&dI(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D2="popstate";function n5(t={}){function e(s,r){let{pathname:o,search:l,hash:u}=s.location;return ab("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ud(r)}return i5(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ys(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s5(){return Math.random().toString(36).substring(2,10)}function k2(t,e){return{usr:t.state,key:t.key,idx:e}}function ab(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pu(e):e,state:n,key:e&&e.key||s||s5()}}function Ud({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function i5(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,l=r.history,u="POP",d=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function _(){u="POP";let N=y(),M=N==null?null:N-m;m=N,d&&d({action:u,location:R.location,delta:M})}function x(N,M){u="PUSH";let H=ab(R.location,N,M);m=y()+1;let L=k2(H,m),$=R.createHref(H);try{l.pushState(L,"",$)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign($)}o&&d&&d({action:u,location:R.location,delta:1})}function E(N,M){u="REPLACE";let H=ab(R.location,N,M);m=y();let L=k2(H,m),$=R.createHref(H);l.replaceState(L,"",$),o&&d&&d({action:u,location:R.location,delta:0})}function S(N){return r5(N)}let R={get action(){return u},get location(){return t(r,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(D2,_),d=N,()=>{r.removeEventListener(D2,_),d=null}},createHref(N){return e(r,N)},createURL:S,encodeLocation(N){let M=S(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:E,go(N){return l.go(N)}};return R}function r5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ud(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xI(t,e,n="/"){return a5(t,e,n,!1)}function a5(t,e,n,s){let r=typeof e=="string"?Pu(e):e,o=Kr(r.pathname||"/",n);if(o==null)return null;let l=wI(t);o5(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=v5(o);u=g5(l[d],m,s)}return u}function wI(t,e=[],n=[],s="",r=!1){let o=(l,u,d=r,m)=>{let y={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;Nt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Br([s,y.relativePath]),x=n.concat(y);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wI(l.children,e,x,_,d)),!(l.path==null&&!l.index)&&e.push({path:_,score:m5(_,l.index),routesMeta:x})};return t.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let m of TI(l.path))o(l,u,!0,m)}),e}function TI(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let l=TI(s.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function o5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p5(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var l5=/^:[\w-]+$/,c5=3,u5=2,h5=1,d5=10,f5=-2,O2=t=>t==="*";function m5(t,e){let n=t.split("/"),s=n.length;return n.some(O2)&&(s+=f5),e&&(s+=u5),n.filter(r=>!O2(r)).reduce((r,o)=>r+(l5.test(o)?c5:o===""?h5:d5),s)}function p5(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function g5(t,e,n=!1){let{routesMeta:s}=t,r={},o="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],m=u===s.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=cg({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),x=d.route;if(!_&&m&&n&&!s[s.length-1].route.index&&(_=cg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:Br([o,_.pathname]),pathnameBase:T5(Br([o,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(o=Br([o,_.pathnameBase]))}return l}function cg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=y5(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:_},x)=>{if(y==="*"){let S=u[x]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[x];return _&&!E?m[y]=void 0:m[y]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function y5(t,e=!1,n=!0){Ys(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function v5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ys(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var _5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b5=t=>_5.test(t);function x5(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Pu(t):t,o;if(n)if(b5(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ys(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=M2(n.substring(1),"/"):o=M2(n,e)}else o=e;return{pathname:o,search:E5(s),hash:S5(r)}}function M2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Zv(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nx(t){let e=w5(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Rx(t,e,n,s=!1){let r;typeof t=="string"?r=Pu(t):(r={...t},Nt(!r.pathname||!r.pathname.includes("?"),Zv("?","pathname","search",r)),Nt(!r.pathname||!r.pathname.includes("#"),Zv("#","pathname","hash",r)),Nt(!r.search||!r.search.includes("#"),Zv("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=n;else{let _=e.length-1;if(!s&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),_-=1;r.pathname=x.join("/")}u=_>=0?e[_]:"/"}let d=x5(r,u),m=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),T5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EI=["POST","PUT","PATCH","DELETE"];new Set(EI);var C5=["GET",...EI];new Set(C5);var Lu=D.createContext(null);Lu.displayName="DataRouter";var Zg=D.createContext(null);Zg.displayName="DataRouterState";D.createContext(!1);var SI=D.createContext({isTransitioning:!1});SI.displayName="ViewTransition";var N5=D.createContext(new Map);N5.displayName="Fetchers";var R5=D.createContext(null);R5.displayName="Await";var bi=D.createContext(null);bi.displayName="Navigation";var gf=D.createContext(null);gf.displayName="Location";var nr=D.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Ix=D.createContext(null);Ix.displayName="RouteError";function I5(t,{relative:e}={}){Nt(Vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(bi),{hash:r,pathname:o,search:l}=yf(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Br([n,o])),s.createHref({pathname:u,search:l,hash:r})}function Vu(){return D.useContext(gf)!=null}function xi(){return Nt(Vu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(gf).location}var AI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CI(t){D.useContext(bi).static||D.useLayoutEffect(t)}function Rs(){let{isDataRoute:t}=D.useContext(nr);return t?q5():j5()}function j5(){Nt(Vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Lu),{basename:e,navigator:n}=D.useContext(bi),{matches:s}=D.useContext(nr),{pathname:r}=xi(),o=JSON.stringify(Nx(s)),l=D.useRef(!1);return CI(()=>{l.current=!0}),D.useCallback((d,m={})=>{if(Ys(l.current,AI),!l.current)return;if(typeof d=="number"){n.go(d);return}let y=Rx(d,JSON.parse(o),r,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Br([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,r,t])}D.createContext(null);function yf(t,{relative:e}={}){let{matches:n}=D.useContext(nr),{pathname:s}=xi(),r=JSON.stringify(Nx(n));return D.useMemo(()=>Rx(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function D5(t,e){return NI(t,e)}function NI(t,e,n,s,r){var H;Nt(Vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(bi),{matches:l}=D.useContext(nr),u=l[l.length-1],d=u?u.params:{},m=u?u.pathname:"/",y=u?u.pathnameBase:"/",_=u&&u.route;{let L=_&&_.path||"";RI(m,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let x=xi(),E;if(e){let L=typeof e=="string"?Pu(e):e;Nt(y==="/"||((H=L.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=x;let S=E.pathname||"/",R=S;if(y!=="/"){let L=y.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let N=xI(t,{pathname:R});Ys(_||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ys(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=L5(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Br([y,o.encodeLocation?o.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Br([y,o.encodeLocation?o.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),l,n,s,r);return e&&M?D.createElement(gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function k5(){let t=B5(),e=A5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:r},n):null,l)}var O5=D.createElement(k5,null),M5=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(nr.Provider,{value:this.props.routeContext},D.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P5({routeContext:t,match:e,children:n}){let s=D.useContext(Lu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(nr.Provider,{value:t},n)}function L5(t,e=[],n=null,s=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n==null?void 0:n.errors;if(l!=null){let y=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);Nt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let u=!1,d=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:x,errors:E}=n,S=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=n&&s?(y,_)=>{var x,E;s(y,{location:n.location,params:((E=(x=n.matches)==null?void 0:x[0])==null?void 0:E.params)??{},errorInfo:_})}:void 0;return o.reduceRight((y,_,x)=>{let E,S=!1,R=null,N=null;n&&(E=l&&_.route.id?l[_.route.id]:void 0,R=_.route.errorElement||O5,u&&(d<0&&x===0?(RI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):d===x&&(S=!0,N=_.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,x+1)),H=()=>{let L;return E?L=R:S?L=N:_.route.Component?L=D.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=y,D.createElement(P5,{match:_,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:L})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?D.createElement(M5,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:H(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):H()},null)}function jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V5(t){let e=D.useContext(Lu);return Nt(e,jx(t)),e}function U5(t){let e=D.useContext(Zg);return Nt(e,jx(t)),e}function F5(t){let e=D.useContext(nr);return Nt(e,jx(t)),e}function Dx(t){let e=F5(t),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function z5(){return Dx("useRouteId")}function B5(){var s;let t=D.useContext(Ix),e=U5("useRouteError"),n=Dx("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function q5(){let{router:t}=V5("useNavigate"),e=Dx("useNavigate"),n=D.useRef(!1);return CI(()=>{n.current=!0}),D.useCallback(async(r,o={})=>{Ys(n.current,AI),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var P2={};function RI(t,e,n){!e&&!P2[t]&&(P2[t]=!0,Ys(!1,n))}D.memo(H5);function H5({routes:t,future:e,state:n,unstable_onError:s}){return NI(t,void 0,n,s,e)}function L2({to:t,replace:e,state:n,relative:s}){Nt(Vu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=D.useContext(bi);Ys(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(nr),{pathname:l}=xi(),u=Rs(),d=Rx(t,Nx(o),l,s==="path"),m=JSON.stringify(d);return D.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:s})},[u,m,s,e,n]),null}function Qt(t){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G5({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:o=!1}){Nt(!Vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof n=="string"&&(n=Pu(n));let{pathname:d="/",search:m="",hash:y="",state:_=null,key:x="default"}=n,E=D.useMemo(()=>{let S=Kr(d,l);return S==null?null:{location:{pathname:S,search:m,hash:y,state:_,key:x},navigationType:s}},[l,d,m,y,_,x,s]);return Ys(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:D.createElement(bi.Provider,{value:u},D.createElement(gf.Provider,{children:e,value:E}))}function $5({children:t,location:e}){return D5(ob(t),e)}function ob(t,e=[]){let n=[];return D.Children.forEach(t,(s,r)=>{if(!D.isValidElement(s))return;let o=[...e,r];if(s.type===D.Fragment){n.push.apply(n,ob(s.props.children,o));return}Nt(s.type===Qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=ob(s.props.children,o)),n.push(l)}),n}var Vp="get",Up="application/x-www-form-urlencoded";function ey(t){return t!=null&&typeof t.tagName=="string"}function K5(t){return ey(t)&&t.tagName.toLowerCase()==="button"}function W5(t){return ey(t)&&t.tagName.toLowerCase()==="form"}function Q5(t){return ey(t)&&t.tagName.toLowerCase()==="input"}function Y5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X5(t,e){return t.button===0&&(!e||e==="_self")&&!Y5(t)}var bp=null;function J5(){if(bp===null)try{new FormData(document.createElement("form"),0),bp=!1}catch{bp=!0}return bp}var Z5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e_(t){return t!=null&&!Z5.has(t)?(Ys(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Up}"`),null):t}function e9(t,e){let n,s,r,o,l;if(W5(t)){let u=t.getAttribute("action");s=u?Kr(u,e):null,n=t.getAttribute("method")||Vp,r=e_(t.getAttribute("enctype"))||Up,o=new FormData(t)}else if(K5(t)||Q5(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(s=d?Kr(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Vp,r=e_(t.getAttribute("formenctype"))||e_(u.getAttribute("enctype"))||Up,o=new FormData(u,t),!J5()){let{name:m,type:y,value:_}=t;if(y==="image"){let x=m?`${m}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else m&&o.append(m,_)}}else{if(ey(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vp,s=null,r=Up,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t9(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function n9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i9(t,e,n){let s=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await n9(o,n);return l.links?l.links():[]}return[]}));return l9(s.flat(1).filter(s9).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function V2(t,e,n,s,r,o){let l=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,u=(d,m)=>{var y;return n[m].pathname!==d.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>l(d,m)||u(d,m)):o==="data"?e.filter((d,m)=>{var _;let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function r9(t,e,{includeHydrateFallback:n}={}){return a9(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function a9(t){return[...new Set(t)]}function o9(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function l9(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let o=JSON.stringify(o9(r));return n.has(o)||(n.add(o),s.push({key:o,link:r})),s},[])}function II(){let t=D.useContext(Lu);return kx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c9(){let t=D.useContext(Zg);return kx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ox=D.createContext(void 0);Ox.displayName="FrameworkContext";function jI(){let t=D.useContext(Ox);return kx(t,"You must render this element inside a <HydratedRouter> element"),t}function u9(t,e){let n=D.useContext(Ox),[s,r]=D.useState(!1),[o,l]=D.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,x=D.useRef(null);D.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=M=>{M.forEach(H=>{l(H.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),D.useEffect(()=>{if(s){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[s]);let E=()=>{r(!0)},S=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:id(u,E),onBlur:id(d,S),onMouseEnter:id(m,E),onMouseLeave:id(y,S),onTouchStart:id(_,E)}]:[!1,x,{}]}function id(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function h9({page:t,...e}){let{router:n}=II(),s=D.useMemo(()=>xI(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(f9,{page:t,matches:s,...e}):null}function d9(t){let{manifest:e,routeModules:n}=jI(),[s,r]=D.useState([]);return D.useEffect(()=>{let o=!1;return i9(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),s}function f9({page:t,matches:e,...n}){let s=xi(),{manifest:r,routeModules:o}=jI(),{basename:l}=II(),{loaderData:u,matches:d}=c9(),m=D.useMemo(()=>V2(t,e,d,r,s,"data"),[t,e,d,r,s]),y=D.useMemo(()=>V2(t,e,d,r,s,"assets"),[t,e,d,r,s]),_=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,R=!1;if(e.forEach(M=>{var L;let H=r.routes[M.route.id];!H||!H.hasLoader||(!m.some($=>$.route.id===M.route.id)&&M.route.id in u&&((L=o[M.route.id])!=null&&L.shouldRevalidate)||H.hasClientLoader?R=!0:S.add(M.route.id))}),S.size===0)return[];let N=t9(t,l,"data");return R&&S.size>0&&N.searchParams.set("_routes",e.filter(M=>S.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[l,u,s,r,m,e,t,o]),x=D.useMemo(()=>r9(y,r),[y,r]),E=d9(y);return D.createElement(D.Fragment,null,_.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:R})=>D.createElement("link",{key:S,nonce:n.nonce,...R})))}function m9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DI&&(window.__reactRouterVersion="7.9.6")}catch{}function p9({basename:t,children:e,window:n}){let s=D.useRef();s.current==null&&(s.current=n5({window:n,v5Compat:!0}));let r=s.current,[o,l]=D.useState({action:r.action,location:r.location}),u=D.useCallback(d=>{D.startTransition(()=>l(d))},[l]);return D.useLayoutEffect(()=>r.listen(u),[r,u]),D.createElement(G5,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var kI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:m,preventScrollReset:y,viewTransition:_,...x},E){let{basename:S}=D.useContext(bi),R=typeof m=="string"&&kI.test(m),N,M=!1;if(typeof m=="string"&&R&&(N=m,DI))try{let k=new URL(window.location.href),O=m.startsWith("//")?new URL(k.protocol+m):new URL(m),U=Kr(O.pathname,S);O.origin===k.origin&&U!=null?m=U+O.search+O.hash:M=!0}catch{Ys(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=I5(m,{relative:r}),[L,$,K]=u9(s,x),Q=_9(m,{replace:l,state:u,target:d,preventScrollReset:y,relative:r,viewTransition:_});function j(k){e&&e(k),k.defaultPrevented||Q(k)}let C=D.createElement("a",{...x,...K,href:N||H,onClick:M||o?e:j,ref:m9(E,$),target:d,"data-discover":!R&&n==="render"?"true":void 0});return L&&!R?D.createElement(D.Fragment,null,C,D.createElement(h9,{page:H})):C});pt.displayName="Link";var g9=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...m},y){let _=yf(l,{relative:m.relative}),x=xi(),E=D.useContext(Zg),{navigator:S,basename:R}=D.useContext(bi),N=E!=null&&E9(_)&&u===!0,M=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,H=x.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(H=H.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&R&&(L=Kr(L,R)||L);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let K=H===M||!r&&H.startsWith(M)&&H.charAt($)==="/",Q=L!=null&&(L===M||!r&&L.startsWith(M)&&L.charAt(M.length)==="/"),j={isActive:K,isPending:Q,isTransitioning:N},C=K?e:void 0,k;typeof s=="function"?k=s(j):k=[s,K?"active":null,Q?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(j):o;return D.createElement(pt,{...m,"aria-current":C,className:k,ref:y,style:O,to:l,viewTransition:u},typeof d=="function"?d(j):d)});g9.displayName="NavLink";var y9=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:o,method:l=Vp,action:u,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:_,...x},E)=>{let S=w9(),R=T9(u,{relative:m}),N=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&kI.test(u),H=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,K=($==null?void 0:$.getAttribute("formmethod"))||l;S($||L.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:_})};return D.createElement("form",{ref:E,method:N,action:R,onSubmit:s?d:H,...x,"data-discover":!M&&t==="render"?"true":void 0})});y9.displayName="Form";function v9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(t){let e=D.useContext(Lu);return Nt(e,v9(t)),e}function _9(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Rs(),d=xi(),m=yf(t,{relative:o});return D.useCallback(y=>{if(X5(y,e)){y.preventDefault();let _=n!==void 0?n:Ud(d)===Ud(m);u(t,{replace:_,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,m,n,s,e,t,r,o,l])}var b9=0,x9=()=>`__${String(++b9)}__`;function w9(){let{router:t}=OI("useSubmit"),{basename:e}=D.useContext(bi),n=z5();return D.useCallback(async(s,r={})=>{let{action:o,method:l,encType:u,formData:d,body:m}=e9(s,e);if(r.navigate===!1){let y=r.fetcherKey||x9();await t.fetch(y,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function T9(t,{relative:e}={}){let{basename:n}=D.useContext(bi),s=D.useContext(nr);Nt(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...yf(t||".",{relative:e})},l=xi();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(y=>y==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let y=u.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Br([n,o.pathname])),Ud(o)}function E9(t,{relative:e}={}){let n=D.useContext(SI);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OI("useViewTransitionState"),r=yf(t,{relative:e});if(!n.isTransitioning)return!1;let o=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return cg(r.pathname,l)!=null||cg(r.pathname,o)!=null}var S9=lI();const A9=()=>{};var U2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(t,e){if(!t)throw Uu(e)},Uu=function(t){return new Error("Firebase Database ("+MI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},C9=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,d=r+2<t.length,m=d?t[r+2]:0,y=o>>2,_=(o&3)<<4|u>>4;let x=(u&15)<<2|m>>6,E=m&63;d||(E=64,l||(x=64)),s.push(n[y],n[_],n[x],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const m=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||m==null||_==null)throw new N9;const x=o<<2|u>>4;if(s.push(x),m!==64){const E=u<<4&240|m>>2;if(s.push(E),_!==64){const S=m<<6&192|_;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LI=function(t){const e=PI(t);return Mx.encodeByteArray(e,!0)},ug=function(t){return LI(t).replace(/\./g,"")},hg=function(t){try{return Mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return VI(void 0,t)}function VI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!I9(n)||(t[n]=VI(t[n],e[n]));return t}function I9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=()=>j9().__FIREBASE_DEFAULTS__,k9=()=>{if(typeof process>"u"||typeof U2>"u")return;const t=U2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hg(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return A9()||D9()||k9()||O9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Px=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FI=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},zI=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ny(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ug(JSON.stringify(n)),ug(JSON.stringify(l)),""].join(".")}const xd={};function M9(){const t={prod:[],emulator:[]};for(const e of Object.keys(xd))xd[e]?t.emulator.push(e):t.prod.push(e);return t}function P9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let F2=!1;function sy(t,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||xd[t]===e||xd[t]||F2)return;xd[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",o=M9().prod.length>0;function l(){const x=document.getElementById(s);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{F2=!0,l()},x}function y(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=P9(s),E=n("text"),S=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),M=n("preprendIcon"),H=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const L=x.element;u(L),y(N,R);const $=m();d(H,M),L.append(H,S,N,$),document.body.appendChild(L)}o?(S.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ux(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function L9(){var t;const e=(t=ty())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U9(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F9(){return MI.NODE_ADMIN===!0}function z9(){return!L9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HI(){try{return typeof indexedDB=="object"}catch{return!1}}function GI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function B9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="FirebaseError";class ei extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=q9,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?H9(o,s):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new ei(r,u,s)}}function H9(t,e){return t.replace(G9,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const G9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return JSON.parse(t)}function Cn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=function(t){let e={},n={},s={},r="";try{const o=t.split(".");e=Fd(hg(o[0])||""),n=Fd(hg(o[1])||""),r=o[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},$9=function(t){const e=$I(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},K9=function(t){const e=$I(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dg(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function Wr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const o=t[r],l=e[r];if(z2(o)&&z2(l)){if(!Wr(o,l))return!1}else if(o!==l)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function z2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function pd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)s[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)s[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const x=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(x<<1|x>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],u=this.chain_[3],d=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=u^o&(l^u),y=1518500249):(m=o^l^u,y=1859775393):_<60?(m=o&l|u&(o|l),y=2400959708):(m=o^l^u,y=3395469782);const x=(r<<5|r>>>27)+m+d+y+s[_]&4294967295;d=u,u=l,l=(o<<30|o>>>2)&4294967295,o=r,r=x}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<n;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[s]=this.chain_[r]>>o&255,++s;return e}}function Q9(t,e){const n=new Y9(t,e);return n.subscribe.bind(n)}class Y9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");X9(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=t_),r.error===void 0&&(r.error=t_),r.complete===void 0&&(r.complete=t_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t_(){}function J9(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const o=r-55296;s++,fe(s<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(s)-56320;r=65536+(o<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},iy=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1e3,tL=2,nL=14400*1e3,sL=.5;function B2(t,e=eL,n=tL){const s=e*Math.pow(n,t),r=Math.round(sL*s*(Math.random()-.5)*2);return Math.min(nL,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Lx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aL(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);s===u&&l.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rL(t){return t===ul?void 0:t}function aL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const lL={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},cL=He.INFO,uL={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},hL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=uL[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=hL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const dL=(t,e)=>e.some(n=>t instanceof n);let q2,H2;function fL(){return q2||(q2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return H2||(H2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KI=new WeakMap,cb=new WeakMap,WI=new WeakMap,n_=new WeakMap,Fx=new WeakMap;function pL(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ho(t.result)),r()},l=()=>{s(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&KI.set(n,t)}).catch(()=>{}),Fx.set(e,t),e}function gL(t){if(cb.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});cb.set(t,e)}let ub={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yL(t){ub=t(ub)}function vL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(s_(this),e,...n);return WI.set(s,e.sort?e.sort():[e]),ho(s)}:mL().includes(t)?function(...e){return t.apply(s_(this),e),ho(KI.get(this))}:function(...e){return ho(t.apply(s_(this),e))}}function _L(t){return typeof t=="function"?vL(t):(t instanceof IDBTransaction&&gL(t),dL(t,fL())?new Proxy(t,ub):t)}function ho(t){if(t instanceof IDBRequest)return pL(t);if(n_.has(t))return n_.get(t);const e=_L(t);return e!==t&&(n_.set(t,e),Fx.set(e,t)),e}const s_=t=>Fx.get(t);function QI(t,e,{blocked:n,upgrade:s,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=ho(l);return s&&l.addEventListener("upgradeneeded",d=>{s(ho(l.result),d.oldVersion,d.newVersion,ho(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const bL=["get","getKey","getAll","getAllKeys","count"],xL=["put","add","delete","clear"],i_=new Map;function G2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(i_.get(e))return i_.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=xL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||bL.includes(n)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),r&&d.done]))[0]};return i_.set(e,o),o}yL(t=>({...t,get:(e,n,s)=>G2(e,n)||t.get(e,n,s),has:(e,n)=>!!G2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hb="@firebase/app",$2="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new vf("@firebase/app"),EL="@firebase/app-compat",SL="@firebase/analytics-compat",AL="@firebase/analytics",CL="@firebase/app-check-compat",NL="@firebase/app-check",RL="@firebase/auth",IL="@firebase/auth-compat",jL="@firebase/database",DL="@firebase/data-connect",kL="@firebase/database-compat",OL="@firebase/functions",ML="@firebase/functions-compat",PL="@firebase/installations",LL="@firebase/installations-compat",VL="@firebase/messaging",UL="@firebase/messaging-compat",FL="@firebase/performance",zL="@firebase/performance-compat",BL="@firebase/remote-config",qL="@firebase/remote-config-compat",HL="@firebase/storage",GL="@firebase/storage-compat",$L="@firebase/firestore",KL="@firebase/ai",WL="@firebase/firestore-compat",QL="firebase",YL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="[DEFAULT]",XL={[hb]:"fire-core",[EL]:"fire-core-compat",[AL]:"fire-analytics",[SL]:"fire-analytics-compat",[NL]:"fire-app-check",[CL]:"fire-app-check-compat",[RL]:"fire-auth",[IL]:"fire-auth-compat",[jL]:"fire-rtdb",[DL]:"fire-data-connect",[kL]:"fire-rtdb-compat",[OL]:"fire-fn",[ML]:"fire-fn-compat",[PL]:"fire-iid",[LL]:"fire-iid-compat",[VL]:"fire-fcm",[UL]:"fire-fcm-compat",[FL]:"fire-perf",[zL]:"fire-perf-compat",[BL]:"fire-rc",[qL]:"fire-rc-compat",[HL]:"fire-gcs",[GL]:"fire-gcs-compat",[$L]:"fire-fst",[WL]:"fire-fst-compat",[KL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map,JL=new Map,fb=new Map;function K2(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xs(t){const e=t.name;if(fb.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;fb.set(e,t);for(const n of fg.values())K2(n,t);for(const n of JL.values())K2(n,t);return!0}function sa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new Wl("app","Firebase",ZL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=YL;function YI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:db,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw fo.create("bad-app-name",{appName:String(r)});if(n||(n=FI()),!n)throw fo.create("no-options");const o=fg.get(r);if(o){if(Wr(n,o.options)&&Wr(s,o.config))return o;throw fo.create("duplicate-app",{appName:r})}const l=new oL(r);for(const d of fb.values())l.addComponent(d);const u=new eV(n,s,l);return fg.set(r,u),u}function _f(t=db){const e=fg.get(t);if(!e&&t===db&&FI())return YI();if(!e)throw fo.create("no-app",{appName:t});return e}function zn(t,e,n){var s;let r=(s=XL[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(u.join(" "));return}Xs(new Ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="firebase-heartbeat-database",nV=1,zd="firebase-heartbeat-store";let r_=null;function XI(){return r_||(r_=QI(tV,nV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zd)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),r_}async function sV(t){try{const n=(await XI()).transaction(zd),s=await n.objectStore(zd).get(JI(t));return await n.done,s}catch(e){if(e instanceof ei)Qr.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function W2(t,e){try{const s=(await XI()).transaction(zd,"readwrite");await s.objectStore(zd).put(e,JI(t)),await s.done}catch(n){if(n instanceof ei)Qr.warn(n.message);else{const s=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(s.message)}}}function JI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=1024,rV=30;class aV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Q2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>rV){const l=cV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q2(),{heartbeatsToSend:s,unsentEntries:r}=oV(this._heartbeatsCache.heartbeats),o=ug(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qr.warn(n),""}}}function Q2(){return new Date().toISOString().substring(0,10)}function oV(t,e=iV){const n=[];let s=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Y2(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Y2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HI()?GI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y2(t){return ug(JSON.stringify({version:2,heartbeats:t})).length}function cV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){Xs(new Ns("platform-logger",e=>new wL(e),"PRIVATE")),Xs(new Ns("heartbeat",e=>new aV(e),"PRIVATE")),zn(hb,$2,t),zn(hb,$2,"esm2017"),zn("fire-js","")}uV("");function zx(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function ZI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hV=ZI,e3=new Wl("auth","Firebase",ZI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new vf("@firebase/auth");function dV(t,...e){mg.logLevel<=He.WARN&&mg.warn(`Auth (${No}): ${t}`,...e)}function Fp(t,...e){mg.logLevel<=He.ERROR&&mg.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,...e){throw qx(t,...e)}function vi(t,...e){return qx(t,...e)}function Bx(t,e,n){const s=Object.assign(Object.assign({},hV()),{[e]:n});return new Wl("auth","Firebase",s).create(e,{appName:t.name})}function qr(t){return Bx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fV(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Js(t,"argument-error"),Bx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qx(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return e3.create(t,...e)}function Ce(t,e,...n){if(!t)throw qx(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function Yr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mV(){return X2()==="http:"||X2()==="https:"}function X2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mV()||BI()||"connection"in navigator)?navigator.onLine:!0}function gV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ux()||qI()}get(){return pV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_V=new bf(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Io(t,e,n,s,r={}){return n3(t,r,async()=>{let o={},l={};s&&(e==="GET"?l=s:o={body:JSON.stringify(s)});const u=Fu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},o);return V9()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ta(t.emulatorConfig.host)&&(m.credentials="include"),t3.fetch()(await s3(t,t.config.apiHost,n,u),m)})}async function n3(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},yV),e);try{const r=new xV(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw xp(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw xp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw xp(t,"user-disabled",l);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Bx(t,y,m);Js(t,y)}}catch(r){if(r instanceof ei)throw r;Js(t,"network-request-failed",{message:String(r)})}}async function xf(t,e,n,s,r={}){const o=await Io(t,e,n,s,r);return"mfaPendingCredential"in o&&Js(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function s3(t,e,n,s){const r=`${e}${n}?${s}`,o=t,l=o.config.emulator?Hx(t.config,r):`${t.config.apiScheme}://${r}`;return vV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function bV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),_V.get())})}}function xp(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=vi(t,e,s);return r.customData._tokenResponse=n,r}function J2(t){return t!==void 0&&t.enterprise!==void 0}class wV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TV(t,e){return Io(t,"GET","/v2/recaptchaConfig",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function pg(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SV(t,e=!1){const n=vn(t),s=await n.getIdToken(e),r=Gx(s);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:s,authTime:wd(a_(r.auth_time)),issuedAtTime:wd(a_(r.iat)),expirationTime:wd(a_(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function a_(t){return Number(t)*1e3}function Gx(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const r=hg(n);return r?JSON.parse(r):(Fp("Failed to decode base64 JWT payload"),null)}catch(r){return Fp("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Z2(t){const e=Gx(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ei&&AV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function AV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Bd(t,pg(n,{idToken:s}));Ce(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?i3(o.providerUserInfo):[],u=RV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),y=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pb(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function NV(t){const e=vn(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RV(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function i3(t){return t.map(e=>{var{providerId:n}=e,s=zx(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){const n=await n3(t,{},async()=>{const s=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=await s3(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:s};return t.emulatorConfig&&ta(t.emulatorConfig.host)&&(d.credentials="include"),t3.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jV(t,e){return Io(t,"POST","/v2/accounts:revokeToken",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Z2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:o}=await IV(e,n);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:o}=n,l=new iu;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,o=zx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bd(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SV(this,e)}reload(){return NV(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gg(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Bd(this,EV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,o,l,u,d,m,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,R=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,M=(m=n.createdAt)!==null&&m!==void 0?m:void 0,H=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:$,isAnonymous:K,providerData:Q,stsTokenManager:j}=n;Ce(L&&j,e,"internal-error");const C=iu.fromJSON(this.name,j);Ce(typeof L=="string",e,"internal-error"),$a(_,e.name),$a(x,e.name),Ce(typeof $=="boolean",e,"internal-error"),Ce(typeof K=="boolean",e,"internal-error"),$a(E,e.name),$a(S,e.name),$a(R,e.name),$a(N,e.name),$a(M,e.name),$a(H,e.name);const k=new fi({uid:L,auth:e,email:x,emailVerified:$,displayName:_,isAnonymous:K,photoURL:S,phoneNumber:E,tenantId:R,stsTokenManager:C,createdAt:M,lastLoginAt:H});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(O=>Object.assign({},O))),N&&(k._redirectEventId=N),k}static async _fromIdTokenResponse(e,n,s=!1){const r=new iu;r.updateFromServerResponse(n);const o=new fi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await gg(o),o}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?i3(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new iu;u.updateFromIdToken(s);const d=new fi({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new pb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Map;function Fr(t){Yr(t instanceof Function,"Expected a class definition");let e=eA.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r3.type="NONE";const tA=r3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e,n){return`firebase:${t}:${e}:${n}`}class ru{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=zp(this.userKey,r.apiKey,o),this.fullPersistenceKey=zp("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pg(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ru(Fr(tA),e,s);const r=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Fr(tA);const l=zp(s,e.config.apiKey,e.name);let u=null;for(const m of n)try{const y=await m._get(l);if(y){let _;if(typeof y=="string"){const x=await pg(e,{idToken:y}).catch(()=>{});if(!x)break;_=await fi._fromGetAccountInfoResponse(e,x,y)}else _=fi._fromJSON(e,y);m!==o&&(u=_),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ru(o,e,s):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new ru(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h3(e))return"Blackberry";if(d3(e))return"Webos";if(o3(e))return"Safari";if((e.includes("chrome/")||l3(e))&&!e.includes("edge/"))return"Chrome";if(u3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a3(t=Bn()){return/firefox\//i.test(t)}function o3(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l3(t=Bn()){return/crios\//i.test(t)}function c3(t=Bn()){return/iemobile/i.test(t)}function u3(t=Bn()){return/android/i.test(t)}function h3(t=Bn()){return/blackberry/i.test(t)}function d3(t=Bn()){return/webos/i.test(t)}function $x(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DV(t=Bn()){var e;return $x(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kV(){return U9()&&document.documentMode===10}function f3(t=Bn()){return $x(t)||u3(t)||d3(t)||h3(t)||/windows phone/i.test(t)||c3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e=[]){let n;switch(t){case"Browser":n=nA(Bn());break;case"Worker":n=`${nA(Bn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return Io(t,"GET","/v2/passwordPolicy",Ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=6;class LV{constructor(e){var n,s,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:PV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new OV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var s,r,o;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pg(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(qr(this));const n=e?vn(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MV(this),n=new LV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jV(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,r);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jo(t){return vn(t)}class sA{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q9(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UV(t){ry=t}function p3(t){return ry.loadJS(t)}function FV(){return ry.recaptchaEnterpriseScript}function zV(){return ry.gapiScript}function BV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qV{constructor(){this.enterprise=new HV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GV="recaptcha-enterprise",g3="NO_RECAPTCHA";class $V{constructor(e){this.type=GV,this.auth=jo(e)}async verify(e="verify",n=!1){async function s(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{TV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new wV(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;J2(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{l(m)}).catch(()=>{l(g3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{s(this.auth).then(u=>{if(!n&&J2(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=FV();d.length!==0&&(d+=u),p3(d).then(()=>{r(u,o,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function iA(t,e,n,s=!1,r=!1){const o=new $V(t);let l;if(r)l=g3;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function gb(t,e,n,s,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iA(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await iA(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e){const n=sa(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Wr(o,e??{}))return r;Js(r,"already-initialized")}return n.initialize({options:e})}function WV(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QV(t,e,n){const s=jo(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=y3(e),{host:l,port:u}=YV(e),d=u===null?"":`:${u}`,m={url:`${o}//${l}${d}/`},y=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Wr(m,s.config.emulator)&&Wr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ta(l)?(ny(`${o}//${l}${d}`),sy("Auth",!0)):XV()}function y3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YV(t){const e=y3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:rA(s.substr(o.length+1))}}else{const[o,l]=s.split(":");return{host:o,port:rA(l)}}}function rA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function JV(t,e){return Io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return xf(t,"POST","/v1/accounts:signInWithPassword",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}async function t8(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Kx{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new qd(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new qd(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,n,"signInWithPassword",ZV);case"emailLink":return e8(e,{email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gb(e,s,"signUpPassword",JV);case"emailLink":return t8(e,{idToken:n,email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return xf(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="http://localhost";class Pl extends Kx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,o=zx(n,["providerId","signInMethod"]);if(!s||!r)return null;const l=new Pl(s,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return au(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,au(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,au(e,n)}buildRequest(){const e={requestUri:n8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i8(t){const e=md(pd(t)).link,n=e?md(pd(e)).deep_link_id:null,s=md(pd(t)).deep_link_id;return(s?md(pd(s)).link:null)||s||n||e||t}class Wx{constructor(e){var n,s,r,o,l,u;const d=md(pd(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,y=(s=d.oobCode)!==null&&s!==void 0?s:null,_=s8((r=d.mode)!==null&&r!==void 0?r:null);Ce(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=i8(e);try{return new Wx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,n){return qd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wx.parseLink(n);return Ce(s,"argument-error"),qd._fromEmailAndCode(e,s.code,s.tenantId)}}zu.PROVIDER_ID="password";zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends wf{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pl._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends wf{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends wf{constructor(){super("twitter.com")}static credential(e,n){return Pl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ja.credential(n,s)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){return xf(t,"POST","/v1/accounts:signUp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const o=await fi._fromIdTokenResponse(e,s,r),l=aA(s);return new Ll({user:o,providerId:l,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=aA(s);return new Ll({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function aA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends ei{constructor(e,n,s,r){var o;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new yg(e,n,s,r)}}function v3(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,o,e,s):o})}async function a8(t,e,n=!1){const s=await Bd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t,e,n=!1){const{auth:s}=t;if(Jn(s.app))return Promise.reject(qr(s));const r="reauthenticate";try{const o=await Bd(t,v3(s,r,e,t),n);Ce(o.idToken,s,"internal-error");const l=Gx(o.idToken);Ce(l,s,"internal-error");const{sub:u}=l;return Ce(t.uid===u,s,"user-mismatch"),Ll._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Js(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e,n=!1){if(Jn(t.app))return Promise.reject(qr(t));const s="signIn",r=await v3(t,s,e),o=await Ll._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(o.user),o}async function l8(t,e){return _3(jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t){const e=jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c8(t,e,n){if(Jn(t.app))return Promise.reject(qr(t));const s=jo(t),l=await gb(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r8).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&b3(t),d}),u=await Ll._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(u.user),u}function Yx(t,e,n){return Jn(t.app)?Promise.reject(qr(t)):l8(vn(t),zu.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&b3(t),s})}function u8(t,e,n,s){return vn(t).onIdTokenChanged(e,n,s)}function h8(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function ay(t,e,n,s){return vn(t).onAuthStateChanged(e,n,s)}function x3(t){return vn(t).signOut()}const vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vg,"1"),this.storage.removeItem(vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=1e3,f8=10;class T3 extends w3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(s);!n&&this.localCache[s]===l||this.notifyListeners(s,l)},o=this.storage.getItem(s);kV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,f8):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},d8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T3.type="LOCAL";const m8=T3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3 extends w3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E3.type="SESSION";const S3=E3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new oy(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const u=Array.from(l).map(async m=>m(n.origin,o)),d=await p8(u);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const m=Xx("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:r,onMessage(_){const x=_;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function y8(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function v8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b8(){return A3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="firebaseLocalStorageDb",x8=1,_g="firebaseLocalStorage",N3="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ly(t,e){return t.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function w8(){const t=indexedDB.deleteDatabase(C3);return new Tf(t).toPromise()}function yb(){const t=indexedDB.open(C3,x8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_g,{keyPath:N3})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_g)?e(s):(s.close(),await w8(),e(await yb()))})})}async function oA(t,e,n){const s=ly(t,!0).put({[N3]:e,value:n});return new Tf(s).toPromise()}async function T8(t,e){const n=ly(t,!1).get(e),s=await new Tf(n).toPromise();return s===void 0?null:s.value}function lA(t,e){const n=ly(t,!0).delete(e);return new Tf(n).toPromise()}const E8=800,S8=3;class R3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>S8)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oy._getInstance(b8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v8(),!this.activeServiceWorker)return;this.sender=new g8(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yb();return await oA(e,vg,"1"),await lA(e,vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oA(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>T8(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=ly(r,!1).getAll();return new Tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R3.type="LOCAL";const A8=R3;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e){return e?Fr(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Kx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C8(t){return _3(t.auth,new Jx(t),t.bypassAuthState)}function N8(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),o8(n,new Jx(t),t.bypassAuthState)}async function R8(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),a8(n,new Jx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C8;case"linkViaPopup":case"linkViaRedirect":return R8;case"reauthViaPopup":case"reauthViaRedirect":return N8;default:Js(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new bf(2e3,1e4);async function j8(t,e,n){if(Jn(t.app))return Promise.reject(vi(t,"operation-not-supported-in-this-environment"));const s=jo(t);fV(t,e,Qx);const r=I3(s,n);return new ml(s,"signInViaPopup",e,r).executeNotNull()}class ml extends j3{constructor(e,n,s,r,o){super(e,n,r,o),this.provider=s,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=Xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I8.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="pendingRedirect",Bp=new Map;class k8 extends j3{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const s=await O8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O8(t,e){const n=L8(e),s=P8(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function M8(t,e){Bp.set(t._key(),e)}function P8(t){return Fr(t._redirectPersistence)}function L8(t){return zp(D8,t.config.apiKey,t.name)}async function V8(t,e,n=!1){if(Jn(t.app))return Promise.reject(qr(t));const s=jo(t),r=I3(s,e),l=await new k8(s,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=600*1e3;class F8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!D3(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U8&&this.cachedEventUids.clear(),this.cachedEventUids.has(cA(e))}saveEventToCache(e){this.cachedEventUids.add(cA(e)),this.lastProcessedEventTime=Date.now()}}function cA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H8=/^https?/;async function G8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B8(t);for(const n of e)try{if($8(n))return}catch{}Js(t,"unauthorized-domain")}function $8(t){const e=mb(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===s}if(!H8.test(n))return!1;if(q8.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=new bf(3e4,6e4);function uA(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W8(t){return new Promise((e,n)=>{var s,r,o;function l(){uA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uA(),n(vi(t,"network-request-failed"))},timeout:K8.get()})}if(!((r=(s=Hi().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Hi().gapi)===null||o===void 0)&&o.load)l();else{const u=BV("iframefcb");return Hi()[u]=()=>{gapi.load?l():n(vi(t,"network-request-failed"))},p3(`${zV()}?onload=${u}`).catch(d=>n(d))}}).catch(e=>{throw qp=null,e})}let qp=null;function Q8(t){return qp=qp||W8(t),qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new bf(5e3,15e3),X8="__/auth/iframe",J8="emulator/auth/iframe",Z8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tU(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hx(e,J8):`https://${t.config.authDomain}/${X8}`,s={apiKey:e.apiKey,appName:t.name,v:No},r=eU.get(t.config.apiHost);r&&(s.eid=r);const o=t._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${Fu(s).slice(1)}`}async function nU(t){const e=await Q8(t),n=Hi().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:tU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z8,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const l=vi(t,"network-request-failed"),u=Hi().setTimeout(()=>{o(l)},Y8.get());function d(){Hi().clearTimeout(u),r(s)}s.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iU=500,rU=600,aU="_blank",oU="http://localhost";class hA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lU(t,e,n,s=iU,r=rU){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const d=Object.assign(Object.assign({},sU),{width:s.toString(),height:r.toString(),top:o,left:l}),m=Bn().toLowerCase();n&&(u=l3(m)?aU:n),a3(m)&&(e=e||oU,d.scrollbars="yes");const y=Object.entries(d).reduce((x,[E,S])=>`${x}${E}=${S},`,"");if(DV(m)&&u!=="_self")return cU(e||"",u),new hA(null);const _=window.open(e||"",u,y);Ce(_,t,"popup-blocked");try{_.focus()}catch{}return new hA(_)}function cU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="__/auth/handler",hU="emulator/auth/handler",dU=encodeURIComponent("fac");async function dA(t,e,n,s,r,o){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:No,eventId:r};if(e instanceof Qx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",lb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof wf){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const d=await t._getAppCheckToken(),m=d?`#${dU}=${encodeURIComponent(d)}`:"";return`${fU(t)}?${Fu(u).slice(1)}${m}`}function fU({config:t}){return t.emulator?Hx(t,hU):`https://${t.authDomain}/${uU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="webStorageSupport";class mU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S3,this._completeRedirectFn=V8,this._overrideRedirectResult=M8}async _openPopup(e,n,s,r){var o;Yr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await dA(e,n,s,mb(),r);return lU(e,l,Xx())}async _openRedirect(e,n,s,r){await this._originValidation(e);const o=await dA(e,n,s,mb(),r);return y8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Yr(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nU(e),s=new F8(e);return n.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o_,{type:o_},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[o_];l!==void 0&&n(!!l),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f3()||o3()||$x()}}const pU=mU;var fA="@firebase/auth",mA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vU(t){Xs(new Ns("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=s.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m3(t)},m=new VV(s,r,o,d);return WV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Ns("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(s=>new gU(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(fA,mA,yU(t)),zn(fA,mA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=300,bU=zI("authIdTokenMaxAge")||_U;let pA=null;const xU=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bU)return;const r=n==null?void 0:n.token;pA!==r&&(pA=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function cy(t=_f()){const e=sa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KV(t,{popupRedirectResolver:pU,persistence:[A8,m8,S3]}),s=zI("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const l=xU(o.toString());h8(n,l,()=>l(n.currentUser)),u8(n,u=>l(u))}}const r=UI("auth");return r&&QV(n,`http://${r}`),n}function wU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const o=vi("internal-error");o.customData=r,n(o)},s.type="text/javascript",s.charset="UTF-8",wU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vU("Browser");var TU="firebase",EU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(TU,EU,"app");const k3="@firebase/installations",Zx="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e4,M3=`w:${Zx}`,P3="FIS_v2",SU="https://firebaseinstallations.googleapis.com/v1",AU=3600*1e3,CU="installations",NU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vl=new Wl(CU,NU,RU);function L3(t){return t instanceof ei&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3({projectId:t}){return`${SU}/projects/${t}/installations`}function U3(t){return{token:t.token,requestStatus:2,expiresIn:jU(t.expiresIn),creationTime:Date.now()}}async function F3(t,e){const s=(await e.json()).error;return Vl.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function z3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IU(t,{refreshToken:e}){const n=z3(t);return n.append("Authorization",DU(e)),n}async function B3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jU(t){return Number(t.replace("s","000"))}function DU(t){return`${P3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=V3(t),r=z3(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const l={fid:n,authVersion:P3,appId:t.appId,sdkVersion:M3},u={method:"POST",headers:r,body:JSON.stringify(l)},d=await B3(()=>fetch(s,u));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:U3(m.authToken)}}else throw await F3("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=/^[cdef][\w-]{21}$/,vb="";function PU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=LU(t);return MU.test(n)?n:vb}catch{return vb}}function LU(t){return OU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Map;function G3(t,e){const n=uy(t);$3(n,e),VU(n,e)}function $3(t,e){const n=H3.get(t);if(n)for(const s of n)s(e)}function VU(t,e){const n=UU();n&&n.postMessage({key:t,fid:e}),FU()}let pl=null;function UU(){return!pl&&"BroadcastChannel"in self&&(pl=new BroadcastChannel("[Firebase] FID Change"),pl.onmessage=t=>{$3(t.data.key,t.data.fid)}),pl}function FU(){H3.size===0&&pl&&(pl.close(),pl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="firebase-installations-database",BU=1,Ul="firebase-installations-store";let l_=null;function e1(){return l_||(l_=QI(zU,BU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ul)}}})),l_}async function bg(t,e){const n=uy(t),r=(await e1()).transaction(Ul,"readwrite"),o=r.objectStore(Ul),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&G3(t,e.fid),e}async function K3(t){const e=uy(t),s=(await e1()).transaction(Ul,"readwrite");await s.objectStore(Ul).delete(e),await s.done}async function hy(t,e){const n=uy(t),r=(await e1()).transaction(Ul,"readwrite"),o=r.objectStore(Ul),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!l||l.fid!==u.fid)&&G3(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(t){let e;const n=await hy(t.appConfig,s=>{const r=qU(s),o=HU(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===vb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qU(t){const e=t||{fid:PU(),registrationStatus:0};return W3(e)}function HU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Vl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=GU(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$U(t)}:{installationEntry:e}}async function GU(t,e){try{const n=await kU(t,e);return bg(t.appConfig,n)}catch(n){throw L3(n)&&n.customData.serverCode===409?await K3(t.appConfig):await bg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $U(t){let e=await gA(t.appConfig);for(;e.registrationStatus===1;)await q3(100),e=await gA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await t1(t);return s||n}return e}function gA(t){return hy(t,e=>{if(!e)throw Vl.create("installation-not-found");return W3(e)})}function W3(t){return KU(t)?{fid:t.fid,registrationStatus:0}:t}function KU(t){return t.registrationStatus===1&&t.registrationTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU({appConfig:t,heartbeatServiceProvider:e},n){const s=QU(t,n),r=IU(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const l={installation:{sdkVersion:M3,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},d=await B3(()=>fetch(s,u));if(d.ok){const m=await d.json();return U3(m)}else throw await F3("Generate Auth Token",d)}function QU(t,{fid:e}){return`${V3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t,e=!1){let n;const s=await hy(t.appConfig,o=>{if(!Q3(o))throw Vl.create("not-registered");const l=o.authToken;if(!e&&JU(l))return o;if(l.requestStatus===1)return n=YU(t,e),o;{if(!navigator.onLine)throw Vl.create("app-offline");const u=e7(o);return n=XU(t,u),u}});return n?await n:s.authToken}async function YU(t,e){let n=await yA(t.appConfig);for(;n.authToken.requestStatus===1;)await q3(100),n=await yA(t.appConfig);const s=n.authToken;return s.requestStatus===0?n1(t,e):s}function yA(t){return hy(t,e=>{if(!Q3(e))throw Vl.create("not-registered");const n=e.authToken;return t7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function XU(t,e){try{const n=await WU(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await bg(t.appConfig,s),n}catch(n){if(L3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await K3(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bg(t.appConfig,s)}throw n}}function Q3(t){return t!==void 0&&t.registrationStatus===2}function JU(t){return t.requestStatus===2&&!ZU(t)}function ZU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AU}function e7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function t7(t){return t.requestStatus===1&&t.requestTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t){const e=t,{installationEntry:n,registrationPromise:s}=await t1(e);return s?s.catch(console.error):n1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e=!1){const n=t;return await i7(n),(await n1(n,e)).token}async function i7(t){const{registrationPromise:e}=await t1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){if(!t||!t.options)throw c_("App Configuration");if(!t.name)throw c_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw c_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function c_(t){return Vl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="installations",a7="installations-internal",o7=t=>{const e=t.getProvider("app").getImmediate(),n=r7(e),s=sa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},l7=t=>{const e=t.getProvider("app").getImmediate(),n=sa(e,Y3).getImmediate();return{getId:()=>n7(n),getToken:r=>s7(n,r)}};function c7(){Xs(new Ns(Y3,o7,"PUBLIC")),Xs(new Ns(a7,l7,"PRIVATE"))}c7();zn(k3,Zx);zn(k3,Zx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="analytics",u7="firebase_id",h7="origin",d7=60*1e3,f7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",s1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},As=new Wl("analytics","Analytics",m7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){if(!t.startsWith(s1)){const e=As.create("invalid-gtag-resource",{gtagURL:t});return fs.warn(e.message),""}return t}function X3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function g7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function y7(t,e){const n=g7("firebase-js-sdk-policy",{createScriptURL:p7}),s=document.createElement("script"),r=`${s1}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function v7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _7(t,e,n,s,r,o){const l=s[r];try{if(l)await e[l];else{const d=(await X3(n)).find(m=>m.measurementId===r);d&&await e[d.appId]}}catch(u){fs.error(u)}t("config",r,o)}async function b7(t,e,n,s,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await X3(n);for(const d of l){const m=u.find(_=>_.measurementId===d),y=m&&e[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",s,r||{})}catch(o){fs.error(o)}}function x7(t,e,n,s){async function r(o,...l){try{if(o==="event"){const[u,d]=l;await b7(t,e,n,u,d)}else if(o==="config"){const[u,d]=l;await _7(t,e,n,s,u,d)}else if(o==="consent"){const[u,d]=l;t("consent",u,d)}else if(o==="get"){const[u,d,m]=l;t("get",u,d,m)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){fs.error(u)}}return r}function w7(t,e,n,s,r){let o=function(...l){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=x7(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function T7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(s1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=30,S7=1e3;class A7{constructor(e={},n=S7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const J3=new A7;function C7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function N7(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:C7(s)},o=f7.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw As.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function R7(t,e=J3,n){const{appId:s,apiKey:r,measurementId:o}=t.options;if(!s)throw As.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:s};throw As.create("no-api-key")}const l=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new D7;return setTimeout(async()=>{u.abort()},d7),Z3({appId:s,apiKey:r,measurementId:o},l,u,e)}async function Z3(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=J3){var o;const{appId:l,measurementId:u}=t;try{await I7(s,e)}catch(d){if(u)return fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:l,measurementId:u};throw d}try{const d=await N7(t);return r.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!j7(m)){if(r.deleteThrottleMetadata(l),u)return fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:l,measurementId:u};throw d}const y=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?B2(n,r.intervalMillis,E7):B2(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return r.setThrottleMetadata(l,_),fs.debug(`Calling attemptFetch again in ${y} millis`),Z3(t,_,s,r)}}function I7(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),s(As.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j7(t){if(!(t instanceof ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class D7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k7(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const o=await e,l=Object.assign(Object.assign({},s),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(){if(HI())try{await GI()}catch(t){return fs.warn(As.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fs.warn(As.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M7(t,e,n,s,r,o,l){var u;const d=R7(t);d.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&fs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>fs.error(E)),e.push(d);const m=O7().then(E=>{if(E)return s.getId()}),[y,_]=await Promise.all([d,m]);T7(o)||y7(o,y.measurementId),r("js",new Date);const x=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return x[h7]="firebase",x.update=!0,_!=null&&(x[u7]=_),r("config",y.measurementId,x),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.app=e}_delete(){return delete Td[this.app.options.appId],Promise.resolve()}}let Td={},vA=[];const _A={};let u_="dataLayer",L7="gtag",bA,ej,xA=!1;function V7(){const t=[];if(BI()&&t.push("This is a browser extension environment."),B9()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=As.create("invalid-analytics-context",{errorInfo:e});fs.warn(n.message)}}function U7(t,e,n){V7();const s=t.options.appId;if(!s)throw As.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw As.create("no-api-key");if(Td[s]!=null)throw As.create("already-exists",{id:s});if(!xA){v7(u_);const{wrappedGtag:o,gtagCore:l}=w7(Td,vA,_A,u_,L7);ej=o,bA=l,xA=!0}return Td[s]=M7(t,vA,_A,e,bA,u_,n),new P7(t)}function F7(t=_f()){t=vn(t);const e=sa(t,xg);return e.isInitialized()?e.getImmediate():z7(t)}function z7(t,e={}){const n=sa(t,xg);if(n.isInitialized()){const r=n.getImmediate();if(Wr(e,n.getOptions()))return r;throw As.create("already-initialized")}return n.initialize({options:e})}function B7(t,e,n,s){t=vn(t),k7(ej,Td[t.app.options.appId],e,n,s).catch(r=>fs.error(r))}const wA="@firebase/analytics",TA="0.10.17";function q7(){Xs(new Ns(xg,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return U7(s,r,n)},"PUBLIC")),Xs(new Ns("analytics-internal",t,"PRIVATE")),zn(wA,TA),zn(wA,TA,"esm2017");function t(e){try{const n=e.getProvider(xg).getImmediate();return{logEvent:(s,r,o)=>B7(n,s,r,o)}}catch(n){throw As.create("interop-component-reg-failed",{reason:n})}}}q7();var EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,tj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,C){function k(){}k.prototype=C.prototype,j.D=C.prototype,j.prototype=new k,j.prototype.constructor=j,j.C=function(O,U,q){for(var P=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)P[Je-2]=arguments[Je];return C.prototype[U].apply(O,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(j,C,k){k||(k=0);var O=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)O[U]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(U=0;16>U;++U)O[U]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=j.g[0],k=j.g[1],U=j.g[2];var q=j.g[3],P=C+(q^k&(U^q))+O[0]+3614090360&4294967295;C=k+(P<<7&4294967295|P>>>25),P=q+(U^C&(k^U))+O[1]+3905402710&4294967295,q=C+(P<<12&4294967295|P>>>20),P=U+(k^q&(C^k))+O[2]+606105819&4294967295,U=q+(P<<17&4294967295|P>>>15),P=k+(C^U&(q^C))+O[3]+3250441966&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(q^k&(U^q))+O[4]+4118548399&4294967295,C=k+(P<<7&4294967295|P>>>25),P=q+(U^C&(k^U))+O[5]+1200080426&4294967295,q=C+(P<<12&4294967295|P>>>20),P=U+(k^q&(C^k))+O[6]+2821735955&4294967295,U=q+(P<<17&4294967295|P>>>15),P=k+(C^U&(q^C))+O[7]+4249261313&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(q^k&(U^q))+O[8]+1770035416&4294967295,C=k+(P<<7&4294967295|P>>>25),P=q+(U^C&(k^U))+O[9]+2336552879&4294967295,q=C+(P<<12&4294967295|P>>>20),P=U+(k^q&(C^k))+O[10]+4294925233&4294967295,U=q+(P<<17&4294967295|P>>>15),P=k+(C^U&(q^C))+O[11]+2304563134&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(q^k&(U^q))+O[12]+1804603682&4294967295,C=k+(P<<7&4294967295|P>>>25),P=q+(U^C&(k^U))+O[13]+4254626195&4294967295,q=C+(P<<12&4294967295|P>>>20),P=U+(k^q&(C^k))+O[14]+2792965006&4294967295,U=q+(P<<17&4294967295|P>>>15),P=k+(C^U&(q^C))+O[15]+1236535329&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(U^q&(k^U))+O[1]+4129170786&4294967295,C=k+(P<<5&4294967295|P>>>27),P=q+(k^U&(C^k))+O[6]+3225465664&4294967295,q=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(q^C))+O[11]+643717713&4294967295,U=q+(P<<14&4294967295|P>>>18),P=k+(q^C&(U^q))+O[0]+3921069994&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^q&(k^U))+O[5]+3593408605&4294967295,C=k+(P<<5&4294967295|P>>>27),P=q+(k^U&(C^k))+O[10]+38016083&4294967295,q=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(q^C))+O[15]+3634488961&4294967295,U=q+(P<<14&4294967295|P>>>18),P=k+(q^C&(U^q))+O[4]+3889429448&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^q&(k^U))+O[9]+568446438&4294967295,C=k+(P<<5&4294967295|P>>>27),P=q+(k^U&(C^k))+O[14]+3275163606&4294967295,q=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(q^C))+O[3]+4107603335&4294967295,U=q+(P<<14&4294967295|P>>>18),P=k+(q^C&(U^q))+O[8]+1163531501&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^q&(k^U))+O[13]+2850285829&4294967295,C=k+(P<<5&4294967295|P>>>27),P=q+(k^U&(C^k))+O[2]+4243563512&4294967295,q=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(q^C))+O[7]+1735328473&4294967295,U=q+(P<<14&4294967295|P>>>18),P=k+(q^C&(U^q))+O[12]+2368359562&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(k^U^q)+O[5]+4294588738&4294967295,C=k+(P<<4&4294967295|P>>>28),P=q+(C^k^U)+O[8]+2272392833&4294967295,q=C+(P<<11&4294967295|P>>>21),P=U+(q^C^k)+O[11]+1839030562&4294967295,U=q+(P<<16&4294967295|P>>>16),P=k+(U^q^C)+O[14]+4259657740&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^q)+O[1]+2763975236&4294967295,C=k+(P<<4&4294967295|P>>>28),P=q+(C^k^U)+O[4]+1272893353&4294967295,q=C+(P<<11&4294967295|P>>>21),P=U+(q^C^k)+O[7]+4139469664&4294967295,U=q+(P<<16&4294967295|P>>>16),P=k+(U^q^C)+O[10]+3200236656&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^q)+O[13]+681279174&4294967295,C=k+(P<<4&4294967295|P>>>28),P=q+(C^k^U)+O[0]+3936430074&4294967295,q=C+(P<<11&4294967295|P>>>21),P=U+(q^C^k)+O[3]+3572445317&4294967295,U=q+(P<<16&4294967295|P>>>16),P=k+(U^q^C)+O[6]+76029189&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^q)+O[9]+3654602809&4294967295,C=k+(P<<4&4294967295|P>>>28),P=q+(C^k^U)+O[12]+3873151461&4294967295,q=C+(P<<11&4294967295|P>>>21),P=U+(q^C^k)+O[15]+530742520&4294967295,U=q+(P<<16&4294967295|P>>>16),P=k+(U^q^C)+O[2]+3299628645&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(U^(k|~q))+O[0]+4096336452&4294967295,C=k+(P<<6&4294967295|P>>>26),P=q+(k^(C|~U))+O[7]+1126891415&4294967295,q=C+(P<<10&4294967295|P>>>22),P=U+(C^(q|~k))+O[14]+2878612391&4294967295,U=q+(P<<15&4294967295|P>>>17),P=k+(q^(U|~C))+O[5]+4237533241&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~q))+O[12]+1700485571&4294967295,C=k+(P<<6&4294967295|P>>>26),P=q+(k^(C|~U))+O[3]+2399980690&4294967295,q=C+(P<<10&4294967295|P>>>22),P=U+(C^(q|~k))+O[10]+4293915773&4294967295,U=q+(P<<15&4294967295|P>>>17),P=k+(q^(U|~C))+O[1]+2240044497&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~q))+O[8]+1873313359&4294967295,C=k+(P<<6&4294967295|P>>>26),P=q+(k^(C|~U))+O[15]+4264355552&4294967295,q=C+(P<<10&4294967295|P>>>22),P=U+(C^(q|~k))+O[6]+2734768916&4294967295,U=q+(P<<15&4294967295|P>>>17),P=k+(q^(U|~C))+O[13]+1309151649&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~q))+O[4]+4149444226&4294967295,C=k+(P<<6&4294967295|P>>>26),P=q+(k^(C|~U))+O[11]+3174756917&4294967295,q=C+(P<<10&4294967295|P>>>22),P=U+(C^(q|~k))+O[2]+718787259&4294967295,U=q+(P<<15&4294967295|P>>>17),P=k+(q^(U|~C))+O[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,j.g[2]=j.g[2]+U&4294967295,j.g[3]=j.g[3]+q&4294967295}s.prototype.u=function(j,C){C===void 0&&(C=j.length);for(var k=C-this.blockSize,O=this.B,U=this.h,q=0;q<C;){if(U==0)for(;q<=k;)r(this,j,q),q+=this.blockSize;if(typeof j=="string"){for(;q<C;)if(O[U++]=j.charCodeAt(q++),U==this.blockSize){r(this,O),U=0;break}}else for(;q<C;)if(O[U++]=j[q++],U==this.blockSize){r(this,O),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;var k=8*this.o;for(C=j.length-8;C<j.length;++C)j[C]=k&255,k/=256;for(this.u(j),j=Array(16),C=k=0;4>C;++C)for(var O=0;32>O;O+=8)j[k++]=this.g[C]>>>O&255;return j};function o(j,C){var k=u;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=C(j)}function l(j,C){this.h=C;for(var k=[],O=!0,U=j.length-1;0<=U;U--){var q=j[U]|0;O&&q==C||(k[U]=q,O=!1)}this.g=k}var u={};function d(j){return-128<=j&&128>j?o(j,function(C){return new l([C|0],0>C?-1:0)}):new l([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return _;if(0>j)return N(m(-j));for(var C=[],k=1,O=0;j>=k;O++)C[O]=j/k|0,k*=4294967296;return new l(C,0)}function y(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return N(y(j.substring(1),C));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(C,8)),O=_,U=0;U<j.length;U+=8){var q=Math.min(8,j.length-U),P=parseInt(j.substring(U,U+q),C);8>q?(q=m(Math.pow(C,q)),O=O.j(q).add(m(P))):(O=O.j(k),O=O.add(m(P)))}return O}var _=d(0),x=d(1),E=d(16777216);t=l.prototype,t.m=function(){if(R(this))return-N(this).m();for(var j=0,C=1,k=0;k<this.g.length;k++){var O=this.i(k);j+=(0<=O?O:4294967296+O)*C,C*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S(this))return"0";if(R(this))return"-"+N(this).toString(j);for(var C=m(Math.pow(j,6)),k=this,O="";;){var U=$(k,C).g;k=M(k,U.j(C));var q=((0<k.g.length?k.g[0]:k.h)>>>0).toString(j);if(k=U,S(k))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function S(j){if(j.h!=0)return!1;for(var C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function R(j){return j.h==-1}t.l=function(j){return j=M(this,j),R(j)?-1:S(j)?0:1};function N(j){for(var C=j.g.length,k=[],O=0;O<C;O++)k[O]=~j.g[O];return new l(k,~j.h).add(x)}t.abs=function(){return R(this)?N(this):this},t.add=function(j){for(var C=Math.max(this.g.length,j.g.length),k=[],O=0,U=0;U<=C;U++){var q=O+(this.i(U)&65535)+(j.i(U)&65535),P=(q>>>16)+(this.i(U)>>>16)+(j.i(U)>>>16);O=P>>>16,q&=65535,P&=65535,k[U]=P<<16|q}return new l(k,k[k.length-1]&-2147483648?-1:0)};function M(j,C){return j.add(N(C))}t.j=function(j){if(S(this)||S(j))return _;if(R(this))return R(j)?N(this).j(N(j)):N(N(this).j(j));if(R(j))return N(this.j(N(j)));if(0>this.l(E)&&0>j.l(E))return m(this.m()*j.m());for(var C=this.g.length+j.g.length,k=[],O=0;O<2*C;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<j.g.length;U++){var q=this.i(O)>>>16,P=this.i(O)&65535,Je=j.i(U)>>>16,_t=j.i(U)&65535;k[2*O+2*U]+=P*_t,H(k,2*O+2*U),k[2*O+2*U+1]+=q*_t,H(k,2*O+2*U+1),k[2*O+2*U+1]+=P*Je,H(k,2*O+2*U+1),k[2*O+2*U+2]+=q*Je,H(k,2*O+2*U+2)}for(O=0;O<C;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=C;O<2*C;O++)k[O]=0;return new l(k,0)};function H(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function L(j,C){this.g=j,this.h=C}function $(j,C){if(S(C))throw Error("division by zero");if(S(j))return new L(_,_);if(R(j))return C=$(N(j),C),new L(N(C.g),N(C.h));if(R(C))return C=$(j,N(C)),new L(N(C.g),C.h);if(30<j.g.length){if(R(j)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var k=x,O=C;0>=O.l(j);)k=K(k),O=K(O);var U=Q(k,1),q=Q(O,1);for(O=Q(O,2),k=Q(k,2);!S(O);){var P=q.add(O);0>=P.l(j)&&(U=U.add(k),q=P),O=Q(O,1),k=Q(k,1)}return C=M(j,U.j(C)),new L(U,C)}for(U=_;0<=j.l(C);){for(k=Math.max(1,Math.floor(j.m()/C.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=m(k),P=q.j(C);R(P)||0<P.l(j);)k-=O,q=m(k),P=q.j(C);S(q)&&(q=x),U=U.add(q),j=M(j,P)}return new L(U,j)}t.A=function(j){return $(this,j).h},t.and=function(j){for(var C=Math.max(this.g.length,j.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)&j.i(O);return new l(k,this.h&j.h)},t.or=function(j){for(var C=Math.max(this.g.length,j.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)|j.i(O);return new l(k,this.h|j.h)},t.xor=function(j){for(var C=Math.max(this.g.length,j.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)^j.i(O);return new l(k,this.h^j.h)};function K(j){for(var C=j.g.length+1,k=[],O=0;O<C;O++)k[O]=j.i(O)<<1|j.i(O-1)>>>31;return new l(k,j.h)}function Q(j,C){var k=C>>5;C%=32;for(var O=j.g.length-k,U=[],q=0;q<O;q++)U[q]=0<C?j.i(q+k)>>>C|j.i(q+k+1)<<32-C:j.i(q+k);return new l(U,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tj=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,mo=l}).apply(typeof EA<"u"?EA:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nj,gd,sj,Hp,_b,ij,rj,aj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,T){return p==Array.prototype||p==Object.prototype||(p[b]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function r(p,b){if(b)e:{var T=s;p=p.split(".");for(var I=0;I<p.length-1;I++){var W=p[I];if(!(W in T))break e;T=T[W]}p=p[p.length-1],I=T[p],b=b(I),b!=I&&b!=null&&e(T,p,{configurable:!0,writable:!0,value:b})}}function o(p,b){p instanceof String&&(p+="");var T=0,I=!1,W={next:function(){if(!I&&T<p.length){var te=T++;return{value:b(te,p[te]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(p){return p||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function m(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function y(p,b,T){return p.call.apply(p.bind,arguments)}function _(p,b,T){if(!p)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),p.apply(b,W)}}return function(){return p.apply(b,arguments)}}function x(p,b,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,x.apply(null,arguments)}function E(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),p.apply(this,I)}}function S(p,b){function T(){}T.prototype=b.prototype,p.aa=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(I,W,te){for(var he=Array(arguments.length-2),at=2;at<arguments.length;at++)he[at-2]=arguments[at];return b.prototype[W].apply(I,he)}}function R(p){const b=p.length;if(0<b){const T=Array(b);for(let I=0;I<b;I++)T[I]=p[I];return T}return[]}function N(p,b){for(let T=1;T<arguments.length;T++){const I=arguments[T];if(d(I)){const W=p.length||0,te=I.length||0;p.length=W+te;for(let he=0;he<te;he++)p[W+he]=I[he]}else p.push(I)}}class M{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function H(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var K=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Q(p,b,T){for(const I in p)b.call(T,p[I],I,p)}function j(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function C(p){const b={};for(const T in p)b[T]=p[T];return b}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(p,b){let T,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(T in I)p[T]=I[T];for(let te=0;te<k.length;te++)T=k[te],Object.prototype.hasOwnProperty.call(I,T)&&(p[T]=I[T])}}function U(p){var b=1;p=p.split(":");const T=[];for(;0<b&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function q(p){u.setTimeout(()=>{throw p},0)}function P(){var p=ke;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class Je{constructor(){this.h=this.g=null}add(b,T){const I=_t.get();I.set(b,T),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new M(()=>new ne,p=>p.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,ke=new Je,Ve=()=>{const p=u.Promise.resolve(void 0);le=()=>{p.then(z)}};var z=()=>{for(var p;p=P();){try{p.h.call(p.g)}catch(T){q(T)}var b=_t;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}de=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return p})();function Se(p,b){if(ue.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,I=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(K){e:{try{$(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement);this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ue[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Se.aa.h.call(this)}}S(Se,ue);var Ue={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),_n=0;function It(p,b,T,I,W){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!I,this.ha=W,this.key=++_n,this.da=this.fa=!1}function Ti(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ir(p){this.src=p,this.g={},this.h=0}ir.prototype.add=function(p,b,T,I,W){var te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);var he=tc(p,b,I,W);return-1<he?(b=p[he],T||(b.fa=!1)):(b=new It(b,this.src,te,!!I,W),b.fa=T,p.push(b)),b};function ko(p,b){var T=b.type;if(T in p.g){var I=p.g[T],W=Array.prototype.indexOf.call(I,b,void 0),te;(te=0<=W)&&Array.prototype.splice.call(I,W,1),te&&(Ti(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function tc(p,b,T,I){for(var W=0;W<p.length;++W){var te=p[W];if(!te.da&&te.listener==b&&te.capture==!!T&&te.ha==I)return W}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Oo={};function nc(p,b,T,I,W){if(Array.isArray(b)){for(var te=0;te<b.length;te++)nc(p,b[te],T,I,W);return null}return T=Gf(T),p&&p[We]?p.K(b,T,m(I)?!!I.capture:!1,W):qy(p,b,T,!1,I,W)}function qy(p,b,T,I,W,te){if(!b)throw Error("Invalid event type");var he=m(W)?!!W.capture:!!W,at=th(p);if(at||(p[ti]=at=new ir(p)),T=at.add(b,T,I,he,te),T.proxy)return T;if(I=Hf(),T.proxy=I,I.src=p,I.listener=T,p.addEventListener)ge||(W=he),W===void 0&&(W=!1),p.addEventListener(b.toString(),I,W);else if(p.attachEvent)p.attachEvent(ic(b.toString()),I);else if(p.addListener&&p.removeListener)p.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Hf(){function p(T){return b.call(p.src,p.listener,T)}const b=Hy;return p}function sc(p,b,T,I,W){if(Array.isArray(b))for(var te=0;te<b.length;te++)sc(p,b[te],T,I,W);else I=m(I)?!!I.capture:!!I,T=Gf(T),p&&p[We]?(p=p.i,b=String(b).toString(),b in p.g&&(te=p.g[b],T=tc(te,T,I,W),-1<T&&(Ti(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete p.g[b],p.h--)))):p&&(p=th(p))&&(b=p.g[b.toString()],p=-1,b&&(p=tc(b,T,I,W)),(T=-1<p?b[p]:null)&&Mo(T))}function Mo(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[We])ko(b.i,p);else{var T=p.type,I=p.proxy;b.removeEventListener?b.removeEventListener(T,I,p.capture):b.detachEvent?b.detachEvent(ic(T),I):b.addListener&&b.removeListener&&b.removeListener(I),(T=th(b))?(ko(T,p),T.h==0&&(T.src=null,b[ti]=null)):Ti(p)}}}function ic(p){return p in Oo?Oo[p]:Oo[p]="on"+p}function Hy(p,b){if(p.da)p=!0;else{b=new Se(b,this);var T=p.listener,I=p.ha||p.src;p.fa&&Mo(p),p=T.call(I,b)}return p}function th(p){return p=p[ti],p instanceof ir?p:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gf(p){return typeof p=="function"?p:(p[bn]||(p[bn]=function(b){return p.handleEvent(b)}),p[bn])}function en(){se.call(this),this.i=new ir(this),this.M=this,this.F=null}S(en,se),en.prototype[We]=!0,en.prototype.removeEventListener=function(p,b,T,I){sc(this,p,b,T,I)};function an(p,b){var T,I=p.F;if(I)for(T=[];I;I=I.F)T.push(I);if(p=p.M,I=b.type||b,typeof b=="string")b=new ue(b,p);else if(b instanceof ue)b.target=b.target||p;else{var W=b;b=new ue(I,p),O(b,W)}if(W=!0,T)for(var te=T.length-1;0<=te;te--){var he=b.g=T[te];W=rr(he,I,!0,b)&&W}if(he=b.g=p,W=rr(he,I,!0,b)&&W,W=rr(he,I,!1,b)&&W,T)for(te=0;te<T.length;te++)he=b.g=T[te],W=rr(he,I,!1,b)&&W}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var T=p.g[b],I=0;I<T.length;I++)Ti(T[I]);delete p.g[b],p.h--}}this.F=null},en.prototype.K=function(p,b,T,I){return this.i.add(String(p),b,!1,T,I)},en.prototype.L=function(p,b,T,I){return this.i.add(String(p),b,!0,T,I)};function rr(p,b,T,I){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,te=0;te<b.length;++te){var he=b[te];if(he&&!he.da&&he.capture==T){var at=he.listener,Ht=he.ha||he.src;he.fa&&ko(p.i,he),W=at.call(Ht,I)!==!1&&W}}return W&&!I.defaultPrevented}function $f(p,b,T){if(typeof p=="function")T&&(p=x(p,T));else if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(p,b||0)}function nh(p){p.g=$f(()=>{p.g=null,p.i&&(p.i=!1,nh(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Gy extends se{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(p){se.call(this),this.h=p,this.g={}}S(Po,se);var ia=[];function In(p){Q(p.g,function(b,T){this.g.hasOwnProperty(T)&&Mo(b)},p),p.g={}}Po.prototype.N=function(){Po.aa.N.call(this),In(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=u.JSON.stringify,qn=u.JSON.parse,$y=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function sh(){}sh.prototype.h=null;function Kf(p){return p.h||(p.h=p.i())}function Lo(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){ue.call(this,"d")}S(ra,ue);function ni(){ue.call(this,"c")}S(ni,ue);var js={},aa=null;function rc(){return aa=aa||new en}js.La="serverreachability";function ih(p){ue.call(this,js.La,p)}S(ih,ue);function ar(p){const b=rc();an(b,new ih(b))}js.STAT_EVENT="statevent";function oa(p,b){ue.call(this,js.STAT_EVENT,p),this.stat=b}S(oa,ue);function xn(p){const b=rc();an(b,new oa(b,p))}js.Ma="timingevent";function rh(p,b){ue.call(this,js.Ma,p),this.size=b}S(rh,ue);function la(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},b)}function ca(){this.g=!0}ca.prototype.xa=function(){this.g=!1};function ah(p,b,T,I,W,te){p.info(function(){if(p.g)if(te)for(var he="",at=te.split("&"),Ht=0;Ht<at.length;Ht++){var Fe=at[Ht].split("=");if(1<Fe.length){var ln=Fe[0];Fe=Fe[1];var cn=ln.split("_");he=2<=cn.length&&cn[1]=="type"?he+(ln+"="+Fe+"&"):he+(ln+"=redacted&")}}else he=null;else he=te;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+b+`
`+T+`
`+he})}function oh(p,b,T,I,W,te,he){p.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+b+`
`+T+`
`+te+" "+he})}function or(p,b,T,I){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+Si(p,T)+(I?" "+I:"")})}function Wf(p,b){p.info(function(){return"TIMEOUT: "+b})}ca.prototype.info=function(){};function Si(p,b){if(!p.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var I=T[p];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var te=W[0];if(te!="noop"&&te!="stop"&&te!="close")for(var he=1;he<W.length;he++)W[he]=""}}}}return Is(T)}catch{return b}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function ua(){}S(ua,sh),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},Ai=new ua;function Ci(p,b,T,I){this.j=p,this.i=b,this.l=T,this.R=I||1,this.U=new Po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qf}function Qf(){this.i=null,this.g="",this.h=!1}var lh={},lr={};function Vo(p,b,T){p.L=1,p.v=zo(Ot(b)),p.m=T,p.P=!0,cr(p,null)}function cr(p,b){p.F=Date.now(),si(p),p.A=Ot(p.v);var T=p.A,I=p.R;Array.isArray(I)||(I=[String(I)]),dr(T.i,"t",I),p.C=0,T=p.j.J,p.h=new Qf,p.g=hm(p.j,T?b:null,!p.m),0<p.O&&(p.M=new Gy(x(p.Y,p,p.g),p.O)),b=p.U,T=p.g,I=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(ia[0]=W.toString()),W=ia);for(var te=0;te<W.length;te++){var he=nc(T,W[te],I||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),ar(),ah(p.i,p.u,p.A,p.l,p.R,p.m)}Ci.prototype.ca=function(p){p=p.target;const b=this.M;b&&$n(p)==3?b.j():this.Y(p)},Ci.prototype.Y=function(p){try{if(p==this.g)e:{const cn=$n(this.g);var b=this.g.Ba();const Ta=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||cn!=4||b==7||(b==8||0>=Ta?ar(3):ar(2)),ac(this);var T=this.g.Z();this.X=T;t:if(ur(this)){var I=Ho(this.g);p="";var W=I.length,te=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),ha(this);var he="";break t}this.h.i=new u.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,p+=this.h.i.decode(I[b],{stream:!(te&&b==W-1)});I.length=0,this.h.g+=p,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,oh(this.i,this.u,this.A,this.l,this.R,cn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Ht=this.g;if((at=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(at)){var Fe=at;break t}}Fe=null}if(T=Fe)or(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ni(this,T);else{this.o=!1,this.s=3,xn(12),Hn(this),ha(this);break e}}if(this.P){T=!0;let ns;for(;!this.J&&this.C<he.length;)if(ns=Uo(this,he),ns==lr){cn==4&&(this.s=4,xn(14),T=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(ns==lh){this.s=4,xn(15),or(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else or(this.i,this.l,ns,null),Ni(this,ns);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||he.length!=0||this.h.h||(this.s=1,xn(16),T=!1),this.o=this.o&&T,!T)or(this.i,this.l,he,"[Invalid Chunked Response]"),Hn(this),ha(this);else if(0<he.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),_h(ln),ln.M=!0,xn(11))}}else or(this.i,this.l,he,null),Ni(this,he);cn==4&&Hn(this),this.o&&!this.J&&(cn==4?lm(this.j,this):(this.o=!1,si(this)))}else nm(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),Hn(this),ha(this)}}}catch{}finally{}};function ur(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Uo(p,b){var T=p.C,I=b.indexOf(`
`,T);return I==-1?lr:(T=Number(b.substring(T,I)),isNaN(T)?lh:(I+=1,I+T>b.length?lr:(b=b.slice(I,I+T),p.C=I+T,b)))}Ci.prototype.cancel=function(){this.J=!0,Hn(this)};function si(p){p.S=Date.now()+p.I,Ut(p,p.I)}function Ut(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=la(x(p.ba,p),b)}function ac(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Ci.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Wf(this.i,this.A),this.L!=2&&(ar(),xn(17)),Hn(this),this.s=2,ha(this)):Ut(this,this.S-p)};function ha(p){p.j.G==0||p.J||lm(p.j,p)}function Hn(p){ac(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,In(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function Ni(p,b){try{var T=p.j;if(T.G!=0&&(T.g==p||da(T.h,p))){if(!p.K&&da(T.h,p)&&T.G==3){try{var I=T.Da.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)xa(T),ba(T);else break e;vh(T),xn(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=la(x(T.Za,T),6e3));if(1>=Yf(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else mr(T,11)}else if((p.K||T.g==p)&&xa(T),!H(b))for(W=T.Da.g.parse(b),b=0;b<W.length;b++){let Fe=W[b];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const ln=Fe[3];ln!=null&&(T.la=ln,T.j.info("VER="+T.la));const cn=Fe[4];cn!=null&&(T.Aa=cn,T.j.info("SVER="+T.Aa));const Ta=Fe[5];Ta!=null&&typeof Ta=="number"&&0<Ta&&(I=1.5*Ta,T.L=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const ns=p.g;if(ns){const Ko=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ko){var te=I.h;te.g||Ko.indexOf("spdy")==-1&&Ko.indexOf("quic")==-1&&Ko.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(fa(te,te.h),te.h=null))}if(I.D){const pr=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;pr&&(I.ya=pr,nt(I.I,I.D,pr))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),I=T;var he=p;if(I.qa=um(I,I.J?I.ia:null,I.W),he.K){Ds(I.h,he);var at=he,Ht=I.L;Ht&&(at.I=Ht),at.B&&(ac(at),si(at)),I.g=he}else am(I);0<T.i.length&&mc(T)}else Fe[0]!="stop"&&Fe[0]!="close"||mr(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?mr(T,7):gh(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}ar(4)}catch{}}var Ky=class{constructor(p,b){this.g=p,this.map=b}};function ch(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uh(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Yf(p){return p.h?1:p.g?p.g.size:0}function da(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function fa(p,b){p.g?p.g.add(b):p.h=b}function Ds(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}ch.prototype.cancel=function(){if(this.i=Gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Gn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.D);return b}return R(p.i)}function Xf(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var b=[],T=p.length,I=0;I<T;I++)b.push(p[I]);return b}b=[],T=0;for(I in p)b[T++]=p[I];return b}function Wy(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var b=[];p=p.length;for(var T=0;T<p;T++)b.push(T);return b}b=[],T=0;for(const I in p)b[T++]=I;return b}}}function oc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var T=Wy(p),I=Xf(p),W=I.length,te=0;te<W;te++)b.call(void 0,I[te],T&&T[te],p)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(p,b){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var I=p[T].indexOf("="),W=null;if(0<=I){var te=p[T].substring(0,I);W=p[T].substring(I+1)}else te=p[T];b(te,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function hr(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof hr){this.h=p.h,ma(this,p.j),this.o=p.o,this.g=p.g,Fo(this,p.s),this.l=p.l;var b=p.i,T=new Ri;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),cc(this,T),this.m=p.m}else p&&(b=String(p).match(hh))?(this.h=!1,ma(this,b[1]||"",!0),this.o=pa(b[2]||""),this.g=pa(b[3]||"",!0),Fo(this,b[4]),this.l=pa(b[5]||"",!0),cc(this,b[6]||"",!0),this.m=pa(b[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}hr.prototype.toString=function(){var p=[],b=this.j;b&&p.push(ks(b,dh,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(ks(b,dh,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(ks(T,T.charAt(0)=="/"?fh:Jf,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",ks(T,Xy)),p.join("")};function Ot(p){return new hr(p)}function ma(p,b,T){p.j=T?pa(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Fo(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function cc(p,b,T){b instanceof Ri?(p.i=b,Zf(p.i,p.h)):(T||(b=ks(b,Yy)),p.i=new Ri(b,p.h))}function nt(p,b,T){p.i.set(b,T)}function zo(p){return nt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function pa(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ks(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,Qy),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Qy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var dh=/[#\/\?@]/g,Jf=/[#\?:]/g,fh=/[#\?]/g,Yy=/[#\?@]/g,Xy=/#/g;function Ri(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function on(p){p.g||(p.g=new Map,p.h=0,p.i&&lc(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=Ri.prototype,t.add=function(p,b){on(this),this.i=null,p=ys(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function uc(p,b){on(p),b=ys(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function hc(p,b){return on(p),b=ys(p,b),p.g.has(b)}t.forEach=function(p,b){on(this),this.g.forEach(function(T,I){T.forEach(function(W){p.call(b,W,I,this)},this)},this)},t.na=function(){on(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let I=0;I<b.length;I++){const W=p[I];for(let te=0;te<W.length;te++)T.push(b[I])}return T},t.V=function(p){on(this);let b=[];if(typeof p=="string")hc(this,p)&&(b=b.concat(this.g.get(ys(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)b=b.concat(p[T])}return b},t.set=function(p,b){return on(this),this.i=null,p=ys(this,p),hc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},t.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function dr(p,b,T){uc(p,b),0<T.length&&(p.i=null,p.g.set(ys(p,b),R(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var I=b[T];const te=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var W=te;he[I]!==""&&(W+="="+encodeURIComponent(String(he[I]))),p.push(W)}}return this.i=p.join("&")};function ys(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Zf(p,b){b&&!p.j&&(on(p),p.i=null,p.g.forEach(function(T,I){var W=I.toLowerCase();I!=W&&(uc(this,I),dr(this,W,T))},p)),p.j=b}function mh(p,b){const T=new ca;if(u.Image){const I=new Image;I.onload=E(ts,T,"TestLoadImage: loaded",!0,b,I),I.onerror=E(ts,T,"TestLoadImage: error",!1,b,I),I.onabort=E(ts,T,"TestLoadImage: abort",!1,b,I),I.ontimeout=E(ts,T,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=p}else b(!1)}function em(p,b){const T=new ca,I=new AbortController,W=setTimeout(()=>{I.abort(),ts(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:I.signal}).then(te=>{clearTimeout(W),te.ok?ts(T,"TestPingServer: ok",!0,b):ts(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),ts(T,"TestPingServer: error",!1,b)})}function ts(p,b,T,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(T)}catch{}}function ii(){this.g=new $y}function ph(p,b,T){const I=T||"";try{oc(p,function(W,te){let he=W;m(W)&&(he=Is(W)),b.push(I+te+"="+encodeURIComponent(he))})}catch(W){throw b.push(I+"type="+encodeURIComponent("_badmap")),W}}function Ii(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Ii,sh),Ii.prototype.g=function(){return new vs(this.l,this.j)},Ii.prototype.i=(function(p){return function(){return p}})({});function vs(p,b){en.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(vs,en),t=vs.prototype,t.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,ga(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function dc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?ji(this):ga(this),this.readyState==3&&dc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ji(this))},t.Qa=function(p){this.g&&(this.response=p,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ga(p)}t.setRequestHeader=function(p,b){this.u.append(p,b)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function ga(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Bo(p){let b="";return Q(p,function(T,I){b+=I,b+=":",b+=T,b+=`\r
`}),b}function ya(p,b,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=Bo(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):nt(p,b,T))}function bt(p){en.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(bt,en);var jn=/^https?$/i,fr=["POST","PUT"];t=bt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,b,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?Kf(this.o):Kf(Ai),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(te){qo(this,te);return}if(p=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)T.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())T.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),W=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fr,b,void 0))||I||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,he]of T)this.g.setRequestHeader(te,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fc(this),this.u=!0,this.g.send(p),this.u=!1}catch(te){qo(this,te)}};function qo(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,va(p),_a(p)}function va(p){p.A||(p.A=!0,an(p,"complete"),an(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,an(this,"complete"),an(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tm(this):this.bb())},t.bb=function(){tm(this)};function tm(p){if(p.h&&typeof l<"u"&&(!p.v[1]||$n(p)!=4||p.Z()!=2)){if(p.u&&$n(p)==4)$f(p.Ea,0,p);else if(an(p,"readystatechange"),$n(p)==4){p.h=!1;try{const he=p.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var I;if(I=he===0){var W=String(p.D).match(hh)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),I=!jn.test(W?W.toLowerCase():"")}T=I}if(T)an(p,"complete"),an(p,"success");else{p.m=6;try{var te=2<$n(p)?p.g.statusText:""}catch{te=""}p.l=te+" ["+p.Z()+"]",va(p)}}finally{_a(p)}}}}function _a(p,b){if(p.g){fc(p);const T=p.g,I=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||an(p,"ready");try{T.onreadystatechange=I}catch{}}}function fc(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function $n(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),qn(b)}};function Ho(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function nm(p){const b={};p=(p.g&&2<=$n(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<p.length;I++){if(H(p[I]))continue;var T=U(p[I]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=b[W]||[];b[W]=te,te.push(T)}j(b,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function sm(p){this.Aa=0,this.i=[],this.j=new ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,p),this.cb=Go("retryDelaySeedMs",1e4,p),this.Wa=Go("forwardChannelMaxRetries",2,p),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ch(p&&p.concurrentRequestLimit),this.Da=new ii,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sm.prototype,t.la=8,t.G=1,t.connect=function(p,b,T,I){xn(0),this.W=p,this.H=b||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.I=um(this,null,this.W),mc(this)};function gh(p){if(im(p),p.G==3){var b=p.U++,T=Ot(p.I);if(nt(T,"SID",p.K),nt(T,"RID",b),nt(T,"TYPE","terminate"),$o(p,T),b=new Ci(p,p.j,b),b.L=2,b.v=zo(Ot(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=hm(b.j,null),b.g.ea(b.v)),b.F=Date.now(),si(b)}bh(p)}function ba(p){p.g&&(_h(p),p.g.cancel(),p.g=null)}function im(p){ba(p),p.u&&(u.clearTimeout(p.u),p.u=null),xa(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function mc(p){if(!uh(p.h)&&!p.s){p.s=!0;var b=p.Ga;le||Ve(),de||(le(),de=!0),ke.add(b,p),p.B=0}}function Jy(p,b){return Yf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=la(x(p.Ga,p,b),cm(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new Ci(this,this.j,p);let te=this.o;if(this.S&&(te?(te=C(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(W.H=te,te=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=yh(this,W,b),T=Ot(this.I),nt(T,"RID",p),nt(T,"CVER",22),this.D&&nt(T,"X-HTTP-Session-Id",this.D),$o(this,T),te&&(this.O?b="headers="+encodeURIComponent(String(Bo(te)))+"&"+b:this.m&&ya(T,this.m,te)),fa(this.h,W),this.Ua&&nt(T,"TYPE","init"),this.P?(nt(T,"$req",b),nt(T,"SID","null"),W.T=!0,Vo(W,T,null)):Vo(W,T,b),this.G=2}}else this.G==3&&(p?rm(this,p):this.i.length==0||uh(this.h)||rm(this))};function rm(p,b){var T;b?T=b.l:T=p.U++;const I=Ot(p.I);nt(I,"SID",p.K),nt(I,"RID",T),nt(I,"AID",p.T),$o(p,I),p.m&&p.o&&ya(I,p.m,p.o),T=new Ci(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),b&&(p.i=b.D.concat(p.i)),b=yh(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),fa(p.h,T),Vo(T,I,b)}function $o(p,b){p.H&&Q(p.H,function(T,I){nt(b,I,T)}),p.l&&oc({},function(T,I){nt(b,I,T)})}function yh(p,b,T){T=Math.min(p.i.length,T);var I=p.l?x(p.l.Na,p.l,p):null;e:{var W=p.i;let te=-1;for(;;){const he=["count="+T];te==-1?0<T?(te=W[0].g,he.push("ofs="+te)):te=0:he.push("ofs="+te);let at=!0;for(let Ht=0;Ht<T;Ht++){let Fe=W[Ht].g;const ln=W[Ht].map;if(Fe-=te,0>Fe)te=Math.max(0,W[Ht].g-100),at=!1;else try{ph(ln,he,"req"+Fe+"_")}catch{I&&I(ln)}}if(at){I=he.join("&");break e}}}return p=p.i.splice(0,T),b.D=p,I}function am(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;le||Ve(),de||(le(),de=!0),ke.add(b,p),p.v=0}}function vh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=la(x(p.Fa,p),cm(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,om(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=la(x(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),ba(this),om(this))};function _h(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function om(p){p.g=new Ci(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Ot(p.qa);nt(b,"RID","rpc"),nt(b,"SID",p.K),nt(b,"AID",p.T),nt(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&nt(b,"TO",p.ja),nt(b,"TYPE","xmlhttp"),$o(p,b),p.m&&p.o&&ya(b,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=zo(Ot(b)),T.m=null,T.P=!0,cr(T,p)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),vh(this),xn(19))};function xa(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function lm(p,b){var T=null;if(p.g==b){xa(p),_h(p),p.g=null;var I=2}else if(da(p.h,b))T=b.D,Ds(p.h,b),I=1;else return;if(p.G!=0){if(b.o)if(I==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var W=p.B;I=rc(),an(I,new rh(I,T)),mc(p)}else am(p);else if(W=b.s,W==3||W==0&&0<b.X||!(I==1&&Jy(p,b)||I==2&&vh(p)))switch(T&&0<T.length&&(b=p.h,b.i=b.i.concat(T)),W){case 1:mr(p,5);break;case 4:mr(p,10);break;case 3:mr(p,6);break;default:mr(p,2)}}}function cm(p,b){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*b}function mr(p,b){if(p.j.info("Error code "+b),b==2){var T=x(p.fb,p),I=p.Xa;const W=!I;I=new hr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ma(I,"https"),zo(I),W?mh(I.toString(),T):em(I.toString(),T)}else xn(2);p.G=0,p.l&&p.l.sa(b),bh(p),im(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function bh(p){if(p.G=0,p.ka=[],p.l){const b=Gn(p.h);(b.length!=0||p.i.length!=0)&&(N(p.ka,b),N(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function um(p,b,T){var I=T instanceof hr?Ot(T):new hr(T);if(I.g!="")b&&(I.g=b+"."+I.g),Fo(I,I.s);else{var W=u.location;I=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var te=new hr(null);I&&ma(te,I),b&&(te.g=b),W&&Fo(te,W),T&&(te.l=T),I=te}return T=p.D,b=p.ya,T&&b&&nt(I,T,b),nt(I,"VER",p.la),$o(p,I),I}function hm(p,b,T){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new bt(new Ii({eb:T})):new bt(p.pa),b.Ha(p.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dm(){}t=dm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pc(){}pc.prototype.g=function(p,b){return new Kn(p,b)};function Kn(p,b){en.call(this),this.g=new sm(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!H(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!H(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new wa(this)}S(Kn,en),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){gh(this.g)},Kn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Is(p),p=T);b.i.push(new Ky(b.Ya++,p)),b.G==3&&mc(b)},Kn.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,Kn.aa.N.call(this)};function fm(p){ra.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const T in b){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}S(fm,ra);function mm(){ni.call(this),this.status=1}S(mm,ni);function wa(p){this.g=p}S(wa,dm),wa.prototype.ua=function(){an(this.g,"a")},wa.prototype.ta=function(p){an(this.g,new fm(p))},wa.prototype.sa=function(p){an(this.g,new mm)},wa.prototype.ra=function(){an(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,aj=function(){return new pc},rj=function(){return rc()},ij=js,_b={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Hp=kt,wn.COMPLETE="complete",sj=wn,Lo.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",en.prototype.listen=en.prototype.K,gd=Lo,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,nj=bt}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});const SA="@firebase/firestore",AA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new vf("@firebase/firestore");function Gc(){return Fl.logLevel}function ye(t,...e){if(Fl.logLevel<=He.DEBUG){const n=e.map(i1);Fl.debug(`Firestore (${Bu}): ${t}`,...n)}}function Xr(t,...e){if(Fl.logLevel<=He.ERROR){const n=e.map(i1);Fl.error(`Firestore (${Bu}): ${t}`,...n)}}function vo(t,...e){if(Fl.logLevel<=He.WARN){const n=e.map(i1);Fl.warn(`Firestore (${Bu}): ${t}`,...n)}}function i1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,oj(t,s,n)}function oj(t,e,n){let s=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xr(s),new Error(s)}function ct(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||oj(e,r,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class G7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $7{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let s=this.i;const r=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let o=new po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new po,e.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new po)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new lj(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class K7{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W7{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new K7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const s=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const r=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=Y7(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<n&&(s+=e.charAt(r[o]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function bb(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return ze(s,r);{const o=cj(),l=X7(o.encode(NA(t,n)),o.encode(NA(e,n)));return l!==0?l:ze(s,r)}}n+=s>65535?2:1}return ze(t.length,e.length)}function NA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function X7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function Eu(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const o=Vi.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return ze(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),r=Vi.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):bb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class jt extends Vi{construct(e,n,s){return new jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const J7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Vi{construct(e,n,s){return new Nn(e,n,s)}static isValidIdentifier(e){return J7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new Nn([RA])}static fromServerFormat(e){const n=[];let s="",r=0;const o=()=>{if(s.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(s+=u,r++):(o(),r++)}if(o(),l)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(jt.fromString(e))}static fromName(e){return new Ee(jt.fromString(e).popFirst(5))}static empty(){return new Ee(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e,n){if(!n)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eF(t,e,n,s){if(e===!0&&s===!0)throw new xe(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IA(t){if(!Ee.isDocumentKey(t))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function a1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Hd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=a1(t);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ef(t,e){if(!uj(t))throw new xe(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const l=t[s];if(r&&typeof l!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${s}' field to equal '${o.value}'`;break}}if(n)throw new xe(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=-62135596800,DA=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*DA);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jA)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DA}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ef(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Jt("string",St._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new St(0,0))}static max(){return new Ie(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=-1;function tF(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new _o(r,Ee.empty(),e)}function nF(t){return new _o(t.readTime,t.key,Gd)}class _o{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _o(Ie.min(),Ee.empty(),Gd)}static max(){return new _o(Ie.max(),Ee.empty(),Gd)}}function sF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==iF)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let r=0,o=0,l=!1;e.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&n()}),(d=>s(d)))})),l=!0,o===r&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((r=>r?oe.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,o)=>{s.push(n.call(this,r,o))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,r)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next((y=>{l[m]=y,++u,u===o&&s(l)}),(y=>r(y)))}}))}static doWhile(e,n){return new oe(((s,r)=>{const o=()=>{e()===!0?n().next((()=>{o()}),r):s()};o()}))}}function aF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dy.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=-1;function fy(t){return t==null}function wg(t){return t===0&&1/t==-1/0}function oF(t){return typeof t=="number"&&Number.isInteger(t)&&!wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="";function lF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kA(e)),e=cF(t.get(n),e);return kA(e)}function cF(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case hj:n+="";break;default:n+=o}}return n}function kA(t){return t+hj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class xb{constructor(e,n){this.comparator=e,this.root=n||go.EMPTY}insert(e,n){return new xb(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new xb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}},Tp=class{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?s(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},go=class kr{constructor(e,n,s,r,o){this.key=e,this.value=n,this.color=s??kr.RED,this.left=r??kr.EMPTY,this.right=o??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,o){return new kr(e??this.key,n??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const o=s(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,s),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return kr.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}};go.EMPTY=null,go.RED=!0,go.BLACK=!1;go.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,r,o){return this}insert(e,n,s){return new go(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MA(this.data.getIterator())}getIteratorFrom(e){return new MA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class MA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new rn(Nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eu(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fj("Invalid base64 string: "+o):o}})(e);return new Rn(n)}static fromUint8Array(e){const n=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const uF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=uF.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="server_timestamp",pj="__type__",gj="__previous_value__",yj="__local_write_time__";function l1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pj])===null||n===void 0?void 0:n.stringValue)===mj}function my(t){const e=t.mapValue.fields[gj];return l1(e)?my(e):e}function $d(t){const e=bo(t.mapValue.fields[yj].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,s,r,o,l,u,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const Tg="(default)";class Kd{constructor(e,n){this.projectId=e,this.database=n||Tg}static empty(){return new Kd("","")}get isDefaultDatabase(){return this.database===Tg}isEqual(e){return e instanceof Kd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="__type__",dF="__max__",Ep={mapValue:{}},_j="__vector__",Eg="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l1(t)?4:mF(t)?9007199254740991:fF(t)?10:11:Ne(28295,{value:t})}function Xi(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=bo(r.timestampValue),u=bo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,o){return xo(r.bytesValue).isEqual(xo(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,o){return qt(r.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(r.geoPointValue.longitude)===qt(o.geoPointValue.longitude)})(t,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return qt(r.integerValue)===qt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=qt(r.doubleValue),u=qt(o.doubleValue);return l===u?wg(l)===wg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Eu(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(OA(l)!==OA(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Xi(l[d],u[d])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Wd(t,e){return(t.values||[]).find((n=>Xi(n,e)))!==void 0}function Su(t,e){if(t===e)return 0;const n=wo(t),s=wo(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=qt(o.integerValue||o.doubleValue),d=qt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return PA(t.timestampValue,e.timestampValue);case 4:return PA($d(t),$d(e));case 5:return bb(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=xo(o),d=xo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const y=ze(u[m],d[m]);if(y!==0)return y}return ze(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=ze(qt(o.latitude),qt(l.latitude));return u!==0?u:ze(qt(o.longitude),qt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LA(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var u,d,m,y;const _=o.fields||{},x=l.fields||{},E=(u=_[Eg])===null||u===void 0?void 0:u.arrayValue,S=(d=x[Eg])===null||d===void 0?void 0:d.arrayValue,R=ze(((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return R!==0?R:LA(E,S)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Ep.mapValue&&l===Ep.mapValue)return 0;if(o===Ep.mapValue)return 1;if(l===Ep.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const x=bb(d[_],y[_]);if(x!==0)return x;const E=Su(u[d[_]],m[y[_]]);if(E!==0)return E}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{le:n})}}function PA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=bo(t),s=bo(e),r=ze(n.seconds,s.seconds);return r!==0?r:ze(n.nanos,s.nanos)}function LA(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const o=Su(n[r],s[r]);if(o)return o}return ze(n.length,s.length)}function Au(t){return wb(t)}function wb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=bo(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const o of n.values||[])r?r=!1:s+=",",s+=wb(o);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of s)o?o=!1:r+=",",r+=`${l}:${wb(n.fields[l])}`;return r+"}"})(t.mapValue):Ne(61005,{value:t})}function Gp(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=my(t);return e?16+Gp(e):16;case 5:return 2*t.stringValue.length;case 6:return xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,o)=>r+Gp(o)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return Ql(s.fields,((o,l)=>{r+=o.length+Gp(l)})),r})(t.mapValue);default:throw Ne(13486,{value:t})}}function Tb(t){return!!t&&"integerValue"in t}function c1(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function UA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $p(t){return!!t&&"mapValue"in t}function fF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vj])===null||n===void 0?void 0:n.stringValue)===_j}function Ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ql(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ed(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ed(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.value=e}static empty(){return new $s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(n)}setAll(e){let n=Nn.emptyPath(),s={},r=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,s,r),s={},r=[],n=u.popLast()}l?s[u.lastSegment()]=Ed(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,s,r)}delete(e){const n=this.field(e.popLast());$p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];$p(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ql(n,((r,o)=>e[r]=o));for(const r of s)delete e[r]}clone(){return new $s(Ed(this.value))}}function bj(t){const e=[];return Ql(t.fields,((n,s)=>{const r=new Nn([n]);if($p(s)){const o=bj(s.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,s,r,o,l,u){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Mn(e,0,Ie.min(),Ie.min(),Ie.min(),$s.empty(),0)}static newFoundDocument(e,n,s,r){return new Mn(e,1,n,Ie.min(),s,r,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ie.min(),Ie.min(),$s.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ie.min(),Ie.min(),$s.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.position=e,this.inclusive=n}}function FA(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?s=Ee.comparator(Ee.fromName(l.referenceValue),n.key):s=Su(l,n.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function zA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n="asc"){this.field=e,this.dir=n}}function pF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{}class sn extends xj{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yF(e,n,s):n==="array-contains"?new bF(e,s):n==="in"?new xF(e,s):n==="not-in"?new wF(e,s):n==="array-contains-any"?new TF(e,s):new sn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vF(e,s):new _F(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Su(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Su(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends xj{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ji(e,n)}matches(e){return wj(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function wj(t){return t.op==="and"}function Tj(t){return gF(t)&&wj(t)}function gF(t){for(const e of t.filters)if(e instanceof Ji)return!1;return!0}function Eb(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Au(t.value);if(Tj(t))return t.filters.map((e=>Eb(e))).join(",");{const e=t.filters.map((n=>Eb(n))).join(",");return`${t.op}(${e})`}}function Ej(t,e){return t instanceof sn?(function(s,r){return r instanceof sn&&s.op===r.op&&s.field.isEqual(r.field)&&Xi(s.value,r.value)})(t,e):t instanceof Ji?(function(s,r){return r instanceof Ji&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,l,u)=>o&&Ej(l,r.filters[u])),!0):!1})(t,e):void Ne(19439)}function Sj(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`})(t):t instanceof Ji?(function(n){return n.op.toString()+" {"+n.getFilters().map(Sj).join(" ,")+"}"})(t):"Filter"}class yF extends sn{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class vF extends sn{constructor(e,n){super(e,"in",n),this.keys=Aj("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _F extends sn{constructor(e,n){super(e,"not-in",n),this.keys=Aj("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Aj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class bF extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c1(n)&&Wd(n.arrayValue,this.value)}}class xF extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wd(this.value.arrayValue,n)}}class wF extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wd(this.value.arrayValue,n)}}class TF extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wd(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n=null,s=[],r=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function BA(t,e=null,n=[],s=[],r=null,o=null,l=null){return new EF(t,e,n,s,r,o,l)}function u1(t){const e=De(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Eb(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Au(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Au(s))).join(",")),e.Pe=n}return e.Pe}function h1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ej(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zA(t.startAt,e.startAt)&&zA(t.endAt,e.endAt)}function Sb(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n=null,s=[],r=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function SF(t,e,n,s,r,o,l,u){return new py(t,e,n,s,r,o,l,u)}function d1(t){return new py(t)}function qA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AF(t){return t.collectionGroup!==null}function Sd(t){const e=De(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new rn(Nn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ag(o,s))})),n.has(Nn.keyField().canonicalString())||e.Te.push(new Ag(Nn.keyField(),s))}return e.Te}function Gi(t){const e=De(t);return e.Ie||(e.Ie=CF(e,Sd(t))),e.Ie}function CF(t,e){if(t.limitType==="F")return BA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Ag(r.field,o)}));const n=t.endAt?new Sg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Sg(t.startAt.position,t.startAt.inclusive):null;return BA(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ab(t,e,n){return new py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gy(t,e){return h1(Gi(t),Gi(e))&&t.limitType===e.limitType}function Cj(t){return`${u1(Gi(t))}|lt:${t.limitType}`}function $c(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>Sj(r))).join(", ")}]`),fy(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Au(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Au(r))).join(",")),`Target(${s})`})(Gi(t))}; limitType=${t.limitType})`}function yy(t,e){return e.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ee.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(t,e)&&(function(s,r){for(const o of Sd(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(l,u,d){const m=FA(l,u,d);return l.inclusive?m<=0:m<0})(s.startAt,Sd(s),r)||s.endAt&&!(function(l,u,d){const m=FA(l,u,d);return l.inclusive?m>=0:m>0})(s.endAt,Sd(s),r))})(t,e)}function NF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nj(t){return(e,n)=>{let s=!1;for(const r of Sd(t)){const o=RF(r,e,n);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function RF(t,e,n){const s=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(o,l,u){const d=l.data.field(o),m=u.data.field(o);return d!==null&&m!==null?Su(d,m):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ql(this.inner,((n,s)=>{for(const[r,o]of s)e(r,o)}))}isEmpty(){return dj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new Zt(Ee.comparator);function Jr(){return IF}const Rj=new Zt(Ee.comparator);function yd(...t){let e=Rj;for(const n of t)e=e.insert(n.key,n);return e}function Ij(t){let e=Rj;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function gl(){return Ad()}function jj(){return Ad()}function Ad(){return new Yl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jF=new Zt(Ee.comparator),DF=new rn(Ee.comparator);function Ke(...t){let e=DF;for(const n of t)e=e.add(n);return e}const kF=new rn(ze);function OF(){return kF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function Dj(t){return{integerValue:""+t}}function MF(t,e){return oF(e)?Dj(e):f1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._=void 0}}function PF(t,e,n){return t instanceof Cg?(function(r,o){const l={fields:{[pj]:{stringValue:mj},[yj]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&l1(o)&&(o=my(o)),o&&(l.fields[gj]=o),{mapValue:l}})(n,e):t instanceof Qd?Oj(t,e):t instanceof Yd?Mj(t,e):(function(r,o){const l=kj(r,o),u=HA(l)+HA(r.Ee);return Tb(l)&&Tb(r.Ee)?Dj(u):f1(r.serializer,u)})(t,e)}function LF(t,e,n){return t instanceof Qd?Oj(t,e):t instanceof Yd?Mj(t,e):n}function kj(t,e){return t instanceof Ng?(function(s){return Tb(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Cg extends vy{}class Qd extends vy{constructor(e){super(),this.elements=e}}function Oj(t,e){const n=Pj(e);for(const s of t.elements)n.some((r=>Xi(r,s)))||n.push(s);return{arrayValue:{values:n}}}class Yd extends vy{constructor(e){super(),this.elements=e}}function Mj(t,e){let n=Pj(e);for(const s of t.elements)n=n.filter((r=>!Xi(r,s)));return{arrayValue:{values:n}}}class Ng extends vy{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function HA(t){return qt(t.integerValue||t.doubleValue)}function Pj(t){return c1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VF(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof Qd&&r instanceof Qd||s instanceof Yd&&r instanceof Yd?Eu(s.elements,r.elements,Xi):s instanceof Ng&&r instanceof Ng?Xi(s.Ee,r.Ee):s instanceof Cg&&r instanceof Cg})(t.transform,e.transform)}class UF{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _y{}function Lj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uj(t.key,Hr.none()):new Sf(t.key,t.data,Hr.none());{const n=t.data,s=$s.empty();let r=new rn(Nn.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?s.delete(o):s.set(o,l),r=r.add(o)}return new Xl(t.key,s,new mi(r.toArray()),Hr.none())}}function FF(t,e,n){t instanceof Sf?(function(r,o,l){const u=r.value.clone(),d=$A(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Xl?(function(r,o,l){if(!Kp(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=$A(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(Vj(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Cd(t,e,n,s){return t instanceof Sf?(function(o,l,u,d){if(!Kp(o.precondition,l))return u;const m=o.value.clone(),y=KA(o.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof Xl?(function(o,l,u,d){if(!Kp(o.precondition,l))return u;const m=KA(o.fieldTransforms,d,l),y=l.data;return y.setAll(Vj(o)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(o,l,u){return Kp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function zF(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),o=kj(s.transform,r||null);o!=null&&(n===null&&(n=$s.empty()),n.set(s.field,o))}return n||null}function GA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Eu(s,r,((o,l)=>VF(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sf extends _y{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xl extends _y{constructor(e,n,s,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Vj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function $A(t,e,n){const s=new Map;ct(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,u=e.data.field(o.field);s.set(o.field,LF(l,u,n[r]))}return s}function KA(t,e,n){const s=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);s.set(r.field,PF(o,l,e))}return s}class Uj extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BF extends _y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&FF(o,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jj();return this.mutations.forEach((r=>{const o=e.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(r.key)?null:u;const d=Lj(l,u);d!==null&&s.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Eu(this.mutations,e.mutations,((n,s)=>GA(n,s)))&&Eu(this.baseMutations,e.baseMutations,((n,s)=>GA(n,s)))}}class m1{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ct(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let r=(function(){return jF})();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,s[l].version);return new m1(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Ze;function $F(t){switch(t){case ce.OK:return Ne(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function Fj(t){if(t===void 0)return Xr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Yt.OK:return ce.OK;case Yt.CANCELLED:return ce.CANCELLED;case Yt.UNKNOWN:return ce.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ce.INTERNAL;case Yt.UNAVAILABLE:return ce.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ce.NOT_FOUND;case Yt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Yt.ABORTED:return ce.ABORTED;case Yt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Yt.DATA_LOSS:return ce.DATA_LOSS;default:return Ne(39323,{code:t})}}(Ze=Yt||(Yt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=new mo([4294967295,4294967295],0);function WA(t){const e=cj().encode(t),n=new tj;return n.update(e),new Uint8Array(n.digest())}function QA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,s],0),new mo([r,o],0)]}class p1{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vd(`Invalid padding: ${n}`);if(s<0)throw new vd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vd(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new vd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=mo.fromNumber(this.fe)}pe(e,n,s){let r=e.add(n.multiply(mo.fromNumber(s)));return r.compare(KF)===1&&(r=new mo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=WA(e),[s,r]=QA(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(s,r,o);if(!this.ye(l))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new p1(o,r,n);return s.forEach((u=>l.insert(u))),l}insert(e){if(this.fe===0)return;const n=WA(e),[s,r]=QA(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(s,r,o);this.we(l)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,s,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new by(Ie.min(),r,new Zt(ze),Jr(),Ke())}}class Af{constructor(e,n,s,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Af(s,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,s,r){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=r}}class zj{constructor(e,n){this.targetId=e,this.De=n}}class Bj{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class YA{constructor(){this.ve=0,this.Ce=XA(),this.Fe=Rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),s=Ke();return this.Ce.forEach(((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Ne(38017,{changeType:o})}})),new Af(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=XA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class WF{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jr(),this.je=Sp(),this.Je=Sp(),this.He=new Zt(ze)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,r)=>{this.nt(r)&&n(r)}))}it(e){const n=e.targetId,s=e.De.count,r=this.st(n);if(r){const o=r.target;if(Sb(o))if(s===0){const l=new Ee(o.path);this.Xe(n,l,Mn.newNoDocument(l,Ie.min()))}else ct(s===1,20013,{expectedCount:s});else{const l=this.ot(n);if(l!==s){const u=this._t(e),d=u?this.ut(u,e,l):1;if(d!==0){this.rt(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=n;let l,u;try{l=xo(s).toUint8Array()}catch(d){if(d instanceof fj)return vo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new p1(l,r,o)}catch(d){return vo(d instanceof vd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.fe===0?null:u}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let r=0;return s.forEach((o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Xe(n,o,null),r++)})),r}Pt(e){const n=new Map;this.Ge.forEach(((o,l)=>{const u=this.st(l);if(u){if(o.current&&Sb(u.target)){const d=new Ee(u.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,Mn.newNoDocument(d,e))}o.Ne&&(n.set(l,o.Le()),o.ke())}}));let s=Ke();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const m=this.st(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(s=s.add(o))})),this.ze.forEach(((o,l)=>l.setReadTime(e)));const r=new by(e,n,this.He,this.ze,s);return this.ze=Jr(),this.je=Sp(),this.Je=Sp(),this.He=new Zt(ze),r}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new YA,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rn(ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rn(ze),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new YA),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Sp(){return new Zt(Ee.comparator)}function XA(){return new Zt(Ee.comparator)}const QF={asc:"ASCENDING",desc:"DESCENDING"},YF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XF={and:"AND",or:"OR"};class JF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cb(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function Rg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZF(t,e){return Rg(t,e.toTimestamp())}function $i(t){return ct(!!t,49232),Ie.fromTimestamp((function(n){const s=bo(n);return new St(s.seconds,s.nanos)})(t))}function g1(t,e){return Nb(t,e).canonicalString()}function Nb(t,e){const n=(function(r){return new jt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Hj(t){const e=jt.fromString(t);return ct(Qj(e),10190,{key:e.toString()}),e}function Rb(t,e){return g1(t.databaseId,e.path)}function h_(t,e){const n=Hj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee($j(n))}function Gj(t,e){return g1(t.databaseId,e)}function ez(t){const e=Hj(t);return e.length===4?jt.emptyPath():$j(e)}function Ib(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $j(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JA(t,e,n){return{name:Rb(t,e),fields:n.value.mapValue.fields}}function tz(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(ct(y===void 0||typeof y=="string",58123),Rn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Rn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const y=m.code===void 0?ce.UNKNOWN:Fj(m.code);return new xe(y,m.message||"")})(l);n=new Bj(s,r,o,u||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=h_(t,s.document.name),o=$i(s.document.updateTime),l=s.document.createTime?$i(s.document.createTime):Ie.min(),u=new $s({mapValue:{fields:s.document.fields}}),d=Mn.newFoundDocument(r,o,l,u),m=s.targetIds||[],y=s.removedTargetIds||[];n=new Wp(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=h_(t,s.document),o=s.readTime?$i(s.readTime):Ie.min(),l=Mn.newNoDocument(r,o),u=s.removedTargetIds||[];n=new Wp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=h_(t,s.document),o=s.removedTargetIds||[];n=new Wp([],o,r,null)}else{if(!("filter"in e))return Ne(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,l=new GF(r,o),u=s.targetId;n=new zj(u,l)}}return n}function nz(t,e){let n;if(e instanceof Sf)n={update:JA(t,e.key,e.value)};else if(e instanceof Uj)n={delete:Rb(t,e.key)};else if(e instanceof Xl)n={update:JA(t,e.key,e.data),updateMask:hz(e.fieldMask)};else{if(!(e instanceof BF))return Ne(16599,{Rt:e.type});n={verify:Rb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(o,l){const u=l.transform;if(u instanceof Cg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ng)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Ne(20930,{transform:l.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:ZF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne(27497)})(t,e.precondition)),n}function sz(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(r,o){let l=r.updateTime?$i(r.updateTime):$i(o);return l.isEqual(Ie.min())&&(l=$i(o)),new UF(l,r.transformResults||[])})(n,e)))):[]}function iz(t,e){return{documents:[Gj(t,e.path)]}}function rz(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gj(t,r);const o=(function(m){if(m.length!==0)return Wj(Ji.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:Kc(x.field),direction:lz(x.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Cb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:n,parent:r}}function az(t){let e=ez(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ct(s===1,65062);const y=n.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(_){const x=Kj(_);return x instanceof Ji&&Tj(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((x=>(function(S){return new Ag(Wc(S.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(_){let x;return x=typeof _=="object"?_.value:_,fy(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(_){const x=!!_.before,E=_.values||[];return new Sg(E,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const x=!_.before,E=_.values||[];return new Sg(E,x)})(n.endAt)),SF(e,r,l,o,u,"F",d,m)}function oz(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wc(n.unaryFilter.field);return sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Wc(n.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wc(n.unaryFilter.field);return sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wc(n.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(Wc(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ji.create(n.compositeFilter.filters.map((s=>Kj(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function lz(t){return QF[t]}function cz(t){return YF[t]}function uz(t){return XF[t]}function Kc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return Nn.fromServerFormat(t.fieldPath)}function Wj(t){return t instanceof sn?(function(n){if(n.op==="=="){if(UA(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NAN"}};if(VA(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UA(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NAN"}};if(VA(n.value))return{unaryFilter:{field:Kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kc(n.field),op:cz(n.op),value:n.value}}})(t):t instanceof Ji?(function(n){const s=n.getFilters().map((r=>Wj(r)));return s.length===1?s[0]:{compositeFilter:{op:uz(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function hz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Qj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,s,r,o=Ie.min(),l=Ie.min(),u=Rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.gt=e}}function fz(t){const e=az({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ab(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.Dn=new pz}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(_o.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class pz{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new rn(jt.comparator),o=!r.has(s);return this.index[n]=r.add(s),o}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new rn(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yj=41943040;class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(Yj,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Cu(0)}static ur(){return new Cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="LruGarbageCollector",gz=1048576;function tC([t,e],[n,s]){const r=ze(t,n);return r===0?ze(e,s):r}class yz{constructor(e){this.Tr=e,this.buffer=new rn(tC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tC(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vz{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ye(eC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hu(n)?ye(eC,"Ignoring IndexedDB error during garbage collection: ",n):await qu(n)}await this.Rr(3e5)}))}}class _z{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(dy.ue);const s=new yz(n);return this.Vr.forEachTarget(e,(r=>s.Er(r.sequenceNumber))).next((()=>this.Vr.gr(e,(r=>s.Er(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ZA)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZA):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,r,o,l,u,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(e,r)))).next((_=>(s=_,u=Date.now(),this.removeTargets(e,s,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(m=Date.now(),Gc()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function bz(t,e){return new _z(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.changes=new Yl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&Cd(s.mutation,r,mi.empty(),St.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ke()){const r=gl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((o=>{let l=yd();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const s=gl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ke())))}populateOverlays(e,n,s){const r=[];return s.forEach((o=>{n.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(e,r).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,s,r){let o=Jr();const l=Ad(),u=(function(){return Ad()})();return n.forEach(((d,m)=>{const y=s.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Xl)?o=o.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Cd(y.mutation,m,y.mutation.getFieldMask(),St.now())):l.set(m.key,mi.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>l.set(m,y))),n.forEach(((m,y)=>{var _;return u.set(m,new wz(y,(_=l.get(m))!==null&&_!==void 0?_:null))})),u)))}recalculateAndSaveOverlays(e,n){const s=Ad();let r=new Zt(((l,u)=>l-u)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let y=s.get(d)||mi.empty();y=u.applyToLocalView(m,y),s.set(d,y);const _=(r.get(u.batchId)||Ke()).add(d);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,y=d.value,_=jj();y.forEach((x=>{if(!o.has(x)){const E=Lj(n.get(x),s.get(x));E!==null&&_.set(x,E),o=o.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,_))}return oe.waitFor(l)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-o.size):oe.resolve(gl());let u=Gd,d=o;return l.next((m=>oe.forEach(m,((y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{d=d.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,Ke()))).next((y=>({batchId:u,changes:Ij(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let r=yd();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const o=n.collectionGroup;let l=yd();return this.indexManager.getCollectionParents(e,o).next((u=>oe.forEach(u,(d=>{const m=(function(_,x){return new py(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,s,r).next((y=>{y.forEach(((_,x)=>{l=l.insert(_,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o,r)))).next((l=>{o.forEach(((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Mn.newInvalidDocument(y)))}));let u=yd();return l.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Cd(y.mutation,m,mi.empty(),St.now()),yy(n,m)&&(u=u.insert(d,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:$i(r.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(r){return{name:r.name,query:fz(r.bundledQuery),readTime:$i(r.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.overlays=new Zt(Ee.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=gl();return oe.forEach(n,(r=>this.getOverlay(e,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,o)=>{this.wt(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.kr.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const r=gl(),o=n.length+1,l=new Ee(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>s&&r.set(d.getKey(),d)}return oe.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let o=new Zt(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=o.get(m.largestBatchId);y===null&&(y=gl(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=gl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>u.set(m,y))),!(u.size()>=r)););return oe.resolve(u)}wt(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const l=this.kr.get(r.largestBatchId).delete(s.key);this.kr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new HF(n,s));let o=this.kr.get(n);o===void 0&&(o=Ke(),this.kr.set(n,o)),this.kr.set(n,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.qr=new rn(mn.Qr),this.$r=new rn(mn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ee(new jt([])),s=new mn(n,e),r=new mn(n,e+1),o=[];return this.$r.forEachInRange([s,r],(l=>{this.Wr(l),o.push(l.key)})),o}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new jt([])),s=new mn(n,e),r=new mn(n,e+1);let o=Ke();return this.$r.forEachInRange([s,r],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new mn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rn(mn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qF(o,n,s,r);this.mutationQueue.push(l);for(const u of r)this.Yr=this.Yr.add(new mn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Xr(s),o=r<0?0:r;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?o1:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),r=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([s,r],(l=>{const u=this.Zr(l.Hr);o.push(u)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new rn(ze);return n.forEach((r=>{const o=new mn(r,0),l=new mn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],(u=>{s=s.add(u.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let o=s;Ee.isDocumentKey(o)||(o=o.child(""));const l=new mn(new Ee(o),0);let u=new rn(ze);return this.Yr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===r&&(u=u.add(d.Hr)),!0)}),l),oe.resolve(this.ei(u))}ei(e){const n=[];return e.forEach((s=>{const r=this.Zr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){ct(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(r=>{const o=new mn(r.key,n.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new mn(n,0),r=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.ni=e,this.docs=(function(){return new Zt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),o=r?r.size:0,l=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let s=Jr();return n.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let o=Jr();const l=n.path,u=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||sF(nF(y),s)<=0||(r.has(y.key)||yy(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,s,r){Ne(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Rz(this)}getSize(e){return oe.resolve(this.size)}}class Rz extends xz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.persistence=e,this.ii=new Yl((n=>u1(n)),h1),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new y1,this.targetCount=0,this._i=Cu.ar()}forEachTarget(e,n){return this.ii.forEach(((s,r)=>n(r))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Cu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let r=0;const o=[];return this.ii.forEach(((l,u)=>{u.sequenceNumber<=n&&s.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)})),oe.waitFor(o).next((()=>r))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach((l=>{o.push(r.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.ai={},this.overlays={},this.ui=new dy(0),this.ci=!1,this.ci=!0,this.li=new Az,this.referenceDelegate=e(this),this.hi=new Iz(this),this.indexManager=new mz,this.remoteDocumentCache=(function(r){return new Nz(r)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new dz(n),this.Ti=new Ez(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new Cz(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const r=new jz(this.ui.next());return this.referenceDelegate.Ii(),s(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class jz extends rF{constructor(e){super(),this.currentSequenceNumber=e}}class v1{constructor(e){this.persistence=e,this.Ai=new y1,this.Ri=null}static Vi(e){return new v1(e)}get mi(){if(this.Ri)return this.Ri;throw Ne(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((r=>this.mi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((o=>this.mi.add(o.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const r=Ee.fromPath(s);return this.fi(e,r).next((o=>{o||n.removeEntry(r,Ie.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ig{constructor(e,n){this.persistence=e,this.gi=new Yl((s=>lF(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=bz(this,n)}static Vi(e,n){return new Ig(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,r)=>this.Sr(e,s,r).next((o=>o?oe.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(e,(l=>this.Sr(e,l,n).next((u=>{u||(s++,o.removeEntry(l,Ie.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gp(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.gi.get(n);return oe.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=r}static Es(e,n){let s=Ke(),r=Ke();for(const o of n.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new _1(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return z9()?8:aF(Bn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,r){const o={result:null};return this.ps(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ys(e,n,r,s).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new Dz;return this.ws(e,n,l).next((u=>{if(o.result=u,this.Rs)return this.Ss(e,n,l,u.size)}))})).next((()=>o.result))}Ss(e,n,s,r){return s.documentReadCount<this.Vs?(Gc()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",$c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Gc()<=He.DEBUG&&ye("QueryEngine","Query:",$c(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.fs*r?(Gc()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",$c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(n))):oe.resolve())}ps(e,n){if(qA(n))return oe.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Ab(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const l=Ke(...o);return this.gs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,u);return this.Ds(n,m,l,d.readTime)?this.ps(e,Ab(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ys(e,n,s,r){return qA(n)||r.isEqual(Ie.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((o=>{const l=this.bs(n,o);return this.Ds(n,l,s,r)?oe.resolve(null):(Gc()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$c(n)),this.vs(e,l,n,tF(r,Gd)).next((u=>u)))}))}bs(e,n){let s=new rn(Nj(e));return n.forEach(((r,o)=>{yy(e,o)&&(s=s.add(o))})),s}Ds(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(e,n,s){return Gc()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",$c(n)),this.gs.getDocumentsMatchingQuery(e,n,_o.min(),s)}vs(e,n,s,r){return this.gs.getDocumentsMatchingQuery(e,s,r).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="LocalStore",Oz=3e8;class Mz{constructor(e,n,s,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new Zt(ze),this.Ms=new Yl((o=>u1(o)),h1),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function Pz(t,e,n,s){return new Mz(t,e,n,s)}async function Jj(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((o=>{const l=[],u=[];let d=Ke();for(const m of r){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Bs:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function Lz(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(u,d,m,y){const _=m.batch,x=_.keys();let E=oe.resolve();return x.forEach((S=>{E=E.next((()=>y.getEntry(d,S))).next((R=>{const N=m.docVersions.get(S);ct(N!==null,48541),R.version.compareTo(N)<0&&(_.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),y.addEntry(R)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,_)))})(n,s,e,o).next((()=>o.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(u){let d=Ke();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function Zj(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function Vz(t,e){const n=De(t),s=e.snapshotVersion;let r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;const u=[];e.targetChanges.forEach(((y,_)=>{const x=r.get(_);if(!x)return;u.push(n.hi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>n.hi.addMatchingKeys(o,y.addedDocuments,_))));let E=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Rn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,s)),r=r.insert(_,E),(function(R,N,M){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Oz?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(x,E,y)&&u.push(n.hi.updateTargetData(o,E))}));let d=Jr(),m=Ke();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),u.push(Uz(o,l,e.documentUpdates).next((y=>{d=y.Ls,m=y.ks}))),!s.isEqual(Ie.min())){const y=n.hi.getLastRemoteSnapshotVersion(o).next((_=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,s)));u.push(y)}return oe.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.Fs=r,o)))}function Uz(t,e,n){let s=Ke(),r=Ke();return n.forEach((o=>s=s.add(o))),e.getEntries(t,s).next((o=>{let l=Jr();return n.forEach(((u,d)=>{const m=o.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ye(b1,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)})),{Ls:l,ks:r}}))}function Fz(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=o1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zz(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.hi.getTargetData(s,e).next((o=>o?(r=o,oe.resolve(r)):n.hi.allocateTargetId(s).next((l=>(r=new lo(e,l,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Fs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function jb(t,e,n){const s=De(t),r=s.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",o,(l=>s.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Hu(l))throw l;ye(b1,`Failed to update sequence numbers for target ${e}: ${l}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(r.target)}function nC(t,e,n){const s=De(t);let r=Ie.min(),o=Ke();return s.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,m,y){const _=De(d),x=_.Ms.get(y);return x!==void 0?oe.resolve(_.Fs.get(x)):_.hi.getTargetData(m,y)})(s,l,Gi(e)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(l,e,n?r:Ie.min(),n?o:Ke()))).next((u=>(Bz(s,NF(e),u),{documents:u,qs:o})))))}function Bz(t,e,n){let s=t.xs.get(e)||Ie.min();n.forEach(((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),t.xs.set(e,s)}class sC{constructor(){this.activeTargetIds=OF()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qz{constructor(){this.Fo=new sC,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new sC,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="ConnectivityMonitor";class rC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ye(iC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ye(iC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=null;function Db(){return Ap===null?Ap=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ap++,"0x"+Ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="RestConnection",Gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $z{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${r}`,this.Ko=this.databaseId.database===Tg?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(e,n,s,r,o){const l=Db(),u=this.Go(e,n.toUriEncodedString());ye(d_,`Sending RPC '${e}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,r,o);const{host:m}=new URL(u),y=ta(m);return this.jo(e,u,d,s,y).then((_=>(ye(d_,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw vo(d_,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",s),_}))}Jo(e,n,s,r,o,l){return this.Wo(e,n,s,r,o)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,o)=>e[o]=r)),s&&s.headers.forEach(((r,o)=>e[o]=r))}Go(e,n){const s=Gz[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Wz extends $z{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,r,o){const l=Db();return new Promise(((u,d)=>{const m=new nj;m.setWithCredentials(!0),m.listenOnce(sj.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Hp.NO_ERROR:const _=m.getResponseJson();ye(kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Hp.TIMEOUT:ye(kn,`RPC '${e}' ${l} timed out`),d(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:const x=m.getStatus();if(ye(kn,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=(function(M){const H=M.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(H)>=0?H:ce.UNKNOWN})(S.status);d(new xe(R,S.message))}else d(new xe(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{c_:e,streamId:l,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ye(kn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(r);ye(kn,`RPC '${e}' ${l} sending request:`,r),m.send(n,"POST",y,s,15)}))}P_(e,n,s){const r=Db(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=aj(),u=rj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=o.join("");ye(kn,`Creating RPC '${e}' stream ${r}: ${y}`,d);const _=l.createWebChannel(y,d);this.T_(_);let x=!1,E=!1;const S=new Kz({Ho:N=>{E?ye(kn,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(x||(ye(kn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),x=!0),ye(kn,`RPC '${e}' stream ${r} sending:`,N),_.send(N))},Yo:()=>_.close()}),R=(N,M,H)=>{N.listen(M,(L=>{try{H(L)}catch($){setTimeout((()=>{throw $}),0)}}))};return R(_,gd.EventType.OPEN,(()=>{E||(ye(kn,`RPC '${e}' stream ${r} transport opened.`),S.s_())})),R(_,gd.EventType.CLOSE,(()=>{E||(E=!0,ye(kn,`RPC '${e}' stream ${r} transport closed`),S.__(),this.I_(_))})),R(_,gd.EventType.ERROR,(N=>{E||(E=!0,vo(kn,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),S.__(new xe(ce.UNAVAILABLE,"The operation could not be completed")))})),R(_,gd.EventType.MESSAGE,(N=>{var M;if(!E){const H=N.data[0];ct(!!H,16349);const L=H,$=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if($){ye(kn,`RPC '${e}' stream ${r} received error:`,$);const K=$.status;let Q=(function(k){const O=Yt[k];if(O!==void 0)return Fj(O)})(K),j=$.message;Q===void 0&&(Q=ce.INTERNAL,j="Unknown error status: "+K+" with message "+$.message),E=!0,S.__(new xe(Q,j)),_.close()}else ye(kn,`RPC '${e}' stream ${r} received:`,H),S.a_(H)}})),R(u,ij.STAT_EVENT,(N=>{N.stat===_b.PROXY?ye(kn,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===_b.NOPROXY&&ye(kn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{S.o_()}),0),S}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function f_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){return new JF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,s=1e3,r=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-s);r>0&&ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="PersistentStream";class tD{constructor(e,n,s,r,o,l,u,d){this.Fi=e,this.w_=s,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eD(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.b_===n&&this.W_(s,r)}),(s=>{e((()=>{const r=new xe(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(r)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{s((()=>this.G_(r)))})),this.stream.onMessage((r=>{s((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ye(aC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ye(aC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qz extends tD{constructor(e,n,s,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,l),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=tz(this.serializer,e),s=(function(o){if(!("targetChange"in o))return Ie.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?$i(l.readTime):Ie.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Ib(this.serializer),n.addTarget=(function(o,l){let u;const d=l.target;if(u=Sb(d)?{documents:iz(o,d)}:{query:rz(o,d).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qj(o,l.resumeToken);const m=Cb(o,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=Rg(o,l.snapshotVersion.toTimestamp());const m=Cb(o,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const s=oz(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Ib(this.serializer),n.removeTarget=e,this.k_(n)}}class Yz extends tD{constructor(e,n,s,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=sz(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Ib(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nz(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{}class Jz extends Xz{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,Nb(n,s),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())}))}Jo(e,n,s,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Jo(e,Nb(n,s),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ce.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xr(n),this._a=!1):ye("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="RemoteStore";class eB{constructor(e,n,s,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo((l=>{s.enqueueAndForget((async()=>{Jl(this)&&(ye(zl,"Restarting streams for network reachability change."),await(async function(d){const m=De(d);m.Ia.add(4),await Cf(m),m.Aa.set("Unknown"),m.Ia.delete(4),await wy(m)})(this))}))})),this.Aa=new Zz(s,r)}}async function wy(t){if(Jl(t))for(const e of t.da)await e(!0)}async function Cf(t){for(const e of t.da)await e(!1)}function nD(t,e){const n=De(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),E1(n)?T1(n):Gu(n).x_()&&w1(n,e))}function x1(t,e){const n=De(t),s=Gu(n);n.Ta.delete(e),s.x_()&&sD(n,e),n.Ta.size===0&&(s.x_()?s.B_():Jl(n)&&n.Aa.set("Unknown"))}function w1(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(t).H_(e)}function sD(t,e){t.Ra.$e(e),Gu(t).Y_(e)}function T1(t){t.Ra=new WF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Gu(t).start(),t.Aa.aa()}function E1(t){return Jl(t)&&!Gu(t).M_()&&t.Ta.size>0}function Jl(t){return De(t).Ia.size===0}function iD(t){t.Ra=void 0}async function tB(t){t.Aa.set("Online")}async function nB(t){t.Ta.forEach(((e,n)=>{w1(t,e)}))}async function sB(t,e){iD(t),E1(t)?(t.Aa.la(e),T1(t)):t.Aa.set("Unknown")}async function iB(t,e,n){if(t.Aa.set("Online"),e instanceof Bj&&e.state===2&&e.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ta.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ta.delete(u),r.Ra.removeTarget(u))})(t,e)}catch(s){ye(zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jg(t,s)}else if(e instanceof Wp?t.Ra.Ye(e):e instanceof zj?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ie.min()))try{const s=await Zj(t.localStore);n.compareTo(s)>=0&&await(function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ta.get(m);y&&o.Ta.set(m,y.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,m)=>{const y=o.Ta.get(d);if(!y)return;o.Ta.set(d,y.withResumeToken(Rn.EMPTY_BYTE_STRING,y.snapshotVersion)),sD(o,d);const _=new lo(y.target,d,m,y.sequenceNumber);w1(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(s){ye(zl,"Failed to raise snapshot:",s),await jg(t,s)}}async function jg(t,e,n){if(!Hu(e))throw e;t.Ia.add(1),await Cf(t),t.Aa.set("Offline"),n||(n=()=>Zj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(zl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await wy(t)}))}function rD(t,e){return e().catch((n=>jg(t,n,e)))}async function Ty(t){const e=De(t),n=To(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:o1;for(;rB(e);)try{const r=await Fz(e.localStore,s);if(r===null){e.Pa.length===0&&n.B_();break}s=r.batchId,aB(e,r)}catch(r){await jg(e,r)}aD(e)&&oD(e)}function rB(t){return Jl(t)&&t.Pa.length<10}function aB(t,e){t.Pa.push(e);const n=To(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function aD(t){return Jl(t)&&!To(t).M_()&&t.Pa.length>0}function oD(t){To(t).start()}async function oB(t){To(t).na()}async function lB(t){const e=To(t);for(const n of t.Pa)e.X_(n.mutations)}async function cB(t,e,n){const s=t.Pa.shift(),r=m1.from(s,e,n);await rD(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Ty(t)}async function uB(t,e){e&&To(t).Z_&&await(async function(s,r){if((function(l){return $F(l)&&l!==ce.ABORTED})(r.code)){const o=s.Pa.shift();To(s).N_(),await rD(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Ty(s)}})(t,e),aD(t)&&oD(t)}async function oC(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),ye(zl,"RemoteStore received new credentials");const s=Jl(n);n.Ia.add(3),await Cf(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await wy(n)}async function hB(t,e){const n=De(t);e?(n.Ia.delete(2),await wy(n)):e||(n.Ia.add(2),await Cf(n),n.Aa.set("Unknown"))}function Gu(t){return t.Va||(t.Va=(function(n,s,r){const o=De(n);return o.ia(),new Qz(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Zo:tB.bind(null,t),e_:nB.bind(null,t),n_:sB.bind(null,t),J_:iB.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),E1(t)?T1(t):t.Aa.set("Unknown")):(await t.Va.stop(),iD(t))}))),t.Va}function To(t){return t.ma||(t.ma=(function(n,s,r){const o=De(n);return o.ia(),new Yz(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:oB.bind(null,t),n_:uB.bind(null,t),ea:lB.bind(null,t),ta:cB.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Ty(t)):(await t.ma.stop(),t.Pa.length>0&&(ye(zl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,o){const l=Date.now()+s,u=new S1(e,n,l,r,o);return u.start(s),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A1(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Hu(t))return new xe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{static emptySet(e){return new ou(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=yd(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ou;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.fa=new Zt(Ee.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ne(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Nu{constructor(e,n,s,r,o,l,u,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,r,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Nu(e,n,ou.emptySet(n),l,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class fB{constructor(){this.queries=cC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const r=De(n),o=r.queries;r.queries=cC(),o.forEach(((l,u)=>{for(const d of u.wa)d.onError(s)}))})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function cC(){return new Yl((t=>Cj(t)),gy)}async function mB(t,e){const n=De(t);let s=3;const r=e.query;let o=n.queries.get(r);o?!o.Sa()&&e.ba()&&(s=2):(o=new dB,s=e.ba()?0:1);try{switch(s){case 0:o.ya=await n.onListen(r,!0);break;case 1:o.ya=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const u=A1(l,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&C1(n)}async function pB(t,e){const n=De(t),s=e.query;let r=3;const o=n.queries.get(s);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?r=e.ba()?0:1:!o.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gB(t,e){const n=De(t);let s=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const u of l.wa)u.Ca(r)&&(s=!0);l.ya=r}}s&&C1(n)}function yB(t,e,n){const s=De(t),r=s.queries.get(e);if(r)for(const o of r.wa)o.onError(n);s.queries.delete(e)}function C1(t){t.Da.forEach((e=>{e.next()}))}var kb,uC;(uC=kb||(kb={})).Fa="default",uC.Cache="cache";class vB{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Nu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.key=e}}class cD{constructor(e){this.key=e}}class _B{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=Nj(e),this.eu=new ou(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new lC,r=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((y,_)=>{const x=r.get(y),E=yy(this.query,_)?_:null,S=!!x&&this.mutatedKeys.has(x.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;x&&E?x.data.isEqual(E.data)?S!==R&&(s.track({type:3,doc:E}),N=!0):this.iu(x,E)||(s.track({type:2,doc:E}),N=!0,(d&&this.Xa(E,d)>0||m&&this.Xa(E,m)<0)&&(u=!0)):!x&&E?(s.track({type:0,doc:E}),N=!0):x&&!E&&(s.track({type:1,doc:x}),N=!0,(d||m)&&(u=!0)),N&&(E?(l=l.add(E),o=R?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),s.track({type:1,doc:y})}return{eu:l,ru:s,Ds:u,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((y,_)=>(function(E,S){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{At:N})}};return R(E)-R(S)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(s),r=r!=null&&r;const u=n&&!r?this.ou():[],d=this.Za.size===0&&this.current&&!r?1:0,m=d!==this.Ya;return this.Ya=d,l.length!==0||m?{snapshot:new Nu(this.query,e.eu,o,l,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new lC,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new cD(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new lD(s))})),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Nu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const N1="SyncEngine";class bB{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xB{constructor(e){this.key=e,this.lu=!1}}class wB{constructor(e,n,s,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Yl((u=>Cj(u)),gy),this.Tu=new Map,this.Iu=new Set,this.du=new Zt(Ee.comparator),this.Eu=new Map,this.Au=new y1,this.Ru={},this.Vu=new Map,this.mu=Cu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function TB(t,e,n=!0){const s=pD(t);let r;const o=s.Pu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=await uD(s,e,n,!0),r}async function EB(t,e){const n=pD(t);await uD(n,e,!0,!1)}async function uD(t,e,n,s){const r=await zz(t.localStore,Gi(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return s&&(u=await SB(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&nD(t.remoteStore,r),u}async function SB(t,e,n,s,r){t.gu=(_,x,E)=>(async function(R,N,M,H){let L=N.view.nu(M);L.Ds&&(L=await nC(R.localStore,N.query,!1).then((({documents:j})=>N.view.nu(j,L))));const $=H&&H.targetChanges.get(N.targetId),K=H&&H.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(L,R.isPrimaryClient,$,K);return dC(R,N.targetId,Q._u),Q.snapshot})(t,_,x,E);const o=await nC(t.localStore,e,!0),l=new _B(e,o.qs),u=l.nu(o.documents),d=Af.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),m=l.applyChanges(u,t.isPrimaryClient,d);dC(t,n,m._u);const y=new bB(e,n,l);return t.Pu.set(e,y),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function AB(t,e,n){const s=De(t),r=s.Pu.get(e),o=s.Tu.get(r.targetId);if(o.length>1)return s.Tu.set(r.targetId,o.filter((l=>!gy(l,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await jb(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&x1(s.remoteStore,r.targetId),Ob(s,r.targetId)})).catch(qu)):(Ob(s,r.targetId),await jb(s.localStore,r.targetId,!0))}async function CB(t,e){const n=De(t),s=n.Pu.get(e),r=n.Tu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),x1(n.remoteStore,s.targetId))}async function NB(t,e,n){const s=MB(t);try{const r=await(function(l,u){const d=De(l),m=St.now(),y=u.reduce(((E,S)=>E.add(S.key)),Ke());let _,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=Jr(),R=Ke();return d.Os.getEntries(E,y).next((N=>{S=N,S.forEach(((M,H)=>{H.isValidDocument()||(R=R.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,S))).next((N=>{_=N;const M=[];for(const H of u){const L=zF(H,_.get(H.key).overlayedDocument);L!=null&&M.push(new Xl(H.key,L,bj(L.value.mapValue),Hr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,m,M,u)})).next((N=>{x=N;const M=N.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(E,N.batchId,M)}))})).then((()=>({batchId:x.batchId,changes:Ij(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let m=l.Ru[l.currentUser.toKey()];m||(m=new Zt(ze)),m=m.insert(u,d),l.Ru[l.currentUser.toKey()]=m})(s,r.batchId,n),await Nf(s,r.changes),await Ty(s.remoteStore)}catch(r){const o=A1(r,"Failed to persist write");n.reject(o)}}async function hD(t,e){const n=De(t);try{const s=await Vz(n.localStore,e);e.targetChanges.forEach(((r,o)=>{const l=n.Eu.get(o);l&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.lu=!0:r.modifiedDocuments.size>0?ct(l.lu,14607):r.removedDocuments.size>0&&(ct(l.lu,42227),l.lu=!1))})),await Nf(n,s,e)}catch(s){await qu(s)}}function hC(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Pu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=De(l);d.onlineState=u;let m=!1;d.queries.forEach(((y,_)=>{for(const x of _.wa)x.va(u)&&(m=!0)})),m&&C1(d)})(s.eventManager,e),r.length&&s.hu.J_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RB(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Eu.get(e),o=r&&r.key;if(o){let l=new Zt(Ee.comparator);l=l.insert(o,Mn.newNoDocument(o,Ie.min()));const u=Ke().add(o),d=new by(Ie.min(),new Map,new Zt(ze),l,u);await hD(s,d),s.du=s.du.remove(o),s.Eu.delete(e),R1(s)}else await jb(s.localStore,e,!1).then((()=>Ob(s,e,n))).catch(qu)}async function IB(t,e){const n=De(t),s=e.batch.batchId;try{const r=await Lz(n.localStore,e);fD(n,s,null),dD(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nf(n,r)}catch(r){await qu(r)}}async function jB(t,e,n){const s=De(t);try{const r=await(function(l,u){const d=De(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,u).next((_=>(ct(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);fD(s,e,n),dD(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nf(s,r)}catch(r){await qu(r)}}function dD(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function fD(t,e,n){const s=De(t);let r=s.Ru[s.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),s.Ru[s.currentUser.toKey()]=r}}function Ob(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Tu.get(e))t.Pu.delete(s),n&&t.hu.pu(s,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((s=>{t.Au.containsKey(s)||mD(t,s)}))}function mD(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x1(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),R1(t))}function dC(t,e,n){for(const s of n)s instanceof lD?(t.Au.addReference(s.key,e),DB(t,s)):s instanceof cD?(ye(N1,"Document no longer in limbo: "+s.key),t.Au.removeReference(s.key,e),t.Au.containsKey(s.key)||mD(t,s.key)):Ne(19791,{yu:s})}function DB(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Iu.has(s)||(ye(N1,"New document in limbo: "+n),t.Iu.add(s),R1(t))}function R1(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(jt.fromString(e)),s=t.mu.next();t.Eu.set(s,new xB(n)),t.du=t.du.insert(n,s),nD(t.remoteStore,new lo(Gi(d1(n.path)),s,"TargetPurposeLimboResolution",dy.ue))}}async function Nf(t,e,n){const s=De(t),r=[],o=[],l=[];s.Pu.isEmpty()||(s.Pu.forEach(((u,d)=>{l.push(s.gu(d,e,n).then((m=>{var y;if((m||n)&&s.isPrimaryClient){const _=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(m){r.push(m);const _=_1.Es(d.targetId,m);o.push(_)}})))})),await Promise.all(l),s.hu.J_(r),await(async function(d,m){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(m,(x=>oe.forEach(x.Is,(E=>y.persistence.referenceDelegate.addReference(_,x.targetId,E))).next((()=>oe.forEach(x.ds,(E=>y.persistence.referenceDelegate.removeReference(_,x.targetId,E)))))))))}catch(_){if(!Hu(_))throw _;ye(b1,"Failed to update sequence numbers: "+_)}for(const _ of m){const x=_.targetId;if(!_.fromCache){const E=y.Fs.get(x),S=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(S);y.Fs=y.Fs.insert(x,R)}}})(s.localStore,o))}async function kB(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){ye(N1,"User change. New user:",e.toKey());const s=await Jj(n.localStore,e);n.currentUser=e,(function(o,l){o.Vu.forEach((u=>{u.forEach((d=>{d.reject(new xe(ce.CANCELLED,l))}))})),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nf(n,s.Bs)}}function OB(t,e){const n=De(t),s=n.Eu.get(e);if(s&&s.lu)return Ke().add(s.key);{let r=Ke();const o=n.Tu.get(e);if(!o)return r;for(const l of o){const u=n.Pu.get(l);r=r.unionWith(u.view.tu)}return r}}function pD(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RB.bind(null,e),e.hu.J_=gB.bind(null,e.eventManager),e.hu.pu=yB.bind(null,e.eventManager),e}function MB(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jB.bind(null,e),e}class Dg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Pz(this.persistence,new kz,e.initialUser,this.serializer)}Du(e){return new Xj(v1.Vi,this.serializer)}bu(e){return new qz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dg.provider={build:()=>new Dg};class PB extends Dg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ct(this.persistence.referenceDelegate instanceof Ig,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vz(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new Xj((s=>Ig.Vi(s,n)),this.serializer)}}class Mb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hC(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kB.bind(null,this.syncEngine),await hB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fB})()}createDatastore(e){const n=xy(e.databaseInfo.databaseId),s=(function(o){return new Wz(o)})(e.databaseInfo);return(function(o,l,u,d){return new Jz(o,l,u,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,o,l,u){return new eB(s,r,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>hC(this.syncEngine,n,0)),(function(){return rC.C()?new rC:new Hz})())}createSyncEngine(e,n){return(function(r,o,l,u,d,m,y){const _=new wB(r,o,l,u,d,m);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const o=De(r);ye(zl,"RemoteStore shutting down."),o.Ia.add(5),await Cf(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mb.provider={build:()=>new Mb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class VB{constructor(e,n,s,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=On.UNAUTHENTICATED,this.clientId=r1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async l=>{ye(Eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(s,(l=>(ye(Eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=A1(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function m_(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await Jj(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>{vo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{ye("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{vo("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),t._offlineComponents=e}async function fC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UB(t);ye(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>oC(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>oC(e.remoteStore,r))),t._onlineComponents=e}async function UB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Eo,"Using user provided OfflineComponentProvider");try{await m_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ce.FAILED_PRECONDITION||r.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await m_(t,new Dg)}}else ye(Eo,"Using default OfflineComponentProvider"),await m_(t,new PB(void 0));return t._offlineComponents}async function gD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Eo,"Using user provided OnlineComponentProvider"),await fC(t,t._uninitializedComponentsProvider._online)):(ye(Eo,"Using default OnlineComponentProvider"),await fC(t,new Mb))),t._onlineComponents}function FB(t){return gD(t).then((e=>e.syncEngine))}async function zB(t){const e=await gD(t),n=e.eventManager;return n.onListen=TB.bind(null,e.syncEngine),n.onUnlisten=AB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CB.bind(null,e.syncEngine),n}function BB(t,e,n={}){const s=new po;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,m){const y=new LB({next:x=>{y.Ou(),l.enqueueAndForget((()=>pB(o,_)));const E=x.docs.has(u);!E&&x.fromCache?m.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&d&&d.source==="server"?m.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),_=new vB(d1(u.path),y,{includeMetadataChanges:!0,ka:!0});return mB(o,_)})(await zB(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firestore.googleapis.com",pC=!0;class gC{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vD,this.ssl=pC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:pC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gz)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yD((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I1{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new H7;switch(s.type){case"firstParty":return new W7(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=mC.get(n);s&&(ye("ComponentProvider","Removing Datastore"),mC.delete(n),s.terminate())})(this),Promise.resolve()}}function qB(t,e,n,s={}){var r;t=Hd(t,I1);const o=ta(e),l=t._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(ny(`https://${d}`),sy("Firestore",!0)),l.host!==vD&&l.host!==d&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:s});if(!Wr(m,u)&&(t._setSettings(m),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=On.MOCK_USER;else{y=Vx(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new On(x)}t._authCredentials=new G7(new lj(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new j1(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ef(n,yn._jsonSchema))return new yn(e,s||null,new Ee(jt.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:Jt("string",yn._jsonSchemaVersion),referencePath:Jt("string")};class Xd extends j1{constructor(e,n,s){super(e,n,d1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Ee(e))}withConverter(e){return new Xd(this.firestore,e,this._path)}}function p_(t,e,...n){if(t=vn(t),arguments.length===1&&(e=r1.newId()),Z7("doc","path",e),t instanceof I1){const s=jt.fromString(e,...n);return IA(s),new yn(t,null,new Ee(s))}{if(!(t instanceof yn||t instanceof Xd))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return IA(s),new yn(t.firestore,t instanceof Xd?t.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="AsyncQueue";class vC{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eD(this,"async_queue_retry"),this.oc=()=>{const s=f_();s&&ye(yC,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=f_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=f_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new po;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hu(e))throw e;ye(yC,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Xr("INTERNAL UNHANDLED ERROR: ",_C(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const r=S1.createAndSchedule(this,e,n,s,(o=>this.lc(o)));return this.ec.push(r),r}ac(){this.tc&&Ne(47125,{hc:_C(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function _C(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class D1 extends I1{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new vC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vC(e),this._firestoreClient=void 0,await e}}}function HB(t,e){const n=typeof t=="object"?t:_f(),s=typeof t=="string"?t:Tg,r=sa(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=Px("firestore");o&&qB(r,...o)}return r}function _D(t){if(t._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GB(t),t._firestoreClient}function GB(t){var e,n,s;const r=t._freezeSettings(),o=(function(u,d,m,y){return new hF(u,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,yD(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new VB(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(Rn.fromBase64String(e))}catch(n){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ks(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ef(e,Ks._jsonSchema))return Ks.fromBase64String(e.bytes)}}Ks._jsonSchemaVersion="firestore/bytes/1.0",Ks._jsonSchema={type:Jt("string",Ks._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Ef(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Jt("string",Ki._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ef(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new xe(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Jt("string",Wi._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=/^__.*__$/;class KB{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sf(e,this.data,n,this.fieldTransforms)}}function xD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ec:t})}}class O1{constructor(e,n,s,r,o,l){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new O1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:s,mc:!1});return r.fc(e),r}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:s,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return kg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(xD(this.Ec)&&$B.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class WB{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xy(e)}Dc(e,n,s,r=!1){return new O1({Ec:e,methodName:n,bc:s,path:Nn.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QB(t){const e=t._freezeSettings(),n=xy(t._databaseId);return new WB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YB(t,e,n,s,r,o={}){const l=t.Dc(o.merge||o.mergeFields?2:0,e,n,r);SD("Data must be an object, but it was:",l,s);const u=TD(s,l);let d,m;if(o.merge)d=new mi(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const x=XB(e,_,n);if(!l.contains(x))throw new xe(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ZB(y,x)||y.push(x)}d=new mi(y),m=l.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=l.fieldTransforms;return new KB(new $s(u),d,m)}function wD(t,e){if(ED(t=vn(t)))return SD("Unsupported field value:",e,t),TD(t,e);if(t instanceof bD)return(function(s,r){if(!xD(r.Ec))throw r.wc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,r){const o=[];let l=0;for(const u of s){let d=wD(u,r.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(s,r){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MF(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=St.fromDate(s);return{timestampValue:Rg(r.serializer,o)}}if(s instanceof St){const o=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rg(r.serializer,o)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ks)return{bytesValue:qj(r.serializer,s._byteString)};if(s instanceof yn){const o=r.databaseId,l=s.firestore._databaseId;if(!l.isEqual(o))throw r.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g1(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Wi)return(function(l,u){return{mapValue:{fields:{[vj]:{stringValue:_j},[Eg]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.wc("VectorValues must only contain numeric values.");return f1(u.serializer,m)}))}}}}}})(s,r);throw r.wc(`Unsupported field value: ${a1(s)}`)})(t,e)}function TD(t,e){const n={};return dj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ql(t,((s,r)=>{const o=wD(r,e.Vc(s));o!=null&&(n[s]=o)})),{mapValue:{fields:n}}}function ED(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof St||t instanceof Ki||t instanceof Ks||t instanceof yn||t instanceof bD||t instanceof Wi)}function SD(t,e,n){if(!ED(n)||!uj(n)){const s=a1(n);throw s==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+s)}}function XB(t,e,n){if((e=vn(e))instanceof k1)return e._internalPath;if(typeof e=="string")return AD(t,e);throw kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const JB=new RegExp("[~\\*/\\[\\]]");function AD(t,e,n){if(e.search(JB)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new k1(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kg(t,e,n,s,r){const o=s&&!s.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${s}`),l&&(d+=` in document ${r}`),d+=")"),new xe(ce.INVALID_ARGUMENT,u+t+d)}function ZB(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,s,r,o){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ND("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eq extends CD{data(){return super.data()}}function ND(t,e){return typeof e=="string"?AD(t,e):e instanceof k1?e._internalPath:e._delegate._internalPath}class tq{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ql(e,((r,o)=>{s[r]=this.convertValue(o,n)})),s}convertVectorValue(e){var n,s,r;const o=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[Eg].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map((l=>qt(l.doubleValue)));return new Wi(o)}convertGeoPoint(e){return new Ki(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=my(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=bo(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=jt.fromString(e);ct(Qj(s),9688,{name:e});const r=new Kd(s.get(1),s.get(3)),o=new Ee(s.popFirst(5));return r.isEqual(n)||Xr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class _d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Il extends CD{constructor(e,n,s,r,o,l){super(e,n,s,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ND("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Il._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Il._jsonSchemaVersion="firestore/documentSnapshot/1.0",Il._jsonSchema={type:Jt("string",Il._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Qp extends Il{data(e={}){return super.data(e)}}class Nd{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new _d(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Qp(this._firestore,this._userDataWriter,s.key,s,new _d(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new Qp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _d(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Qp(r._firestore,r._userDataWriter,u.doc.key,u.doc,new _d(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:sq(u.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){t=Hd(t,yn);const e=Hd(t.firestore,D1);return BB(_D(e),t._key).then((n=>oq(e,t,n)))}Nd._jsonSchemaVersion="firestore/querySnapshot/1.0",Nd._jsonSchema={type:Jt("string",Nd._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class iq extends tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function rq(t,e,n){t=Hd(t,yn);const s=Hd(t.firestore,D1),r=nq(t.converter,e);return aq(s,[YB(QB(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Hr.none())])}function aq(t,e){return(function(s,r){const o=new po;return s.asyncQueue.enqueueAndForget((async()=>NB(await FB(s),r,o))),o.promise})(_D(t),e)}function oq(t,e,n){const s=n.docs.get(e._key),r=new iq(t);return new Il(t,r,e._key,s,new _d(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Bu=r})(No),Xs(new Ns("firestore",((s,{instanceIdentifier:r,options:o})=>{const l=s.getProvider("app").getImmediate(),u=new D1(new $7(s.getProvider("auth-internal")),new Q7(l,s.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(m.options.projectId,y)})(l,r),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),zn(SA,AA,e),zn(SA,AA,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebasestorage.googleapis.com",lq="storageBucket",cq=120*1e3,uq=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ei{constructor(e,n,s=0){super(g_(e),`Firebase Storage: ${n} (${g_(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zi||(Zi={}));function g_(t){return"storage/"+t}function hq(){const t="An unknown error occurred, please check the error payload for server response.";return new sr(Zi.UNKNOWN,t)}function dq(){return new sr(Zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fq(){return new sr(Zi.CANCELED,"User canceled the upload/download.")}function mq(t){return new sr(Zi.INVALID_URL,"Invalid URL '"+t+"'.")}function pq(t){return new sr(Zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xC(t){return new sr(Zi.INVALID_ARGUMENT,t)}function ID(){return new sr(Zi.APP_DELETED,"The Firebase app was deleted.")}function gq(t){return new sr(Zi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=pi.makeFromUrl(e,n)}catch{return new pi(e,"")}if(s.path==="")return s;throw pq(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function m($){$.path_=decodeURIComponent($.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${y}/b/${r}/o${x}`,"i"),S={bucket:1,path:3},R=n===RD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",M=new RegExp(`^https?://${R}/${r}/${N}`,"i"),L=[{regex:u,indices:d,postModify:o},{regex:E,indices:S,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let $=0;$<L.length;$++){const K=L[$],Q=K.regex.exec(e);if(Q){const j=Q[K.indices.bucket];let C=Q[K.indices.path];C||(C=""),s=new pi(j,C),K.postModify(s);break}}if(s==null)throw mq(e);return s}}class yq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t,e,n){let s=1,r=null,o=null,l=!1,u=0;function d(){return u===2}let m=!1;function y(...N){m||(m=!0,e.apply(null,N))}function _(N){r=setTimeout(()=>{r=null,t(E,d())},N)}function x(){o&&clearTimeout(o)}function E(N,...M){if(m){x();return}if(N){x(),y.call(null,N,...M);return}if(d()||l){x(),y.call(null,N,...M);return}s<64&&(s*=2);let L;u===1?(u=2,L=0):L=(s+Math.random())*1e3,_(L)}let S=!1;function R(N){S||(S=!0,x(),!m&&(r!==null?(N||(u=2),clearTimeout(r),_(0)):N||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,R(!0)},n),R}function _q(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t){return t!==void 0}function wC(t,e,n,s){if(s<e)throw xC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw xC(`Invalid value for '${t}'. Expected ${n} or less.`)}function xq(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var Og;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Og||(Og={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,s,r,o,l,u,d,m,y,_,x=!0,E=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Cp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Og.NO_ERROR,d=o.getStatus();if(!u||wq(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Og.ABORT;s(!1,new Cp(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Cp(m,o))})},n=(s,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());bq(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=hq();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(r.canceled){const d=this.appDelete_?ID():fq();l(d)}else{const d=dq();l(d)}};this.canceled_?n(!1,new Cp(!1,null,!0)):this.backoffId_=vq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_q(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cp{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Eq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Sq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Aq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Nq(t,e,n,s,r,o,l=!0,u=!1){const d=xq(t.urlParams),m=t.url+d,y=Object.assign({},t.headers);return Aq(y,e),Eq(y,n),Sq(y,o),Cq(y,s),new Tq(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Iq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this._service=e,n instanceof pi?this._location=n:this._location=pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mg(e,n)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Iq(this._location.path)}get storage(){return this._service}get parent(){const e=Rq(this._location.path);if(e===null)return null;const n=new pi(this._location.bucket,e);return new Mg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gq(e)}}function TC(t,e){const n=e==null?void 0:e[lq];return n==null?null:pi.makeFromBucketSpec(n,t)}function jq(t,e,n,s={}){t.host=`${e}:${n}`;const r=ta(e);r&&(ny(`https://${t.host}/b`),sy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:Vx(o,t.app.options.projectId))}class Dq{constructor(e,n,s,r,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=RD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cq,this._maxUploadRetryTime=uq,this._requests=new Set,r!=null?this._bucket=pi.makeFromBucketSpec(r,this._host):this._bucket=TC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=TC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mg(this,e)}_makeRequest(e,n,s,r,o=!0){if(this._deleted)return new yq(ID());{const l=Nq(e,this._appId,s,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const EC="@firebase/storage",SC="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="storage";function kq(t=_f(),e){t=vn(t);const s=sa(t,jD).getImmediate({identifier:e}),r=Px("storage");return r&&Oq(s,...r),s}function Oq(t,e,n,s={}){jq(t,e,n,s)}function Mq(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Dq(n,s,r,e,No)}function Pq(){Xs(new Ns(jD,Mq,"PUBLIC").setMultipleInstances(!0)),zn(EC,SC,""),zn(EC,SC,"esm2017")}Pq();var AC={};const CC="@firebase/database",NC="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DD="";function Lq(t){DD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Cn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return na(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Vq(e)}}catch{}return new Uq},yl=kD("localStorage"),Fq=kD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new vf("@firebase/database"),zq=(function(){let t=1;return function(){return t++}})(),OD=function(t){const e=Z9(t),n=new W9;n.update(e);const s=n.digest();return Mx.encodeByteArray(s)},Rf=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Rf.apply(null,s):typeof s=="object"?e+=Cn(s):e+=s,e+=" "}return e};let Rd=null,RC=!0;const Bq=function(t,e){fe(!0,"Can't turn on custom loggers persistently."),lu.logLevel=He.VERBOSE,Rd=lu.log.bind(lu)},Pn=function(...t){if(RC===!0&&(RC=!1,Rd===null&&Fq.get("logging_enabled")===!0&&Bq()),Rd){const e=Rf.apply(null,t);Rd(e)}},If=function(t){return function(...e){Pn(t,...e)}},Pb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rf(...t);lu.error(e)},Zr=function(...t){const e=`FIREBASE FATAL ERROR: ${Rf(...t)}`;throw lu.error(e),new Error(e)},Cs=function(...t){const e="FIREBASE WARNING: "+Rf(...t);lu.warn(e)},qq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},MD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Hq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ru="[MIN_NAME]",Bl="[MAX_NAME]",$u=function(t,e){if(t===e)return 0;if(t===Ru||e===Bl)return-1;if(e===Ru||t===Bl)return 1;{const n=IC(t),s=IC(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Gq=function(t,e){return t===e?0:t<e?-1:1},rd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Cn(e))},M1=function(t){if(typeof t!="object"||t===null)return Cn(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Cn(e[s]),n+=":",n+=M1(t[e[s]]);return n+="}",n},PD=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function Zs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const LD=function(t){fe(!MD(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,o,l,u,d;t===0?(o=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),s),o=u+s,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-s-n))));const m=[];for(d=n;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(r?1:0),m.reverse();const y=m.join("");let _="";for(d=0;d<64;d+=8){let x=parseInt(y.substr(d,8),2).toString(16);x.length===1&&(x="0"+x),_=_+x}return _.toLowerCase()},$q=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Kq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Wq=new RegExp("^-?(0*)\\d{1,10}$"),Qq=-2147483648,Yq=2147483647,IC=function(t){if(Wq.test(t)){const e=Number(t);if(e>=Qq&&e<=Yq)return e}return null},jf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Cs("Exception was thrown by user callback.",n),e},Math.floor(0))}},Xq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Id=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Cs(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cs(e)}}class Yp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="5",VD="v",UD="s",FD="r",zD="f",BD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qD="ls",HD="p",Lb="ac",GD="websocket",$D="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s,r,o=!1,l="",u=!1,d=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function eH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function WD(t,e,n){fe(typeof e=="string","typeof type must == string"),fe(typeof n=="object","typeof params must == object");let s;if(e===GD)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$D)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);eH(t)&&(n.ns=t.namespace);const r=[];return Zs(n,(o,l)=>{r.push(o+"="+l)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.counters_={}}incrementCounter(e,n=1){na(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return R9(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={},v_={};function L1(t){const e=t.toString();return y_[e]||(y_[e]=new tH),y_[e]}function nH(t,e){const n=t.toString();return v_[n]||(v_[n]=e()),v_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&jf(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="start",iH="close",rH="pLPCommand",aH="pRTLPCB",QD="id",YD="pw",XD="ser",oH="cb",lH="seg",cH="ts",uH="d",hH="dframe",JD=1870,ZD=30,dH=JD-ZD,fH=25e3,mH=3e4;class Qc{constructor(e,n,s,r,o,l,u){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=If(e),this.stats_=L1(n),this.urlFn=d=>(this.appCheckToken&&(d[Lb]=this.appCheckToken),WD(n,$D,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mH)),Hq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V1((...o)=>{const[l,u,d,m,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===jC)this.id=u,this.password=d;else if(l===iH)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const s={};s[jC]="t",s[XD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[oH]=this.scriptTagHolder.uniqueCallbackIdentifier),s[VD]=P1,this.transportSessionId&&(s[UD]=this.transportSessionId),this.lastSessionId&&(s[qD]=this.lastSessionId),this.applicationId&&(s[HD]=this.applicationId),this.appCheckToken&&(s[Lb]=this.appCheckToken),typeof location<"u"&&location.hostname&&BD.test(location.hostname)&&(s[FD]=zD);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qc.forceAllow_=!0}static forceDisallow(){Qc.forceDisallow_=!0}static isAvailable(){return Qc.forceAllow_?!0:!Qc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$q()&&!Kq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=LI(n),r=PD(s,dH);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[hH]="t",s[QD]=e,s[YD]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Cn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class V1{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zq(),window[rH+this.uniqueCallbackIdentifier]=e,window[aH+this.uniqueCallbackIdentifier]=n,this.myIFrame=V1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){Pn("frame writing exception"),u.stack&&Pn(u.stack),Pn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pn("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[QD]=this.myID,e[YD]=this.myPW,e[XD]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZD+s.length<=JD;){const l=this.pendingSegs.shift();s=s+"&"+lH+r+"="+l.seg+"&"+cH+r+"="+l.ts+"&"+uH+r+"="+l.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(fH)),o=()=>{clearTimeout(r),s()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Pn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=16384,gH=45e3;let Pg=null;typeof MozWebSocket<"u"?Pg=MozWebSocket:typeof WebSocket<"u"&&(Pg=WebSocket);class di{constructor(e,n,s,r,o,l,u){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=If(this.connId),this.stats_=L1(n),this.connURL=di.connectionURL_(n,l,u,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,o){const l={};return l[VD]=P1,typeof location<"u"&&location.hostname&&BD.test(location.hostname)&&(l[FD]=zD),n&&(l[UD]=n),s&&(l[qD]=s),r&&(l[Lb]=r),o&&(l[HD]=o),WD(e,GD,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yl.set("previous_websocket_failure",!0);try{let s;F9(),this.mySock=new Pg(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Pg!==null&&!di.forceDisallow_}static previouslyFailed(){return yl.isInMemoryStorage||yl.get("previous_websocket_failure")===!0}markConnectionHealthy(){yl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Fd(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=PD(n,pH);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{static get ALL_TRANSPORTS(){return[Qc,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=di&&di.isAvailable();let s=n&&!di.previouslyFailed();if(e.webSocketOnly&&(n||Cs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[di];else{const r=this.transports_=[];for(const o of Jd.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Jd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=6e4,vH=5e3,_H=10*1024,bH=100*1024,__="t",DC="d",xH="s",kC="r",wH="e",OC="o",MC="a",PC="n",LC="p",TH="h";class EH{constructor(e,n,s,r,o,l,u,d,m,y){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=If("c:"+this.id+":"),this.transportManager_=new Jd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_H?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(__ in e){const n=e[__];n===MC?this.upgradeIfSecondaryHealthy_():n===kC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=rd("t",e),s=rd("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=rd("t",e),s=rd("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=rd(__,e);if(DC in e){const s=e[DC];if(n===TH){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===PC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xH?this.onConnectionShutdown_(s):n===kC?this.onReset_(s):n===wH?Pb("Server Error: "+s):n===OC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),P1!==s&&Cs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.allowedEvents_=e,this.listeners_={},fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!s||s===r[o].context)){r.splice(o,1);return}}validateEventType_(e){fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends t4{static getInstance(){return new Lg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ux()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=32,UC=768;class At{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function gt(){return new At("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function So(t){return t.pieces_.length-t.pieceNum_}function Et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new At(t.pieces_,e)}function n4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function SH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function s4(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function i4(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new At(e,0)}function gn(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof At)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new At(n,0)}function Xe(t){return t.pieceNum_>=t.pieces_.length}function Ws(t,e){const n=et(t),s=et(e);if(n===null)return e;if(n===s)return Ws(Et(t),Et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function r4(t,e){if(So(t)!==So(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function gi(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(So(t)>So(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class AH{constructor(e,n){this.errorPrefix_=n,this.parts_=s4(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=iy(this.parts_[s]);a4(this)}}function CH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=iy(e),a4(t)}function NH(t){const e=t.parts_.pop();t.byteLength_-=iy(e),t.parts_.length>0&&(t.byteLength_-=1)}function a4(t){if(t.byteLength_>UC)throw new Error(t.errorPrefix_+"has a key path longer than "+UC+" bytes ("+t.byteLength_+").");if(t.parts_.length>VC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VC+") or object contains a cycle "+hl(t))}function hl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends t4{static getInstance(){return new U1}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=1e3,RH=300*1e3,FC=30*1e3,IH=1.3,jH=3e4,DH="server_kill",zC=3;class Gr extends e4{constructor(e,n,s,r,o,l,u,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=Gr.nextPersistentConnectionId_++,this.log_=If("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ad,this.maxReconnectDelay_=RH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Lg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(Cn(o)),fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new Lx,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,s,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),fe(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(l).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const o={p:s},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,u=>{const d=u.d,m=u.s;Gr.warnOnListenWarnings_(d,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",u),m!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&na(e,"w")){const s=Tu(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Cs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||K9(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=$9(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";r&&(o.q=s,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const o={p:n,d:s};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,o){this.initConnection_();const l={p:n,d:s};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const o=s.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Cn(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pb("Unrecognized action received from server: "+Cn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jH&&(this.reconnectDelay_=ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*IH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Gr.nextConnectionId_++,o=this.lastSessionId;let l=!1,u=null;const d=function(){u?u.close():(l=!0,s())},m=function(_){fe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)};this.realtime_={close:d,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,x]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);l?Pn("getToken() completed but was canceled"):(Pn("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=x&&x.token,u=new EH(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,E=>{Cs(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(DH)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Cs(_),d())}}}interrupt(e){Pn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lb(this.interruptReasons_)&&(this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(o=>M1(o)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new At(e).toString();let r;if(this.listens.has(s)){const o=this.listens.get(s);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){Pn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zC&&(this.reconnectDelay_=FC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+DD.replace(/\./g,"-")]=1,Ux()?e["framework.cordova"]=1:qI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Lg.getInstance().currentlyOnline();return lb(this.interruptReasons_)&&e}}Gr.nextPersistentConnectionId_=0;Gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new tt(Ru,e),r=new tt(Ru,n);return this.compare(s,r)!==0}minPost(){return tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np;class o4 extends Ey{static get __EMPTY_NODE(){return Np}static set __EMPTY_NODE(e){Np=e}compare(e,n){return $u(e.name,n.name)}isDefinedOn(e){throw Uu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(Bl,Np)}makePost(e,n){return fe(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,Np)}toString(){return".key"}}const cu=new o4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?s(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pn{constructor(e,n,s,r,o){this.key=e,this.value=n,this.color=s??pn.RED,this.left=r??hs.EMPTY_NODE,this.right=o??hs.EMPTY_NODE}copy(e,n,s,r,o){return new pn(e??this.key,n??this.value,s??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const o=s(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return hs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return hs.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pn.RED=!0;pn.BLACK=!1;class kH{copy(e,n,s,r,o){return this}insert(e,n,s){return new pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hs{constructor(e,n=hs.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hs(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(e){return new hs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rp(this.root_,null,this.comparator_,!0,e)}}hs.EMPTY_NODE=new kH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t,e){return $u(t.name,e.name)}function F1(t,e){return $u(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb;function MH(t){Vb=t}const l4=function(t){return typeof t=="number"?"number:"+LD(t):"string:"+t},c4=function(t){if(t.isLeafNode()){const e=t.val();fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&na(e,".sv"),"Priority must be a string or number.")}else fe(t===Vb||t.isEmpty(),"priority of unexpected type.");fe(t===Vb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BC;class fn{static set __childrenNodeConstructor(e){BC=e}static get __childrenNodeConstructor(){return BC}constructor(e,n=fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c4(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xe(e)?this:et(e)===".priority"?this.priorityNode_:fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=et(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(fe(s!==".priority"||So(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+l4(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=LD(this.value_):e+=this.value_,this.lazyHash_=OD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof fn.__childrenNodeConstructor?-1:(fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=fn.VALUE_TYPE_ORDER.indexOf(n),o=fn.VALUE_TYPE_ORDER.indexOf(s);return fe(r>=0,"Unknown leaf type: "+n),fe(o>=0,"Unknown leaf type: "+s),r===o?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4,h4;function PH(t){u4=t}function LH(t){h4=t}class VH extends Ey{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),o=s.compareTo(r);return o===0?$u(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(Bl,new fn("[PRIORITY-POST]",h4))}makePost(e,n){const s=u4(e);return new tt(n,new fn("[PRIORITY-POST]",s))}toString(){return".priority"}}const Un=new VH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=Math.log(2);class FH{constructor(e){const n=o=>parseInt(Math.log(o)/UH,10),s=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vg=function(t,e,n,s){t.sort(e);const r=function(d,m){const y=m-d;let _,x;if(y===0)return null;if(y===1)return _=t[d],x=n?n(_):_,new pn(x,_.node,pn.BLACK,null,null);{const E=parseInt(y/2,10)+d,S=r(d,E),R=r(E+1,m);return _=t[E],x=n?n(_):_,new pn(x,_.node,pn.BLACK,S,R)}},o=function(d){let m=null,y=null,_=t.length;const x=function(S,R){const N=_-S,M=_;_-=S;const H=r(N+1,M),L=t[N],$=n?n(L):L;E(new pn($,L.node,R,null,H))},E=function(S){m?(m.left=S,m=S):(y=S,m=S)};for(let S=0;S<d.count;++S){const R=d.nextBitIsOne(),N=Math.pow(2,d.count-(S+1));R?x(N,pn.BLACK):(x(N,pn.BLACK),x(N,pn.RED))}return y},l=new FH(t.length),u=o(l);return new hs(s||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_;const Hc={};class zr{static get Default(){return fe(Hc&&Un,"ChildrenNode.ts has not been loaded"),b_=b_||new zr({".priority":Hc},{".priority":Un}),b_}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Tu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hs?n:null}hasIndex(e){return na(this.indexSet_,e.toString())}addIndex(e,n){fe(e!==cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const o=n.getIterator(tt.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),s.push(l),l=o.getNext();let u;r?u=Vg(s,e.getCompare()):u=Hc;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const y=Object.assign({},this.indexes_);return y[d]=u,new zr(y,m)}addToIndexes(e,n){const s=dg(this.indexes_,(r,o)=>{const l=Tu(this.indexSet_,o);if(fe(l,"Missing index implementation for "+o),r===Hc)if(l.isDefinedOn(e.node)){const u=[],d=n.getIterator(tt.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&u.push(m),m=d.getNext();return u.push(e),Vg(u,l.getCompare())}else return Hc;else{const u=n.get(e.name);let d=r;return u&&(d=d.remove(new tt(e.name,u))),d.insert(e,e.node)}});return new zr(s,this.indexSet_)}removeFromIndexes(e,n){const s=dg(this.indexes_,r=>{if(r===Hc)return r;{const o=n.get(e.name);return o?r.remove(new tt(e.name,o)):r}});return new zr(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;class ot{static get EMPTY_NODE(){return od||(od=new ot(new hs(F1),null,zr.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&c4(this.priorityNode_),this.children_.isEmpty()&&fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||od}updatePriority(e){return this.children_.isEmpty()?this:new ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?od:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(Et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new tt(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(s,this.children_));const l=r.isEmpty()?od:this.priorityNode_;return new ot(r,l,o)}}updateChild(e,n){const s=et(e);if(s===null)return n;{fe(et(e)!==".priority"||So(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Et(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,o=!0;if(this.forEachChild(Un,(l,u)=>{n[l]=u.val(e),s++,o&&ot.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*s){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+l4(this.getPriority().val())+":"),this.forEachChild(Un,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":OD(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const o=r.getPredecessorKey(new tt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,tt.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Df?-1:0}withIndex(e){if(e===cu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Un),r=n.getIterator(Un);let o=s.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=s.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===cu?null:this.indexMap_.get(e.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zH extends ot{constructor(){super(new hs(F1),ot.EMPTY_NODE,zr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ot.EMPTY_NODE}isEmpty(){return!1}}const Df=new zH;Object.defineProperties(tt,{MIN:{value:new tt(Ru,ot.EMPTY_NODE)},MAX:{value:new tt(Bl,Df)}});o4.__EMPTY_NODE=ot.EMPTY_NODE;fn.__childrenNodeConstructor=ot;MH(Df);LH(Df);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=!0;function Ln(t,e=null){if(t===null)return ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new fn(n,Ln(e))}if(!(t instanceof Array)&&BH){const n=[];let s=!1;if(Zs(t,(l,u)=>{if(l.substring(0,1)!=="."){const d=Ln(u);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),n.push(new tt(l,d)))}}),n.length===0)return ot.EMPTY_NODE;const o=Vg(n,OH,l=>l.name,F1);if(s){const l=Vg(n,Un.getCompare());return new ot(o,Ln(e),new zr({".priority":l},{".priority":Un}))}else return new ot(o,Ln(e),zr.Default)}else{let n=ot.EMPTY_NODE;return Zs(t,(s,r)=>{if(na(t,s)&&s.substring(0,1)!=="."){const o=Ln(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(s,o))}}),n.updatePriority(Ln(e))}}PH(Ln);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH extends Ey{constructor(e){super(),this.indexPath_=e,fe(!Xe(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),o=s.compareTo(r);return o===0?$u(e.name,n.name):o}makePost(e,n){const s=Ln(e),r=ot.EMPTY_NODE.updateChild(this.indexPath_,s);return new tt(n,r)}maxPost(){const e=ot.EMPTY_NODE.updateChild(this.indexPath_,Df);return new tt(Bl,e)}toString(){return s4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH extends Ey{compare(e,n){const s=e.node.compareTo(n.node);return s===0?$u(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,n){const s=Ln(e);return new tt(n,s)}toString(){return".value"}}const GH=new HH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(t){return{type:"value",snapshotNode:t}}function KH(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function WH(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function QH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ru}hasEnd(){return this.endSet_}getIndexEndValue(){return fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new z1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function HC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===GH?n="$value":t.index_===cu?n="$key":(fe(t.index_ instanceof qH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Cn(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Cn(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Cn(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Cn(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Cn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function GC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends e4{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=If("p:rest:"),this.listens_={}}listen(e,n,s,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Ug.getListenId_(e,s),u={};this.listens_[l]=u;const d=HC(e._queryParams);this.restRequest_(o+".json",d,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(o,_,!1,s),Tu(this.listens_,l)===u){let x;m?m===401?x="permission_denied":x="rest_error:"+m:x="ok",r(x,null)}})}unlisten(e,n){const s=Ug.getListenId_(e,n);delete this.listens_[s]}get(e){const n=HC(e._queryParams),s=e._path.toString(),r=new Lx;return this.restRequest_(s+".json",n,(o,l)=>{let u=l;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(s,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fu(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(s&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=Fd(u.responseText)}catch{Cs("Failed to parse JSON response for "+l+": "+u.responseText)}s(null,d)}else u.status!==401&&u.status!==404&&Cs("Got unsuccessful REST response for "+l+" Status: "+u.status),s(u.status);s=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){return{value:null,children:new Map}}function d4(t,e,n){if(Xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=et(e);t.children.has(s)||t.children.set(s,Fg());const r=t.children.get(s);e=Et(e),d4(r,e,n)}}function Ub(t,e,n){t.value!==null?n(e,t.value):XH(t,(s,r)=>{const o=new At(e.toString()+"/"+s);Ub(r,o,n)})}function XH(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Zs(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=10*1e3,ZH=30*1e3,eG=300*1e3;class tG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JH(e);const s=$C+(ZH-$C)*Math.random();Id(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Zs(e,(r,o)=>{o>0&&na(this.statsToReport_,r)&&(n[r]=o,s=!0)}),s&&this.server_.reportStats(n),Id(this.reportStats_.bind(this),Math.floor(Math.random()*2*eG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bi||(Bi={}));function f4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function m4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function p4(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Bi.ACK_USER_WRITE,this.source=f4()}operationForChild(e){if(Xe(this.path)){if(this.affectedTree.value!=null)return fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new At(e));return new zg(gt(),n,this.revert)}}else return fe(et(this.path)===e,"operationForChild called for unrelated child."),new zg(Et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Bi.OVERWRITE}operationForChild(e){return Xe(this.path)?new ql(this.source,gt(),this.snap.getImmediateChild(e)):new ql(this.source,Et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Bi.MERGE}operationForChild(e){if(Xe(this.path)){const n=this.children.subtree(new At(e));return n.isEmpty()?null:n.value?new ql(this.source,gt(),n.value):new Zd(this.source,gt(),n)}else return fe(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zd(this.source,Et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function nG(t,e,n,s){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(QH(l.childName,l.snapshotNode))}),ld(t,r,"child_removed",e,s,n),ld(t,r,"child_added",e,s,n),ld(t,r,"child_moved",o,s,n),ld(t,r,"child_changed",e,s,n),ld(t,r,"value",e,s,n),r}function ld(t,e,n,s,r,o){const l=s.filter(u=>u.type===n);l.sort((u,d)=>iG(t,u,d)),l.forEach(u=>{const d=sG(t,u,o);r.forEach(m=>{m.respondsTo(u.type)&&e.push(m.createEvent(d,t.query_))})})}function sG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iG(t,e,n){if(e.childName==null||n.childName==null)throw Uu("Should only compare child_ events.");const s=new tt(e.childName,e.snapshotNode),r=new tt(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e){return{eventCache:t,serverCache:e}}function jd(t,e,n,s){return g4(new B1(e,n,s),t.serverCache)}function y4(t,e,n,s){return g4(t.eventCache,new B1(e,n,s))}function Fb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;const rG=()=>(x_||(x_=new hs(Gq)),x_);class Tt{static fromObject(e){let n=new Tt(null);return Zs(e,(s,r)=>{n=n.set(new At(s),r)}),n}constructor(e,n=rG()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:gt(),value:this.value};if(Xe(e))return null;{const s=et(e),r=this.children.get(s);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Et(e),n);return o!=null?{path:gn(new At(s),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xe(e))return this;{const n=et(e),s=this.children.get(n);return s!==null?s.subtree(Et(e)):new Tt(null)}}set(e,n){if(Xe(e))return new Tt(n,this.children);{const s=et(e),o=(this.children.get(s)||new Tt(null)).set(Et(e),n),l=this.children.insert(s,o);return new Tt(this.value,l)}}remove(e){if(Xe(e))return this.children.isEmpty()?new Tt(null):new Tt(null,this.children);{const n=et(e),s=this.children.get(n);if(s){const r=s.remove(Et(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Tt(null):new Tt(this.value,o)}else return this}}get(e){if(Xe(e))return this.value;{const n=et(e),s=this.children.get(n);return s?s.get(Et(e)):null}}setTree(e,n){if(Xe(e))return n;{const s=et(e),o=(this.children.get(s)||new Tt(null)).setTree(Et(e),n);let l;return o.isEmpty()?l=this.children.remove(s):l=this.children.insert(s,o),new Tt(this.value,l)}}fold(e){return this.fold_(gt(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,o)=>{s[r]=o.fold_(gn(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,gt(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(Xe(e))return null;{const o=et(e),l=this.children.get(o);return l?l.findOnPath_(Et(e),gn(n,o),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,gt(),n)}foreachOnPath_(e,n,s){if(Xe(e))return this;{this.value&&s(n,this.value);const r=et(e),o=this.children.get(r);return o?o.foreachOnPath_(Et(e),gn(n,r),s):new Tt(null)}}foreach(e){this.foreach_(gt(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(gn(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.writeTree_=e}static empty(){return new _i(new Tt(null))}}function Dd(t,e,n){if(Xe(e))return new _i(new Tt(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let o=s.value;const l=Ws(r,e);return o=o.updateChild(l,n),new _i(t.writeTree_.set(r,o))}else{const r=new Tt(n),o=t.writeTree_.setTree(e,r);return new _i(o)}}}function KC(t,e,n){let s=t;return Zs(n,(r,o)=>{s=Dd(s,gn(e,r),o)}),s}function WC(t,e){if(Xe(e))return _i.empty();{const n=t.writeTree_.setTree(e,new Tt(null));return new _i(n)}}function zb(t,e){return Zl(t,e)!=null}function Zl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ws(n.path,e)):null}function QC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(s,r)=>{e.push(new tt(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new tt(s,r.value))}),e}function yo(t,e){if(Xe(e))return t;{const n=Zl(t,e);return n!=null?new _i(new Tt(n)):new _i(t.writeTree_.subtree(e))}}function Bb(t){return t.writeTree_.isEmpty()}function Iu(t,e){return v4(gt(),t.writeTree_,e)}function v4(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(fe(o.value!==null,"Priority writes must always be leaf nodes"),s=o.value):n=v4(gn(t,r),o,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(gn(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){return E4(e,t)}function aG(t,e,n,s,r){fe(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Dd(t.visibleWrites,e,n)),t.lastWriteId=s}function oG(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function lG(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);fe(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,o=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&cG(u,s.path)?r=!1:gi(s.path,u.path)&&(o=!0)),l--}if(r){if(o)return uG(t),!0;if(s.snap)t.visibleWrites=WC(t.visibleWrites,s.path);else{const u=s.children;Zs(u,d=>{t.visibleWrites=WC(t.visibleWrites,gn(s.path,d))})}return!0}else return!1}function cG(t,e){if(t.snap)return gi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gi(gn(t.path,n),e))return!0;return!1}function uG(t){t.visibleWrites=b4(t.allWrites,hG,gt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hG(t){return t.visible}function b4(t,e,n){let s=_i.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const l=o.path;let u;if(o.snap)gi(n,l)?(u=Ws(n,l),s=Dd(s,u,o.snap)):gi(l,n)&&(u=Ws(l,n),s=Dd(s,gt(),o.snap.getChild(u)));else if(o.children){if(gi(n,l))u=Ws(n,l),s=KC(s,u,o.children);else if(gi(l,n))if(u=Ws(l,n),Xe(u))s=KC(s,gt(),o.children);else{const d=Tu(o.children,et(u));if(d){const m=d.getChild(Et(u));s=Dd(s,gt(),m)}}}else throw Uu("WriteRecord should have .snap or .children")}}return s}function x4(t,e,n,s,r){if(!s&&!r){const o=Zl(t.visibleWrites,e);if(o!=null)return o;{const l=yo(t.visibleWrites,e);if(Bb(l))return n;if(n==null&&!zb(l,gt()))return null;{const u=n||ot.EMPTY_NODE;return Iu(l,u)}}}else{const o=yo(t.visibleWrites,e);if(!r&&Bb(o))return n;if(!r&&n==null&&!zb(o,gt()))return null;{const l=function(m){return(m.visible||r)&&(!s||!~s.indexOf(m.writeId))&&(gi(m.path,e)||gi(e,m.path))},u=b4(t.allWrites,l,e),d=n||ot.EMPTY_NODE;return Iu(u,d)}}}function dG(t,e,n){let s=ot.EMPTY_NODE;const r=Zl(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Un,(o,l)=>{s=s.updateImmediateChild(o,l)}),s;if(n){const o=yo(t.visibleWrites,e);return n.forEachChild(Un,(l,u)=>{const d=Iu(yo(o,new At(l)),u);s=s.updateImmediateChild(l,d)}),QC(o).forEach(l=>{s=s.updateImmediateChild(l.name,l.node)}),s}else{const o=yo(t.visibleWrites,e);return QC(o).forEach(l=>{s=s.updateImmediateChild(l.name,l.node)}),s}}function fG(t,e,n,s,r){fe(s||r,"Either existingEventSnap or existingServerSnap must exist");const o=gn(e,n);if(zb(t.visibleWrites,o))return null;{const l=yo(t.visibleWrites,o);return Bb(l)?r.getChild(n):Iu(l,r.getChild(n))}}function mG(t,e,n,s){const r=gn(e,n),o=Zl(t.visibleWrites,r);if(o!=null)return o;if(s.isCompleteForChild(n)){const l=yo(t.visibleWrites,r);return Iu(l,s.getNode().getImmediateChild(n))}else return null}function pG(t,e){return Zl(t.visibleWrites,e)}function gG(t,e,n,s,r,o,l){let u;const d=yo(t.visibleWrites,e),m=Zl(d,gt());if(m!=null)u=m;else if(n!=null)u=Iu(d,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const y=[],_=l.getCompare(),x=o?u.getReverseIteratorFrom(s,l):u.getIteratorFrom(s,l);let E=x.getNext();for(;E&&y.length<r;)_(E,s)!==0&&y.push(E),E=x.getNext();return y}else return[]}function yG(){return{visibleWrites:_i.empty(),allWrites:[],lastWriteId:-1}}function qb(t,e,n,s){return x4(t.writeTree,t.treePath,e,n,s)}function w4(t,e){return dG(t.writeTree,t.treePath,e)}function YC(t,e,n,s){return fG(t.writeTree,t.treePath,e,n,s)}function Bg(t,e){return pG(t.writeTree,gn(t.treePath,e))}function vG(t,e,n,s,r,o){return gG(t.writeTree,t.treePath,e,n,s,r,o)}function q1(t,e,n){return mG(t.writeTree,t.treePath,e,n)}function T4(t,e){return E4(gn(t.treePath,e),t.writeTree)}function E4(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),fe(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(s,qC(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(s,WH(s,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(s,KH(s,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(s,qC(s,e.snapshotNode,r.oldSnap));else throw Uu("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const S4=new bG;class H1{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new B1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q1(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hl(this.viewCache_),o=vG(this.writes_,r,n,1,s,e);return o.length===0?null:o[0]}}function xG(t,e){fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wG(t,e,n,s,r){const o=new _G;let l,u;if(n.type===Bi.OVERWRITE){const m=n;m.source.fromUser?l=Hb(t,e,m.path,m.snap,s,r,o):(fe(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered()&&!Xe(m.path),l=qg(t,e,m.path,m.snap,s,r,u,o))}else if(n.type===Bi.MERGE){const m=n;m.source.fromUser?l=EG(t,e,m.path,m.children,s,r,o):(fe(m.source.fromServer,"Unknown source."),u=m.source.tagged||e.serverCache.isFiltered(),l=Gb(t,e,m.path,m.children,s,r,u,o))}else if(n.type===Bi.ACK_USER_WRITE){const m=n;m.revert?l=CG(t,e,m.path,s,r,o):l=SG(t,e,m.path,m.affectedTree,s,r,o)}else if(n.type===Bi.LISTEN_COMPLETE)l=AG(t,e,n.path,s,o);else throw Uu("Unknown operation type: "+n.type);const d=o.getChanges();return TG(e,l,d),{viewCache:l,changes:d}}function TG(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),o=Fb(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(o)||!s.getNode().getPriority().equals(o.getPriority()))&&n.push($H(Fb(e)))}}function A4(t,e,n,s,r,o){const l=e.eventCache;if(Bg(s,n)!=null)return e;{let u,d;if(Xe(n))if(fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Hl(e),y=m instanceof ot?m:ot.EMPTY_NODE,_=w4(s,y);u=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const m=qb(s,Hl(e));u=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const m=et(n);if(m===".priority"){fe(So(n)===1,"Can't have a priority with additional path components");const y=l.getNode();d=e.serverCache.getNode();const _=YC(s,n,y,d);_!=null?u=t.filter.updatePriority(y,_):u=l.getNode()}else{const y=Et(n);let _;if(l.isCompleteForChild(m)){d=e.serverCache.getNode();const x=YC(s,n,l.getNode(),d);x!=null?_=l.getNode().getImmediateChild(m).updateChild(y,x):_=l.getNode().getImmediateChild(m)}else _=q1(s,m,e.serverCache);_!=null?u=t.filter.updateChild(l.getNode(),m,_,y,r,o):u=l.getNode()}}return jd(e,u,l.isFullyInitialized()||Xe(n),t.filter.filtersNodes())}}function qg(t,e,n,s,r,o,l,u){const d=e.serverCache;let m;const y=l?t.filter:t.filter.getIndexedFilter();if(Xe(n))m=y.updateFullNode(d.getNode(),s,null);else if(y.filtersNodes()&&!d.isFiltered()){const E=d.getNode().updateChild(n,s);m=y.updateFullNode(d.getNode(),E,null)}else{const E=et(n);if(!d.isCompleteForPath(n)&&So(n)>1)return e;const S=Et(n),N=d.getNode().getImmediateChild(E).updateChild(S,s);E===".priority"?m=y.updatePriority(d.getNode(),N):m=y.updateChild(d.getNode(),E,N,S,S4,null)}const _=y4(e,m,d.isFullyInitialized()||Xe(n),y.filtersNodes()),x=new H1(r,_,o);return A4(t,_,n,r,x,u)}function Hb(t,e,n,s,r,o,l){const u=e.eventCache;let d,m;const y=new H1(r,e,o);if(Xe(n))m=t.filter.updateFullNode(e.eventCache.getNode(),s,l),d=jd(e,m,!0,t.filter.filtersNodes());else{const _=et(n);if(_===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),s),d=jd(e,m,u.isFullyInitialized(),u.isFiltered());else{const x=Et(n),E=u.getNode().getImmediateChild(_);let S;if(Xe(x))S=s;else{const R=y.getCompleteChild(_);R!=null?n4(x)===".priority"&&R.getChild(i4(x)).isEmpty()?S=R:S=R.updateChild(x,s):S=ot.EMPTY_NODE}if(E.equals(S))d=e;else{const R=t.filter.updateChild(u.getNode(),_,S,x,y,l);d=jd(e,R,u.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function XC(t,e){return t.eventCache.isCompleteForChild(e)}function EG(t,e,n,s,r,o,l){let u=e;return s.foreach((d,m)=>{const y=gn(n,d);XC(e,et(y))&&(u=Hb(t,u,y,m,r,o,l))}),s.foreach((d,m)=>{const y=gn(n,d);XC(e,et(y))||(u=Hb(t,u,y,m,r,o,l))}),u}function JC(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function Gb(t,e,n,s,r,o,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;Xe(n)?m=s:m=new Tt(null).setTree(n,s);const y=e.serverCache.getNode();return m.children.inorderTraversal((_,x)=>{if(y.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),S=JC(t,E,x);d=qg(t,d,new At(_),S,r,o,l,u)}}),m.children.inorderTraversal((_,x)=>{const E=!e.serverCache.isCompleteForChild(_)&&x.value===null;if(!y.hasChild(_)&&!E){const S=e.serverCache.getNode().getImmediateChild(_),R=JC(t,S,x);d=qg(t,d,new At(_),R,r,o,l,u)}}),d}function SG(t,e,n,s,r,o,l){if(Bg(r,n)!=null)return e;const u=e.serverCache.isFiltered(),d=e.serverCache;if(s.value!=null){if(Xe(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return qg(t,e,n,d.getNode().getChild(n),r,o,u,l);if(Xe(n)){let m=new Tt(null);return d.getNode().forEachChild(cu,(y,_)=>{m=m.set(new At(y),_)}),Gb(t,e,n,m,r,o,u,l)}else return e}else{let m=new Tt(null);return s.foreach((y,_)=>{const x=gn(n,y);d.isCompleteForPath(x)&&(m=m.set(y,d.getNode().getChild(x)))}),Gb(t,e,n,m,r,o,u,l)}}function AG(t,e,n,s,r){const o=e.serverCache,l=y4(e,o.getNode(),o.isFullyInitialized()||Xe(n),o.isFiltered());return A4(t,l,n,s,S4,r)}function CG(t,e,n,s,r,o){let l;if(Bg(s,n)!=null)return e;{const u=new H1(s,e,r),d=e.eventCache.getNode();let m;if(Xe(n)||et(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=qb(s,Hl(e));else{const _=e.serverCache.getNode();fe(_ instanceof ot,"serverChildren would be complete if leaf node"),y=w4(s,_)}y=y,m=t.filter.updateFullNode(d,y,o)}else{const y=et(n);let _=q1(s,y,e.serverCache);_==null&&e.serverCache.isCompleteForChild(y)&&(_=d.getImmediateChild(y)),_!=null?m=t.filter.updateChild(d,y,_,Et(n),u,o):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(d,y,ot.EMPTY_NODE,Et(n),u,o):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=qb(s,Hl(e)),l.isLeafNode()&&(m=t.filter.updateFullNode(m,l,o)))}return l=e.serverCache.isFullyInitialized()||Bg(s,gt())!=null,jd(e,m,l,t.filter.filtersNodes())}}function NG(t,e){const n=Hl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Xe(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function ZC(t,e,n,s){e.type===Bi.MERGE&&e.source.queryId!==null&&(fe(Hl(t.viewCache_),"We should always have a full cache before handling merges"),fe(Fb(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=wG(t.processor_,r,e,n,s);return xG(t.processor_,o.viewCache),fe(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,RG(t,o.changes,o.viewCache.eventCache.getNode())}function RG(t,e,n,s){const r=t.eventRegistrations_;return nG(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eN;function IG(t){fe(!eN,"__referenceConstructor has already been defined"),eN=t}function G1(t,e,n,s){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return fe(o!=null,"SyncTree gave us an op for an invalid query."),ZC(o,e,n,s)}else{let o=[];for(const l of t.views.values())o=o.concat(ZC(l,e,n,s));return o}}function $1(t,e){let n=null;for(const s of t.views.values())n=n||NG(s,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN;function jG(t){fe(!tN,"__referenceConstructor has already been defined"),tN=t}class nN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Tt(null),this.pendingWriteTree_=yG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DG(t,e,n,s,r){return aG(t.pendingWriteTree_,e,n,s,r),r?Ay(t,new ql(f4(),e,n)):[]}function Yc(t,e,n=!1){const s=oG(t.pendingWriteTree_,e);if(lG(t.pendingWriteTree_,e)){let o=new Tt(null);return s.snap!=null?o=o.set(gt(),!0):Zs(s.children,l=>{o=o.set(new At(l),!0)}),Ay(t,new zg(s.path,o,n))}else return[]}function Sy(t,e,n){return Ay(t,new ql(m4(),e,n))}function kG(t,e,n){const s=Tt.fromObject(n);return Ay(t,new Zd(m4(),e,s))}function OG(t,e,n,s){const r=I4(t,s);if(r!=null){const o=j4(r),l=o.path,u=o.queryId,d=Ws(l,e),m=new ql(p4(u),d,n);return D4(t,l,m)}else return[]}function MG(t,e,n,s){const r=I4(t,s);if(r){const o=j4(r),l=o.path,u=o.queryId,d=Ws(l,e),m=Tt.fromObject(n),y=new Zd(p4(u),d,m);return D4(t,l,y)}else return[]}function C4(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,u)=>{const d=Ws(l,e),m=$1(u,d);if(m)return m});return x4(r,e,o,n,!0)}function Ay(t,e){return N4(e,t.syncPointTree_,null,_4(t.pendingWriteTree_,gt()))}function N4(t,e,n,s){if(Xe(t.path))return R4(t,e,n,s);{const r=e.get(gt());n==null&&r!=null&&(n=$1(r,gt()));let o=[];const l=et(t.path),u=t.operationForChild(l),d=e.children.get(l);if(d&&u){const m=n?n.getImmediateChild(l):null,y=T4(s,l);o=o.concat(N4(u,d,m,y))}return r&&(o=o.concat(G1(r,t,s,n))),o}}function R4(t,e,n,s){const r=e.get(gt());n==null&&r!=null&&(n=$1(r,gt()));let o=[];return e.children.inorderTraversal((l,u)=>{const d=n?n.getImmediateChild(l):null,m=T4(s,l),y=t.operationForChild(l);y&&(o=o.concat(R4(y,u,d,m)))}),r&&(o=o.concat(G1(r,t,s,n))),o}function I4(t,e){return t.tagToQueryMap.get(e)}function j4(t){const e=t.indexOf("$");return fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new At(t.substr(0,e))}}function D4(t,e,n){const s=t.syncPointTree_.get(e);fe(s,"Missing sync point for query tag that we're tracking");const r=_4(t.pendingWriteTree_,e);return G1(s,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new K1(n)}node(){return this.node_}}class W1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=gn(this.path_,e);return new W1(this.syncTree_,n)}node(){return C4(this.syncTree_,this.path_)}}const PG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},sN=function(t,e,n){if(!t||typeof t!="object")return t;if(fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return VG(t[".sv"],e);fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:fe(!1,"Unexpected server value: "+t)}},VG=function(t,e,n){t.hasOwnProperty("increment")||fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&fe(!1,"Unexpected increment value: "+s);const r=e.node();if(fe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const l=r.getValue();return typeof l!="number"?s:l+s},UG=function(t,e,n,s){return Q1(e,new W1(n,t),s)},FG=function(t,e,n){return Q1(t,new K1(e),n)};function Q1(t,e,n){const s=t.getPriority().val(),r=sN(s,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,u=sN(l.getValue(),e,n);return u!==l.getValue()||r!==l.getPriority().val()?new fn(u,Ln(r)):t}else{const l=t;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new fn(r))),l.forEachChild(Un,(u,d)=>{const m=Q1(d,e.getImmediateChild(u),n);m!==d&&(o=o.updateImmediateChild(u,m))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function X1(t,e){let n=e instanceof At?e:new At(e),s=t,r=et(n);for(;r!==null;){const o=Tu(s.node.children,r)||{children:{},childCount:0};s=new Y1(r,s,o),n=Et(n),r=et(n)}return s}function Ku(t){return t.node.value}function k4(t,e){t.node.value=e,$b(t)}function O4(t){return t.node.childCount>0}function zG(t){return Ku(t)===void 0&&!O4(t)}function Cy(t,e){Zs(t.node.children,(n,s)=>{e(new Y1(n,t,s))})}function M4(t,e,n,s){n&&e(t),Cy(t,r=>{M4(r,e,!0)})}function BG(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function kf(t){return new At(t.parent===null?t.name:kf(t.parent)+"/"+t.name)}function $b(t){t.parent!==null&&qG(t.parent,t.name,t)}function qG(t,e,n){const s=zG(n),r=na(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,$b(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,$b(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=/[\[\].#$\/\u0000-\u001F\u007F]/,GG=/[\[\].#$\u0000-\u001F\u007F]/,w_=10*1024*1024,P4=function(t){return typeof t=="string"&&t.length!==0&&!HG.test(t)},$G=function(t){return typeof t=="string"&&t.length!==0&&!GG.test(t)},KG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$G(t)},L4=function(t,e,n){const s=n instanceof At?new AH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hl(s));if(typeof e=="function")throw new Error(t+"contains a function "+hl(s)+" with contents = "+e.toString());if(MD(e))throw new Error(t+"contains "+e.toString()+" "+hl(s));if(typeof e=="string"&&e.length>w_/3&&iy(e)>w_)throw new Error(t+"contains a string greater than "+w_+" utf8 bytes "+hl(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Zs(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!P4(l)))throw new Error(t+" contains an invalid key ("+l+") "+hl(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CH(s,l),L4(t,u,s),NH(s)}),r&&o)throw new Error(t+' contains ".value" child '+hl(s)+" in addition to actual children.")}},WG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!P4(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KG(n))throw new Error(J9(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YG(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],o=r.getPath();n!==null&&!r4(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function ec(t,e,n){YG(t,n),XG(t,s=>gi(s,e)||gi(e,s))}function XG(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const o=r.path;e(o)?(JG(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Rd&&Pn("event: "+n.toString()),jf(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="repo_interrupt",e$=25;class t${constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fg(),this.transactionQueueTree_=new Y1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function n$(t,e,n){if(t.stats_=L1(t.repoInfo_),t.forceRestClient_||Xq())t.server_=new Ug(t.repoInfo_,(s,r,o,l)=>{iN(t,s,r,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Cn(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Gr(t.repoInfo_,e,(s,r,o,l)=>{iN(t,s,r,o,l)},s=>{rN(t,s)},s=>{i$(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=nH(t.repoInfo_,()=>new tG(t.stats_,t.server_)),t.infoData_=new YH,t.infoSyncTree_=new nN({startListening:(s,r,o,l)=>{let u=[];const d=t.infoData_.getNode(s._path);return d.isEmpty()||(u=Sy(t.infoSyncTree_,s._path,d),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),J1(t,"connected",!1),t.serverSyncTree_=new nN({startListening:(s,r,o,l)=>(t.server_.listen(s,o,r,(u,d)=>{const m=l(u,d);ec(t.eventQueue_,s._path,m)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function s$(t){const n=t.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function V4(t){return PG({timestamp:s$(t)})}function iN(t,e,n,s,r){t.dataUpdateCount++;const o=new At(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(s){const d=dg(n,m=>Ln(m));l=MG(t.serverSyncTree_,o,d,r)}else{const d=Ln(n);l=OG(t.serverSyncTree_,o,d,r)}else if(s){const d=dg(n,m=>Ln(m));l=kG(t.serverSyncTree_,o,d)}else{const d=Ln(n);l=Sy(t.serverSyncTree_,o,d)}let u=o;l.length>0&&(u=ew(t,o)),ec(t.eventQueue_,u,l)}function rN(t,e){J1(t,"connected",e),e===!1&&a$(t)}function i$(t,e){Zs(e,(n,s)=>{J1(t,n,s)})}function J1(t,e,n){const s=new At("/.info/"+e),r=Ln(n);t.infoData_.updateSnapshot(s,r);const o=Sy(t.infoSyncTree_,s,r);ec(t.eventQueue_,s,o)}function r$(t){return t.nextWriteId_++}function a$(t){U4(t,"onDisconnectEvents");const e=V4(t),n=Fg();Ub(t.onDisconnect_,gt(),(r,o)=>{const l=UG(r,o,t.serverSyncTree_,e);d4(n,r,l)});let s=[];Ub(n,gt(),(r,o)=>{s=s.concat(Sy(t.serverSyncTree_,r,o));const l=u$(t,r);ew(t,l)}),t.onDisconnect_=Fg(),ec(t.eventQueue_,gt(),s)}function o$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ZG)}function U4(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pn(n,...e)}function F4(t,e,n){return C4(t.serverSyncTree_,e,n)||ot.EMPTY_NODE}function Z1(t,e=t.transactionQueueTree_){if(e||Ny(t,e),Ku(e)){const n=B4(t,e);fe(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&l$(t,kf(e),n)}else O4(e)&&Cy(e,n=>{Z1(t,n)})}function l$(t,e,n){const s=n.map(m=>m.currentWriteId),r=F4(t,e,s);let o=r;const l=r.hash();for(let m=0;m<n.length;m++){const y=n[m];fe(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=Ws(e,y.path);o=o.updateChild(_,y.currentOutputSnapshotRaw)}const u=o.val(!0),d=e;t.server_.put(d.toString(),u,m=>{U4(t,"transaction put response",{path:d.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let x=0;x<n.length;x++)n[x].status=2,y=y.concat(Yc(t.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&_.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();Ny(t,X1(t.transactionQueueTree_,e)),Z1(t,t.transactionQueueTree_),ec(t.eventQueue_,e,y);for(let x=0;x<_.length;x++)jf(_[x])}else{if(m==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Cs("transaction at "+d.toString()+" failed: "+m);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=m}ew(t,e)}},l)}function ew(t,e){const n=z4(t,e),s=kf(n),r=B4(t,n);return c$(t,r,s),s}function c$(t,e,n){if(e.length===0)return;const s=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const d=e[u],m=Ws(n,d.path);let y=!1,_;if(fe(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,_=d.abortReason,r=r.concat(Yc(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=e$)y=!0,_="maxretry",r=r.concat(Yc(t.serverSyncTree_,d.currentWriteId,!0));else{const x=F4(t,d.path,l);d.currentInputSnapshot=x;const E=e[u].update(x.val());if(E!==void 0){L4("transaction failed: Data returned ",E,d.path);let S=Ln(E);typeof E=="object"&&E!=null&&na(E,".priority")||(S=S.updatePriority(x.getPriority()));const N=d.currentWriteId,M=V4(t),H=FG(S,x,M);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=H,d.currentWriteId=r$(t),l.splice(l.indexOf(N),1),r=r.concat(DG(t.serverSyncTree_,d.path,H,d.currentWriteId,d.applyLocally)),r=r.concat(Yc(t.serverSyncTree_,N,!0))}else y=!0,_="nodata",r=r.concat(Yc(t.serverSyncTree_,d.currentWriteId,!0))}ec(t.eventQueue_,n,r),r=[],y&&(e[u].status=2,(function(x){setTimeout(x,Math.floor(0))})(e[u].unwatcher),e[u].onComplete&&(_==="nodata"?s.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):s.push(()=>e[u].onComplete(new Error(_),!1,null))))}Ny(t,t.transactionQueueTree_);for(let u=0;u<s.length;u++)jf(s[u]);Z1(t,t.transactionQueueTree_)}function z4(t,e){let n,s=t.transactionQueueTree_;for(n=et(e);n!==null&&Ku(s)===void 0;)s=X1(s,n),e=Et(e),n=et(e);return s}function B4(t,e){const n=[];return q4(t,e,n),n.sort((s,r)=>s.order-r.order),n}function q4(t,e,n){const s=Ku(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Cy(e,r=>{q4(t,r,n)})}function Ny(t,e){const n=Ku(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,k4(e,n.length>0?n:void 0)}Cy(e,s=>{Ny(t,s)})}function u$(t,e){const n=kf(z4(t,e)),s=X1(t.transactionQueueTree_,e);return BG(s,r=>{T_(t,r)}),T_(t,s),M4(s,r=>{T_(t,r)}),n}function T_(t,e){const n=Ku(e);if(n){const s=[];let r=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(fe(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(fe(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(Yc(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&s.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?k4(e,void 0):n.length=o+1,ec(t.eventQueue_,kf(e),r);for(let l=0;l<s.length;l++)jf(s[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function d$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Cs(`Invalid query segment '${n}' in query '${t}'`)}return e}const aN=function(t,e){const n=f$(t),s=n.namespace;n.domain==="firebase.com"&&Zr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Zr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qq();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KD(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new At(n.pathString)}},f$=function(t){let e="",n="",s="",r="",o="",l=!0,u="https",d=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(u=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(y,_)),y<_&&(r=h$(t.substring(y,_)));const x=d$(t.substring(Math.min(t.length,_)));m=e.indexOf(":"),m>=0?(l=u==="https"||u==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const E=e.slice(0,m);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),n=e.substring(S+1),o=s}"ns"in x&&(o=x.ns)}return{host:e,port:d,domain:n,subdomain:s,secure:l,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return Xe(this._path)?null:n4(this._path)}get ref(){return new Wu(this._repo,this._path)}get _queryIdentifier(){const e=GC(this._queryParams),n=M1(e);return n==="{}"?"default":n}get _queryObject(){return GC(this._queryParams)}isEqual(e){if(e=vn(e),!(e instanceof tw))return!1;const n=this._repo===e._repo,s=r4(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+SH(this._path)}}class Wu extends tw{constructor(e,n){super(e,n,new z1,!1)}get parent(){const e=i4(this._path);return e===null?null:new Wu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}IG(Wu);jG(Wu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="FIREBASE_DATABASE_EMULATOR_HOST",Kb={};let p$=!1;function g$(t,e,n,s){const r=e.lastIndexOf(":"),o=e.substring(0,r),l=ta(o);t.repoInfo_=new KD(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function y$(t,e,n,s,r){let o=s||t.options.databaseURL;o===void 0&&(t.options.projectId||Zr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=aN(o,r),u=l.repoInfo,d;typeof process<"u"&&AC&&(d=AC[m$]),d?(o=`http://${d}?ns=${u.namespace}`,l=aN(o,r),u=l.repoInfo):l.repoInfo.secure;const m=new Zq(t.name,t.options,e);WG("Invalid Firebase Database URL",l),Xe(l.path)||Zr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=_$(u,t,m,new Jq(t,n));return new b$(y,t)}function v$(t,e){const n=Kb[e];(!n||n[t.key]!==t)&&Zr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),o$(t),delete n[t.key]}function _$(t,e,n,s){let r=Kb[e.name];r||(r={},Kb[e.name]=r);let o=r[t.toURLString()];return o&&Zr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new t$(t,p$,n,s),r[t.toURLString()]=o,o}class b${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(n$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wu(this._repo,gt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zr("Cannot call "+e+" on a deleted database.")}}function x$(t=_f(),e){const n=sa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Px("database");s&&w$(n,...s)}return n}function w$(t,e,n,s={}){t=vn(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&Wr(s,o.repoInfo_.emulatorOptions))return;Zr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Zr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Yp(Yp.OWNER);else if(s.mockUserToken){const u=typeof s.mockUserToken=="string"?s.mockUserToken:Vx(s.mockUserToken,t.app.options.projectId);l=new Yp(u)}ta(e)&&(ny(e),sy("Database",!0)),g$(o,r,s,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){Lq(No),Xs(new Ns("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return y$(s,r,o,n)},"PUBLIC").setMultipleInstances(!0)),zn(CC,NC,t),zn(CC,NC,"esm2017")}Gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};T$();const E$={apiKey:"AIzaSyDo8hNmUoELJjkyhFX0-mJqOqgypa6EFik",authDomain:"municipality-ad620.firebaseapp.com",databaseURL:"https://municipality-ad620-default-rtdb.firebaseio.com",projectId:"municipality-ad620",storageBucket:"municipality-ad620.appspot.com",messagingSenderId:"691158126168",appId:"1:691158126168:web:71c19a942aa4405bf4442d",measurementId:"G-M4M0DZDYRY"},Of=YI(E$);F7(Of);const hi=cy(Of),E_=HB(Of);kq(Of);x$(Of);const H4=D.createContext();function Ry(){return D.useContext(H4)}function S$({children:t}){const[e,n]=D.useState(null),[s,r]=D.useState(!0),o=()=>x3(hi);D.useEffect(()=>ay(hi,d=>{n(d),r(!1)}),[]);const l={currentUser:e,logout:o};return f.jsx(H4.Provider,{value:l,children:!s&&t})}const nw=D.createContext({});function Iy(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const sw=typeof window<"u",iw=sw?D.useLayoutEffect:D.useEffect,jy=D.createContext(null);function rw(t,e){t.indexOf(e)===-1&&t.push(e)}function aw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const er=(t,e,n)=>n>e?e:n<t?t:n;let ef=()=>{};const ea={},G4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $4(t){return typeof t=="object"&&t!==null}const K4=t=>/^0[^.\s]+$/u.test(t);function ow(t){let e;return()=>(e===void 0&&(e=t()),e)}const ms=t=>t,A$=(t,e)=>n=>e(t(n)),Mf=(...t)=>t.reduce(A$),ju=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class lw{constructor(){this.subscriptions=[]}add(e){return rw(this.subscriptions,e),()=>aw(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,Qs=t=>t/1e3;function cw(t,e){return e?t*(1e3/e):0}const W4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C$=1e-7,N$=12;function R$(t,e,n,s,r){let o,l,u=0;do l=e+(n-e)/2,o=W4(l,s,r)-t,o>0?n=l:e=l;while(Math.abs(o)>C$&&++u<N$);return l}function Pf(t,e,n,s){if(t===e&&n===s)return ms;const r=o=>R$(o,0,1,t,n);return o=>o===0||o===1?o:W4(r(o),e,s)}const Q4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y4=t=>e=>1-t(1-e),X4=Pf(.33,1.53,.69,.99),uw=Y4(X4),J4=Q4(uw),Z4=t=>(t*=2)<1?.5*uw(t):.5*(2-Math.pow(2,-10*(t-1))),hw=t=>1-Math.sin(Math.acos(t)),ek=Y4(hw),tk=Q4(hw),I$=Pf(.42,0,1,1),j$=Pf(0,0,.58,1),nk=Pf(.42,0,.58,1),D$=t=>Array.isArray(t)&&typeof t[0]!="number",sk=t=>Array.isArray(t)&&typeof t[0]=="number",k$={linear:ms,easeIn:I$,easeInOut:nk,easeOut:j$,circIn:hw,circInOut:tk,circOut:ek,backIn:uw,backInOut:J4,backOut:X4,anticipate:Z4},O$=t=>typeof t=="string",oN=t=>{if(sk(t)){ef(t.length===4);const[e,n,s,r]=t;return Pf(e,n,s,r)}else if(O$(t))return k$[t];return t},Ip=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M$(t,e){let n=new Set,s=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(y){l.has(y)&&(m.schedule(y),t()),y(u)}const m={schedule:(y,_=!1,x=!1)=>{const S=x&&r?n:s;return _&&l.add(y),S.has(y)||S.add(y),y},cancel:y=>{s.delete(y),l.delete(y)},process:y=>{if(u=y,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),n.clear(),r=!1,o&&(o=!1,m.process(y))}};return m}const P$=40;function ik(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Ip.reduce((L,$)=>(L[$]=M$(o),L),{}),{setup:u,read:d,resolveKeyframes:m,preUpdate:y,update:_,preRender:x,render:E,postRender:S}=l,R=()=>{const L=ea.useManualTiming?r.timestamp:performance.now();n=!1,ea.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(L-r.timestamp,P$),1)),r.timestamp=L,r.isProcessing=!0,u.process(r),d.process(r),m.process(r),y.process(r),_.process(r),x.process(r),E.process(r),S.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(R))},N=()=>{n=!0,s=!0,r.isProcessing||t(R)};return{schedule:Ip.reduce((L,$)=>{const K=l[$];return L[$]=(Q,j=!1,C=!1)=>(n||N(),K.schedule(Q,j,C)),L},{}),cancel:L=>{for(let $=0;$<Ip.length;$++)l[Ip[$]].cancel(L)},state:r,steps:l}}const{schedule:yt,cancel:tr,state:dn,steps:S_}=ik(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let Xp;function L$(){Xp=void 0}const ds={now:()=>(Xp===void 0&&ds.set(dn.isProcessing||ea.useManualTiming?dn.timestamp:performance.now()),Xp),set:t=>{Xp=t,queueMicrotask(L$)}},rk=t=>e=>typeof e=="string"&&e.startsWith(t),dw=rk("--"),V$=rk("var(--"),fw=t=>V$(t)?U$.test(t.split("/*")[0].trim()):!1,U$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tf={...Qu,transform:t=>er(0,1,t)},jp={...Qu,default:1},kd=t=>Math.round(t*1e5)/1e5,mw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F$(t){return t==null}const z$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pw=(t,e)=>n=>!!(typeof n=="string"&&z$.test(n)&&n.startsWith(t)||e&&!F$(n)&&Object.prototype.hasOwnProperty.call(n,e)),ak=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,o,l,u]=s.match(mw);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},B$=t=>er(0,255,t),A_={...Qu,transform:t=>Math.round(B$(t))},vl={test:pw("rgb","red"),parse:ak("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+A_.transform(t)+", "+A_.transform(e)+", "+A_.transform(n)+", "+kd(tf.transform(s))+")"};function q$(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Wb={test:pw("#"),parse:q$,transform:vl.transform},Lf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wa=Lf("deg"),Yi=Lf("%"),Re=Lf("px"),H$=Lf("vh"),G$=Lf("vw"),lN={...Yi,parse:t=>Yi.parse(t)/100,transform:t=>Yi.transform(t*100)},Xc={test:pw("hsl","hue"),parse:ak("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Yi.transform(kd(e))+", "+Yi.transform(kd(n))+", "+kd(tf.transform(s))+")"},Xt={test:t=>vl.test(t)||Wb.test(t)||Xc.test(t),parse:t=>vl.test(t)?vl.parse(t):Xc.test(t)?Xc.parse(t):Wb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vl.transform(t):Xc.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},$$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mw))==null?void 0:e.length)||0)+(((n=t.match($$))==null?void 0:n.length)||0)>0}const ok="number",lk="color",W$="var",Q$="var(",cN="${}",Y$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let o=0;const u=e.replace(Y$,d=>(Xt.test(d)?(s.color.push(o),r.push(lk),n.push(Xt.parse(d))):d.startsWith(Q$)?(s.var.push(o),r.push(W$),n.push(d)):(s.number.push(o),r.push(ok),n.push(parseFloat(d))),++o,cN)).split(cN);return{values:n,split:u,indexes:s,types:r}}function ck(t){return nf(t).values}function uk(t){const{split:e,types:n}=nf(t),s=e.length;return r=>{let o="";for(let l=0;l<s;l++)if(o+=e[l],r[l]!==void 0){const u=n[l];u===ok?o+=kd(r[l]):u===lk?o+=Xt.transform(r[l]):o+=r[l]}return o}}const X$=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function J$(t){const e=ck(t);return uk(t)(e.map(X$))}const Ao={test:K$,parse:ck,createTransformer:uk,getAnimatableNone:J$};function C_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z$({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,o=0,l=0;if(!e)r=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;r=C_(d,u,t+1/3),o=C_(d,u,t),l=C_(d,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:s}}function Hg(t,e){return n=>n>0?e:t}const Dt=(t,e,n)=>t+(e-t)*n,N_=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},eK=[Wb,vl,Xc],tK=t=>eK.find(e=>e.test(t));function uN(t){const e=tK(t);if(!e)return!1;let n=e.parse(t);return e===Xc&&(n=Z$(n)),n}const hN=(t,e)=>{const n=uN(t),s=uN(e);if(!n||!s)return Hg(t,e);const r={...n};return o=>(r.red=N_(n.red,s.red,o),r.green=N_(n.green,s.green,o),r.blue=N_(n.blue,s.blue,o),r.alpha=Dt(n.alpha,s.alpha,o),vl.transform(r))},Qb=new Set(["none","hidden"]);function nK(t,e){return Qb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sK(t,e){return n=>Dt(t,e,n)}function gw(t){return typeof t=="number"?sK:typeof t=="string"?fw(t)?Hg:Xt.test(t)?hN:aK:Array.isArray(t)?hk:typeof t=="object"?Xt.test(t)?hN:iK:Hg}function hk(t,e){const n=[...t],s=n.length,r=t.map((o,l)=>gw(o)(o,e[l]));return o=>{for(let l=0;l<s;l++)n[l]=r[l](o);return n}}function iK(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=gw(t[r])(t[r],e[r]));return r=>{for(const o in s)n[o]=s[o](r);return n}}function rK(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],l=t.indexes[o][s[o]],u=t.values[l]??0;n[r]=u,s[o]++}return n}const aK=(t,e)=>{const n=Ao.createTransformer(e),s=nf(t),r=nf(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Qb.has(t)&&!r.values.length||Qb.has(e)&&!s.values.length?nK(t,e):Mf(hk(rK(s,r),r.values),n):Hg(t,e)};function dk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Dt(t,e,n):gw(t)(t,e)}const oK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>yt.update(e,n),stop:()=>tr(e),now:()=>dn.isProcessing?dn.timestamp:ds.now()}},fk=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)s+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Gg=2e4;function yw(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Gg;)e+=n,s=t.next(e);return e>=Gg?1/0:e}function lK(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(yw(s),Gg);return{type:"keyframes",ease:o=>s.next(r*o).value/e,duration:Qs(r)}}const cK=5;function mk(t,e,n){const s=Math.max(e-cK,0);return cw(n-t(s),e-s)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},R_=.001;function uK({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:s=Vt.mass}){let r,o,l=1-e;l=er(Vt.minDamping,Vt.maxDamping,l),t=er(Vt.minDuration,Vt.maxDuration,Qs(t)),l<1?(r=m=>{const y=m*l,_=y*t,x=y-n,E=Yb(m,l),S=Math.exp(-_);return R_-x/E*S},o=m=>{const _=m*l*t,x=_*n+n,E=Math.pow(l,2)*Math.pow(m,2)*t,S=Math.exp(-_),R=Yb(Math.pow(m,2),l);return(-r(m)+R_>0?-1:1)*((x-E)*S)/R}):(r=m=>{const y=Math.exp(-m*t),_=(m-n)*t+1;return-R_+y*_},o=m=>{const y=Math.exp(-m*t),_=(n-m)*(t*t);return y*_});const u=5/t,d=dK(r,o,u);if(t=Qi(t),isNaN(d))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:l*2*Math.sqrt(s*m),duration:t}}}const hK=12;function dK(t,e,n){let s=n;for(let r=1;r<hK;r++)s=s-t(s)/e(s);return s}function Yb(t,e){return t*Math.sqrt(1-e*e)}const fK=["duration","bounce"],mK=["stiffness","damping","mass"];function dN(t,e){return e.some(n=>t[n]!==void 0)}function pK(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!dN(t,mK)&&dN(t,fK))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,o=2*er(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Vt.mass,stiffness:r,damping:o}}else{const n=uK(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function $g(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:_,velocity:x,isResolvedFromDuration:E}=pK({...n,velocity:-Qs(n.velocity||0)}),S=x||0,R=m/(2*Math.sqrt(d*y)),N=l-o,M=Qs(Math.sqrt(d/y)),H=Math.abs(N)<5;s||(s=H?Vt.restSpeed.granular:Vt.restSpeed.default),r||(r=H?Vt.restDelta.granular:Vt.restDelta.default);let L;if(R<1){const K=Yb(M,R);L=Q=>{const j=Math.exp(-R*M*Q);return l-j*((S+R*M*N)/K*Math.sin(K*Q)+N*Math.cos(K*Q))}}else if(R===1)L=K=>l-Math.exp(-M*K)*(N+(S+M*N)*K);else{const K=M*Math.sqrt(R*R-1);L=Q=>{const j=Math.exp(-R*M*Q),C=Math.min(K*Q,300);return l-j*((S+R*M*N)*Math.sinh(C)+K*N*Math.cosh(C))/K}}const $={calculatedDuration:E&&_||null,next:K=>{const Q=L(K);if(E)u.done=K>=_;else{let j=K===0?S:0;R<1&&(j=K===0?Qi(S):mk(L,K,Q));const C=Math.abs(j)<=s,k=Math.abs(l-Q)<=r;u.done=C&&k}return u.value=u.done?l:Q,u},toString:()=>{const K=Math.min(yw($),Gg),Q=fk(j=>$.next(K*j).value,K,30);return K+"ms "+Q},toTransition:()=>{}};return $}$g.applyToOptions=t=>{const e=lK(t,100,$g);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function Xb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:m=.5,restSpeed:y}){const _=t[0],x={done:!1,value:_},E=C=>u!==void 0&&C<u||d!==void 0&&C>d,S=C=>u===void 0?d:d===void 0||Math.abs(u-C)<Math.abs(d-C)?u:d;let R=n*e;const N=_+R,M=l===void 0?N:l(N);M!==N&&(R=M-_);const H=C=>-R*Math.exp(-C/s),L=C=>M+H(C),$=C=>{const k=H(C),O=L(C);x.done=Math.abs(k)<=m,x.value=x.done?M:O};let K,Q;const j=C=>{E(x.value)&&(K=C,Q=$g({keyframes:[x.value,S(x.value)],velocity:mk(L,C,x.value),damping:r,stiffness:o,restDelta:m,restSpeed:y}))};return j(0),{calculatedDuration:null,next:C=>{let k=!1;return!Q&&K===void 0&&(k=!0,$(C),j(C)),K!==void 0&&C>=K?Q.next(C-K):(!k&&$(C),x)}}}function gK(t,e,n){const s=[],r=n||ea.mix||dk,o=t.length-1;for(let l=0;l<o;l++){let u=r(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ms:e;u=Mf(d,u)}s.push(u)}return s}function pk(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const o=t.length;if(ef(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=gK(e,s,r),d=u.length,m=y=>{if(l&&y<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const x=ju(t[_],t[_+1],y);return u[_](x)};return n?y=>m(er(t[0],t[o-1],y)):m}function yK(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=ju(0,e,s);t.push(Dt(n,1,r))}}function gk(t){const e=[0];return yK(e,t.length-1),e}function vK(t,e){return t.map(n=>n*e)}function _K(t,e){return t.map(()=>e||nk).splice(0,t.length-1)}function Od({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=D$(s)?s.map(oN):oN(s),o={done:!1,value:e[0]},l=vK(n&&n.length===e.length?n:gk(e),t),u=pk(l,e,{ease:Array.isArray(r)?r:_K(e,r)});return{calculatedDuration:t,next:d=>(o.value=u(d),o.done=d>=t,o)}}const bK=t=>t!==null;function vw(t,{repeat:e,repeatType:n="loop"},s,r=1){const o=t.filter(bK),u=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const xK={decay:Xb,inertia:Xb,tween:Od,keyframes:Od,spring:$g};function yk(t){typeof t.type=="string"&&(t.type=xK[t.type])}class _w{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const wK=t=>t/100;class bw extends _w{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==ds.now()&&this.tick(ds.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yk(e);const{type:n=Od,repeat:s=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const d=n||Od;d!==Od&&typeof u[0]!="number"&&(this.mixKeyframes=Mf(wK,dk(u[0],u[1])),u=[0,100]);const m=d({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=yw(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:x,repeatDelay:E,type:S,onUpdate:R,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let L=this.currentTime,$=s;if(_){const C=Math.min(this.currentTime,r)/u;let k=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&k--,k=Math.min(k,_+1),!!(k%2)&&(x==="reverse"?(O=1-O,E&&(O-=E/u)):x==="mirror"&&($=l)),L=er(0,1,O)*u}const K=H?{done:!1,value:y[0]}:$.next(L);o&&(K.value=o(K.value));let{done:Q}=K;!H&&d!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return j&&S!==Xb&&(K.value=vw(y,this.options,N,this.speed)),R&&R(K.value),j&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Qs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qs(e)}get time(){return Qs(this.currentTime)}set time(e){var n;e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ds.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qs(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:e=oK,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(o=(r=this.options).onPlay)==null||o.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ds.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function TK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _l=t=>t*180/Math.PI,Jb=t=>{const e=_l(Math.atan2(t[1],t[0]));return Zb(e)},EK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Jb,rotateZ:Jb,skewX:t=>_l(Math.atan(t[1])),skewY:t=>_l(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zb=t=>(t=t%360,t<0&&(t+=360),t),fN=Jb,mN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mN,scaleY:pN,scale:t=>(mN(t)+pN(t))/2,rotateX:t=>Zb(_l(Math.atan2(t[6],t[5]))),rotateY:t=>Zb(_l(Math.atan2(-t[2],t[0]))),rotateZ:fN,rotate:fN,skewX:t=>_l(Math.atan(t[4])),skewY:t=>_l(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ex(t){return t.includes("scale")?1:0}function tx(t,e){if(!t||t==="none")return ex(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=SK,r=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=EK,r=u}if(!r)return ex(e);const o=s[e],l=r[1].split(",").map(CK);return typeof o=="function"?o(l):l[o]}const AK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tx(n,e)};function CK(t){return parseFloat(t.trim())}const Yu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xu=new Set(Yu),gN=t=>t===Qu||t===Re,NK=new Set(["x","y","z"]),RK=Yu.filter(t=>!NK.has(t));function IK(t){const e=[];return RK.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const jl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tx(e,"x"),y:(t,{transform:e})=>tx(e,"y")};jl.translateX=jl.x;jl.translateY=jl.y;const Dl=new Set;let nx=!1,sx=!1,ix=!1;function vk(){if(sx){const t=Array.from(Dl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=IK(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([o,l])=>{var u;(u=s.getValue(o))==null||u.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}sx=!1,nx=!1,Dl.forEach(t=>t.complete(ix)),Dl.clear()}function _k(){Dl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sx=!0)})}function jK(){ix=!0,_k(),vk(),ix=!1}class xw{constructor(e,n,s,r,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Dl.add(this),nx||(nx=!0,yt.read(_k),yt.resolveKeyframes(vk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const u=s.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),r&&o===void 0&&r.set(e[0])}TK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dl.delete(this)}cancel(){this.state==="scheduled"&&(Dl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DK=t=>t.startsWith("--");function kK(t,e,n){DK(e)?t.style.setProperty(e,n):t.style[e]=n}const bk=ow(()=>window.ScrollTimeline!==void 0),OK={};function MK(t,e){const n=ow(t);return()=>OK[e]??n()}const xk=MK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,yN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bd([0,.65,.55,1]),circOut:bd([.55,0,1,.45]),backIn:bd([.31,.01,.66,-.59]),backOut:bd([.33,1.53,.69,.99])};function wk(t,e){if(t)return typeof t=="function"?xk()?fk(t,e):"ease-out":sk(t)?bd(t):Array.isArray(t)?t.map(n=>wk(n,e)||yN.easeOut):yN[t]}function PK(t,e,n,{delay:s=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:d}={},m=void 0){const y={[e]:n};d&&(y.offset=d);const _=wk(u,r);Array.isArray(_)&&(y.easing=_);const x={delay:s,duration:r,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(y,x)}function Tk(t){return typeof t=="function"&&"applyToOptions"in t}function LK({type:t,...e}){return Tk(t)&&xk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VK extends _w{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ef(typeof e.type!="string");const m=LK(e);this.animation=PK(n,s,r,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=vw(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(y):kK(n,s,y),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Qs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qs(e)}get time(){return Qs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&bk()?(this.animation.timeline=e,ms):n(this)}}const Ek={anticipate:Z4,backInOut:J4,circInOut:tk};function UK(t){return t in Ek}function FK(t){typeof t.ease=="string"&&UK(t.ease)&&(t.ease=Ek[t.ease])}const vN=10;class zK extends VK{constructor(e){FK(e),yk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new bw({...l,autoplay:!1}),d=Qi(this.finishedTime??this.time);n.setWithVelocity(u.sample(d-vN).value,u.sample(d).value,vN),u.stop()}}const _N=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ao.test(t)||t==="0")&&!t.startsWith("url("));function BK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qK(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=_N(r,e),u=_N(o,e);return!l||!u?!1:BK(t)||(n==="spring"||Tk(n))&&s}function rx(t){t.duration=0,t.type="keyframes"}const HK=new Set(["opacity","clipPath","filter","transform"]),GK=ow(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $K(t){var y;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:o,type:l}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return GK()&&n&&HK.has(n)&&(n!=="transform"||!m)&&!d&&!s&&r!=="mirror"&&o!==0&&l!=="inertia"}const KK=40;class WK extends _w{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:d,motionValue:m,element:y,..._}){var S;super(),this.stop=()=>{var R,N;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=ds.now();const x={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:o,repeatType:l,name:d,motionValue:m,element:y,..._},E=(y==null?void 0:y.KeyframeResolver)||xw;this.keyframeResolver=new E(u,(R,N,M)=>this.onKeyframesResolved(R,N,x,!M),d,m,y),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:d,isHandoff:m,onUpdate:y}=s;this.resolvedAt=ds.now(),qK(e,o,l,u)||((ea.instantAnimations||!d)&&(y==null||y(vw(e,s,n))),e[0]=e[e.length-1],rx(s),s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>KK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},E=!m&&$K(x)?new zK({...x,element:x.motionValue.owner.current}):new bw(x);E.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const QK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YK(t){const e=QK.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function Sk(t,e,n=1){const[s,r]=YK(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const l=o.trim();return G4(l)?parseFloat(l):l}return fw(r)?Sk(r,e,n+1):r}function ww(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ak=new Set(["width","height","top","left","right","bottom",...Yu]),XK={test:t=>t==="auto",parse:t=>t},Ck=t=>e=>e.test(t),Nk=[Qu,Re,Yi,Wa,G$,H$,XK],bN=t=>Nk.find(Ck(t));function JK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||K4(t):!0}const ZK=new Set(["brightness","contrast","saturate","opacity"]);function eW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(mw)||[];if(!s)return t;const r=n.replace(s,"");let o=ZK.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+r+")"}const tW=/\b([a-z-]*)\(.*?\)/gu,ax={...Ao,getAnimatableNone:t=>{const e=t.match(tW);return e?e.map(eW).join(" "):t}},xN={...Qu,transform:Math.round},nW={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:jp,scaleX:jp,scaleY:jp,scaleZ:jp,skew:Wa,skewX:Wa,skewY:Wa,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:tf,originX:lN,originY:lN,originZ:Re},Tw={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...nW,zIndex:xN,fillOpacity:tf,strokeOpacity:tf,numOctaves:xN},sW={...Tw,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:ax,WebkitFilter:ax},Rk=t=>sW[t];function Ik(t,e){let n=Rk(t);return n!==ax&&(n=Ao),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iW=new Set(["auto","none","0"]);function rW(t,e,n){let s=0,r;for(;s<t.length&&!r;){const o=t[s];typeof o=="string"&&!iW.has(o)&&nf(o).values.length&&(r=t[s]),s++}if(r&&n)for(const o of e)t[o]=Ik(n,r)}class aW extends xw{constructor(e,n,s,r,o){super(e,n,s,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),fw(m))){const y=Sk(m,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Ak.has(s)||e.length!==2)return;const[r,o]=e,l=bN(r),u=bN(o);if(l!==u)if(gN(l)&&gN(u))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else jl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||JK(e[r]))&&s.push(r);s.length&&rW(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=jl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function jk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Dk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ew(t){return $4(t)&&"offsetHeight"in t}const wN=30,oW=t=>!isNaN(parseFloat(t));class lW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const r=ds.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lw);const s=this.events[e].add(n);return e==="change"?()=>{s(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wN);return cw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qi(t,e){return new lW(t,e)}const{schedule:Sw}=ik(queueMicrotask,!1),li={x:!1,y:!1};function kk(){return li.x||li.y}function cW(t){return t==="x"||t==="y"?li[t]?null:(li[t]=!0,()=>{li[t]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function Ok(t,e){const n=jk(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function TN(t){return!(t.pointerType==="touch"||kk())}function uW(t,e,n={}){const[s,r,o]=Ok(t,n),l=u=>{if(!TN(u))return;const{target:d}=u,m=e(d,u);if(typeof m!="function"||!d)return;const y=_=>{TN(_)&&(m(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,r)};return s.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const Mk=(t,e)=>e?t===e?!0:Mk(t,e.parentElement):!1,Aw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dW(t){return hW.has(t.tagName)||t.tabIndex!==-1}const Jp=new WeakSet;function EN(t){return e=>{e.key==="Enter"&&t(e)}}function I_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fW=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=EN(()=>{if(Jp.has(n))return;I_(n,"down");const r=EN(()=>{I_(n,"up")}),o=()=>I_(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function SN(t){return Aw(t)&&!kk()}function mW(t,e,n={}){const[s,r,o]=Ok(t,n),l=u=>{const d=u.currentTarget;if(!SN(u))return;Jp.add(d);const m=e(d,u),y=(E,S)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",x),Jp.has(d)&&Jp.delete(d),SN(E)&&typeof m=="function"&&m(E,{success:S})},_=E=>{y(E,d===window||d===document||n.useGlobalTarget||Mk(d,E.target))},x=E=>{y(E,!1)};window.addEventListener("pointerup",_,r),window.addEventListener("pointercancel",x,r)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),Ew(u)&&(u.addEventListener("focus",m=>fW(m,r)),!dW(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function Cw(t){return $4(t)&&"ownerSVGElement"in t}const Zp=new WeakMap;let Qa;const Pk=(t,e,n)=>(s,r)=>r&&r[0]?r[0][t+"Size"]:Cw(s)&&"getBBox"in s?s.getBBox()[e]:s[n],pW=Pk("inline","width","offsetWidth"),gW=Pk("block","height","offsetHeight");function yW({target:t,borderBoxSize:e}){var n;(n=Zp.get(t))==null||n.forEach(s=>{s(t,{get width(){return pW(t,e)},get height(){return gW(t,e)}})})}function vW(t){t.forEach(yW)}function _W(){typeof ResizeObserver>"u"||(Qa=new ResizeObserver(vW))}function bW(t,e){Qa||_W();const n=jk(t);return n.forEach(s=>{let r=Zp.get(s);r||(r=new Set,Zp.set(s,r)),r.add(e),Qa==null||Qa.observe(s)}),()=>{n.forEach(s=>{const r=Zp.get(s);r==null||r.delete(e),r!=null&&r.size||Qa==null||Qa.unobserve(s)})}}const eg=new Set;let Jc;function xW(){Jc=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};eg.forEach(e=>e(t))},window.addEventListener("resize",Jc)}function wW(t){return eg.add(t),Jc||xW(),()=>{eg.delete(t),!eg.size&&typeof Jc=="function"&&(window.removeEventListener("resize",Jc),Jc=void 0)}}function TW(t,e){return typeof t=="function"?wW(t):bW(t,e)}function Lk(t,e){let n;const s=()=>{const{currentTime:r}=e,l=(r===null?0:r.value)/100;n!==l&&t(l),n=l};return yt.preUpdate(s,!0),()=>tr(s)}function EW(t){return Cw(t)&&t.tagName==="svg"}const Fn=t=>!!(t&&t.getVelocity),SW=[...Nk,Xt,Ao],AW=t=>SW.find(Ck(t)),Nw=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CW(...t){return e=>{let n=!1;const s=t.map(r=>{const o=AN(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():AN(t[r],null)}}}}function NW(...t){return D.useCallback(CW(...t),t)}class RW extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=Ew(s)&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IW({children:t,isPresent:e,anchorX:n,root:s}){const r=D.useId(),o=D.useRef(null),l=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=D.useContext(Nw),d=NW(o,t==null?void 0:t.ref);return D.useInsertionEffect(()=>{const{width:m,height:y,top:_,left:x,right:E}=l.current;if(e||!o.current||!m||!y)return;const S=n==="left"?`left: ${x}`:`right: ${E}`;o.current.dataset.motionPopId=r;const R=document.createElement("style");u&&(R.nonce=u);const N=s??document.head;return N.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${S}px !important;
            top: ${_}px !important;
          }
        `),()=>{N.contains(R)&&N.removeChild(R)}},[e]),f.jsx(RW,{isPresent:e,childRef:o,sizeRef:l,children:D.cloneElement(t,{ref:d})})}const jW=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:o,mode:l,anchorX:u,root:d})=>{const m=Iy(DW),y=D.useId();let _=!0,x=D.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:r,onExitComplete:E=>{m.set(E,!0);for(const S of m.values())if(!S)return;s&&s()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,s]);return o&&_&&(x={...x}),D.useMemo(()=>{m.forEach((E,S)=>m.set(S,!1))},[n]),D.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),l==="popLayout"&&(t=f.jsx(IW,{isPresent:n,anchorX:u,root:d,children:t})),f.jsx(jy.Provider,{value:x,children:t})};function DW(){return new Map}function Vk(t=!0){const e=D.useContext(jy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,o=D.useId();D.useEffect(()=>{if(t)return r(o)},[t]);const l=D.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,l]:[!0]}const Dp=t=>t.key||"";function CN(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Gl=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:d})=>{const[m,y]=Vk(l),_=D.useMemo(()=>CN(t),[t]),x=l&&!m?[]:_.map(Dp),E=D.useRef(!0),S=D.useRef(_),R=Iy(()=>new Map),[N,M]=D.useState(_),[H,L]=D.useState(_);iw(()=>{E.current=!1,S.current=_;for(let Q=0;Q<H.length;Q++){const j=Dp(H[Q]);x.includes(j)?R.delete(j):R.get(j)!==!0&&R.set(j,!1)}},[H,x.length,x.join("-")]);const $=[];if(_!==N){let Q=[..._];for(let j=0;j<H.length;j++){const C=H[j],k=Dp(C);x.includes(k)||(Q.splice(j,0,C),$.push(C))}return o==="wait"&&$.length&&(Q=$),L(CN(Q)),M(_),null}const{forceRender:K}=D.useContext(nw);return f.jsx(f.Fragment,{children:H.map(Q=>{const j=Dp(Q),C=l&&!m?!1:_===H||x.includes(j),k=()=>{if(R.has(j))R.set(j,!0);else return;let O=!0;R.forEach(U=>{U||(O=!1)}),O&&(K==null||K(),L(S.current),l&&(y==null||y()),s&&s())};return f.jsx(jW,{isPresent:C,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:d,onExitComplete:C?void 0:k,anchorX:u,children:Q},j)})})},Uk=D.createContext({strict:!1}),NN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const t in NN)Du[t]={isEnabled:e=>NN[t].some(n=>!!e[n])};function kW(t){for(const e in t)Du[e]={...Du[e],...t[e]}}const OW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OW.has(t)}let Fk=t=>!Kg(t);function MW(t){typeof t=="function"&&(Fk=e=>e.startsWith("on")?!Kg(e):t(e))}try{MW(require("@emotion/is-prop-valid").default)}catch{}function PW(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Fk(r)||n===!0&&Kg(r)||!e&&!Kg(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const Dy=D.createContext({});function ky(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sf(t){return typeof t=="string"||Array.isArray(t)}const Rw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iw=["initial",...Rw];function Oy(t){return ky(t.animate)||Iw.some(e=>sf(t[e]))}function zk(t){return!!(Oy(t)||t.variants)}function LW(t,e){if(Oy(t)){const{initial:n,animate:s}=t;return{initial:n===!1||sf(n)?n:void 0,animate:sf(s)?s:void 0}}return t.inherit!==!1?e:{}}function VW(t){const{initial:e,animate:n}=LW(t,D.useContext(Dy));return D.useMemo(()=>({initial:e,animate:n}),[RN(e),RN(n)])}function RN(t){return Array.isArray(t)?t.join(" "):t}const rf={};function UW(t){for(const e in t)rf[e]=t[e],dw(e)&&(rf[e].isCSSVariable=!0)}function Bk(t,{layout:e,layoutId:n}){return Xu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rf[t]||t==="opacity")}const FW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zW=Yu.length;function BW(t,e,n){let s="",r=!0;for(let o=0;o<zW;o++){const l=Yu[o],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const m=Dk(u,Tw[l]);if(!d){r=!1;const y=FW[l]||l;s+=`${y}(${m}) `}n&&(e[l]=m)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function jw(t,e,n){const{style:s,vars:r,transformOrigin:o}=t;let l=!1,u=!1;for(const d in e){const m=e[d];if(Xu.has(d)){l=!0;continue}else if(dw(d)){r[d]=m;continue}else{const y=Dk(m,Tw[d]);d.startsWith("origin")?(u=!0,o[d]=y):s[d]=y}}if(e.transform||(l||n?s.transform=BW(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;s.transformOrigin=`${d} ${m} ${y}`}}const Dw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qk(t,e,n){for(const s in e)!Fn(e[s])&&!Bk(s,n)&&(t[s]=e[s])}function qW({transformTemplate:t},e){return D.useMemo(()=>{const n=Dw();return jw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HW(t,e){const n=t.style||{},s={};return qk(s,n,t),Object.assign(s,qW(t,e)),s}function GW(t,e){const n={},s=HW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const $W={offset:"stroke-dashoffset",array:"stroke-dasharray"},KW={offset:"strokeDashoffset",array:"strokeDasharray"};function WW(t,e,n=1,s=0,r=!0){t.pathLength=1;const o=r?$W:KW;t[o.offset]=Re.transform(-s);const l=Re.transform(e),u=Re.transform(n);t[o.array]=`${l} ${u}`}function Hk(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...u},d,m,y){if(jw(t,u,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:x}=t;_.transform&&(x.transform=_.transform,delete _.transform),(x.transform||_.transformOrigin)&&(x.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),x.transform&&(x.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),r!==void 0&&WW(_,r,o,l,!1)}const Gk=()=>({...Dw(),attrs:{}}),$k=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QW(t,e,n,s){const r=D.useMemo(()=>{const o=Gk();return Hk(o,e,$k(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};qk(o,t.style,t),r.style={...o,...r.style}}return r}const YW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kw(t){return typeof t!="string"||t.includes("-")?!1:!!(YW.indexOf(t)>-1||/[A-Z]/u.test(t))}function XW(t,e,n,{latestValues:s},r,o=!1){const u=(kw(t)?QW:GW)(e,s,r,t),d=PW(e,typeof t=="string",o),m=t!==D.Fragment?{...d,...u,ref:n}:{},{children:y}=e,_=D.useMemo(()=>Fn(y)?y.get():y,[y]);return D.createElement(t,{...m,children:_})}function IN(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ow(t,e,n,s){if(typeof e=="function"){const[r,o]=IN(s);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=IN(s);e=e(n!==void 0?n:t.custom,r,o)}return e}function tg(t){return Fn(t)?t.get():t}function JW({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:ZW(n,s,r,t),renderState:e()}}function ZW(t,e,n,s){const r={},o=s(t,{});for(const x in o)r[x]=tg(o[x]);let{initial:l,animate:u}=t;const d=Oy(t),m=zk(t);e&&m&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?u:l;if(_&&typeof _!="boolean"&&!ky(_)){const x=Array.isArray(_)?_:[_];for(let E=0;E<x.length;E++){const S=Ow(t,x[E]);if(S){const{transitionEnd:R,transition:N,...M}=S;for(const H in M){let L=M[H];if(Array.isArray(L)){const $=y?L.length-1:0;L=L[$]}L!==null&&(r[H]=L)}for(const H in R)r[H]=R[H]}}}return r}const Kk=t=>(e,n)=>{const s=D.useContext(Dy),r=D.useContext(jy),o=()=>JW(t,e,s,r);return n?o():Iy(o)};function Mw(t,e,n){var o;const{style:s}=t,r={};for(const l in s)(Fn(s[l])||e.style&&Fn(e.style[l])||Bk(l,t)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(r[l]=s[l]);return r}const eQ=Kk({scrapeMotionValuesFromProps:Mw,createRenderState:Dw});function Wk(t,e,n){const s=Mw(t,e,n);for(const r in t)if(Fn(t[r])||Fn(e[r])){const o=Yu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[o]=t[r]}return s}const tQ=Kk({scrapeMotionValuesFromProps:Wk,createRenderState:Gk}),nQ=Symbol.for("motionComponentSymbol");function Zc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sQ(t,e,n){return D.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Zc(n)&&(n.current=s))},[e])}const Pw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iQ="framerAppearId",Qk="data-"+Pw(iQ),Yk=D.createContext({});function rQ(t,e,n,s,r){var R,N;const{visualElement:o}=D.useContext(Dy),l=D.useContext(Uk),u=D.useContext(jy),d=D.useContext(Nw).reducedMotion,m=D.useRef(null);s=s||l.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const y=m.current,_=D.useContext(Yk);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&aQ(m.current,n,r,_);const x=D.useRef(!1);D.useInsertionEffect(()=>{y&&x.current&&y.update(n,u)});const E=n[Qk],S=D.useRef(!!E&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,E))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,E)));return iw(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),S.current&&y.animationState&&y.animationState.animateChanges())}),D.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,E)}),S.current=!1),y.enteringChildren=void 0)}),y}function aQ(t,e,n,s){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Xk(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Zc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:m})}function Xk(t){if(t)return t.options.allowProjection!==!1?t.projection:Xk(t.parent)}function j_(t,{forwardMotionProps:e=!1}={},n,s){n&&kW(n);const r=kw(t)?tQ:eQ;function o(u,d){let m;const y={...D.useContext(Nw),...u,layoutId:oQ(u)},{isStatic:_}=y,x=VW(u),E=r(u,_);if(!_&&sw){lQ();const S=cQ(y);m=S.MeasureLayout,x.visualElement=rQ(t,E,y,s,S.ProjectionNode)}return f.jsxs(Dy.Provider,{value:x,children:[m&&x.visualElement?f.jsx(m,{visualElement:x.visualElement,...y}):null,XW(t,u,sQ(E,x.visualElement,d),E,_,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=D.forwardRef(o);return l[nQ]=t,l}function oQ({layoutId:t}){const e=D.useContext(nw).id;return e&&t!==void 0?e+"-"+t:t}function lQ(t,e){D.useContext(Uk).strict}function cQ(t){const{drag:e,layout:n}=Du;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function uQ(t,e){if(typeof Proxy>"u")return j_;const n=new Map,s=(o,l)=>j_(o,l,t,e),r=(o,l)=>s(o,l);return new Proxy(r,{get:(o,l)=>l==="create"?s:(n.has(l)||n.set(l,j_(l,void 0,t,e)),n.get(l))})}function Jk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function hQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function D_(t){return t===void 0||t===1}function ox({scale:t,scaleX:e,scaleY:n}){return!D_(t)||!D_(e)||!D_(n)}function dl(t){return ox(t)||Zk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zk(t){return jN(t.x)||jN(t.y)}function jN(t){return t&&t!=="0%"}function Wg(t,e,n){const s=t-n,r=e*s;return n+r}function DN(t,e,n,s,r){return r!==void 0&&(t=Wg(t,r,s)),Wg(t,n,s)+e}function lx(t,e=0,n=1,s,r){t.min=DN(t.min,e,n,s,r),t.max=DN(t.max,e,n,s,r)}function eO(t,{x:e,y:n}){lx(t.x,e.translate,e.scale,e.originPoint),lx(t.y,n.translate,n.scale,n.originPoint)}const kN=.999999999999,ON=1.0000000000001;function fQ(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,l;for(let u=0;u<r;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,eO(t,l)),s&&dl(o.latestValues)&&tu(t,o.latestValues))}e.x<ON&&e.x>kN&&(e.x=1),e.y<ON&&e.y>kN&&(e.y=1)}function eu(t,e){t.min=t.min+e,t.max=t.max+e}function MN(t,e,n,s,r=.5){const o=Dt(t.min,t.max,r);lx(t,e,n,o,s)}function tu(t,e){MN(t.x,e.x,e.scaleX,e.scale,e.originX),MN(t.y,e.y,e.scaleY,e.scale,e.originY)}function tO(t,e){return Jk(dQ(t.getBoundingClientRect(),e))}function mQ(t,e,n){const s=tO(t,n),{scroll:r}=e;return r&&(eu(s.x,r.offset.x),eu(s.y,r.offset.y)),s}const PN=()=>({translate:0,scale:1,origin:0,originPoint:0}),nu=()=>({x:PN(),y:PN()}),LN=()=>({min:0,max:0}),Bt=()=>({x:LN(),y:LN()}),cx={current:null},nO={current:!1};function pQ(){if(nO.current=!0,!!sw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cx.current=t.matches;t.addEventListener("change",e),e()}else cx.current=!1}const gQ=new WeakMap;function yQ(t,e,n){for(const s in e){const r=e[s],o=n[s];if(Fn(r))t.addValue(s,r);else if(Fn(o))t.addValue(s,qi(r,{owner:t}));else if(o!==r)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(s);t.addValue(s,qi(l!==void 0?l:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const VN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vQ{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ds.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,yt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Oy(n),this.isVariantNode=zk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in _){const E=_[x];d[x]!==void 0&&Fn(E)&&E.set(d[x])}}mount(e){var n;this.current=e,gQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),nO.current||pQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),tr(this.notifyUpdate),tr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Xu.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&yt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Du){const n=Du[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<VN.length;s++){const r=VN[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=yQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=qi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(G4(s)||K4(s))?s=parseFloat(s):!AW(s)&&Ao.test(n)&&(s=Ik(e,n)),this.setBaseTarget(e,Fn(s)?s.get():s)),Fn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Ow(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Fn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sw.render(this.render)}}class sO extends vQ{constructor(){super(...arguments),this.KeyframeResolver=aW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iO(t,{style:e,vars:n},s,r){const o=t.style;let l;for(l in e)o[l]=e[l];r==null||r.applyProjectionStyles(o,s);for(l in n)o.setProperty(l,n[l])}function _Q(t){return window.getComputedStyle(t)}class bQ extends sO{constructor(){super(...arguments),this.type="html",this.renderInstance=iO}readValueFromInstance(e,n){var s;if(Xu.has(n))return(s=this.projection)!=null&&s.isProjecting?ex(n):AK(e,n);{const r=_Q(e),o=(dw(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tO(e,n)}build(e,n,s){jw(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Mw(e,n,s)}}const rO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xQ(t,e,n,s){iO(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(rO.has(r)?r:Pw(r),e.attrs[r])}class wQ extends sO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xu.has(n)){const s=Rk(n);return s&&s.default||0}return n=rO.has(n)?n:Pw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Wk(e,n,s)}build(e,n,s){Hk(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){xQ(e,n,s,r)}mount(e){this.isSVGTag=$k(e.tagName),super.mount(e)}}const TQ=(t,e)=>kw(t)?new wQ(e):new bQ(e,{allowProjection:t!==D.Fragment});function uu(t,e,n){const s=t.getProps();return Ow(s,e,n!==void 0?n:s.custom,t)}const ux=t=>Array.isArray(t);function EQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qi(n))}function SQ(t){return ux(t)?t[t.length-1]||0:t}function AQ(t,e){const n=uu(t,e);let{transitionEnd:s={},transition:r={},...o}=n||{};o={...o,...s};for(const l in o){const u=SQ(o[l]);EQ(t,l,u)}}function CQ(t){return!!(Fn(t)&&t.add)}function hx(t,e){const n=t.getValue("willChange");if(CQ(n))return n.add(e);if(!n&&ea.WillChange){const s=new ea.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function aO(t){return t.props[Qk]}const NQ=t=>t!==null;function RQ(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(NQ),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}const IQ={type:"spring",stiffness:500,damping:25,restSpeed:10},jQ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DQ={type:"keyframes",duration:.8},kQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OQ=(t,{keyframes:e})=>e.length>2?DQ:Xu.has(t)?t.startsWith("scale")?jQ(e[1]):IQ:kQ;function MQ({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const Lw=(t,e,n,s={},r,o)=>l=>{const u=ww(s,t)||{},d=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Qi(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:r};MQ(u)||Object.assign(y,OQ(t,y)),y.duration&&(y.duration=Qi(y.duration)),y.repeatDelay&&(y.repeatDelay=Qi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(rx(y),y.delay===0&&(_=!0)),(ea.instantAnimations||ea.skipAnimations)&&(_=!0,rx(y),y.delay=0),y.allowFlatten=!u.type&&!u.ease,_&&!o&&e.get()!==void 0){const x=RQ(y.keyframes,u);if(x!==void 0){yt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return u.isSync?new bw(y):new WK(y)};function PQ({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function oO(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;s&&(o=s);const d=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in u){const _=t.getValue(y,t.latestValues[y]??null),x=u[y];if(x===void 0||m&&PQ(m,y))continue;const E={delay:n,...ww(o||{},y)},S=_.get();if(S!==void 0&&!_.isAnimating&&!Array.isArray(x)&&x===S&&!E.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const M=aO(t);if(M){const H=window.MotionHandoffAnimation(M,y,yt);H!==null&&(E.startTime=H,R=!0)}}hx(t,y),_.start(Lw(y,_,x,t.shouldReduceMotion&&Ak.has(y)?{type:!1}:E,t,R));const N=_.animation;N&&d.push(N)}return l&&Promise.all(d).then(()=>{yt.update(()=>{l&&AQ(t,l)})}),d}function lO(t,e,n,s=0,r=1){const o=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),l=t.size,u=(l-1)*s;return typeof n=="function"?n(o,l):r===1?o*s:u-o*s}function dx(t,e,n={}){var d;const s=uu(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const o=s?()=>Promise.all(oO(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:x}=r;return LQ(t,e,m,y,_,x,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[m,y]=u==="beforeChildren"?[o,l]:[l,o];return m().then(()=>y())}else return Promise.all([o(),l(n.delay)])}function LQ(t,e,n=0,s=0,r=0,o=1,l){const u=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),u.push(dx(d,e,{...l,delay:n+(typeof s=="function"?0:s)+lO(t.variantChildren,d,s,r,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(u)}function VQ(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(o=>dx(t,o,n));s=Promise.all(r)}else if(typeof e=="string")s=dx(t,e,n);else{const r=typeof e=="function"?uu(t,e,n.custom):e;s=Promise.all(oO(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function cO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const UQ=Iw.length;function uO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<UQ;n++){const s=Iw[n],r=t.props[s];(sf(r)||r===!1)&&(e[s]=r)}return e}const FQ=[...Rw].reverse(),zQ=Rw.length;function BQ(t){return e=>Promise.all(e.map(({animation:n,options:s})=>VQ(t,n,s)))}function qQ(t){let e=BQ(t),n=UN(),s=!0;const r=d=>(m,y)=>{var x;const _=uu(t,y,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(_){const{transition:E,transitionEnd:S,...R}=_;m={...m,...R,...S}}return m};function o(d){e=d(t)}function l(d){const{props:m}=t,y=uO(t.parent)||{},_=[],x=new Set;let E={},S=1/0;for(let N=0;N<zQ;N++){const M=FQ[N],H=n[M],L=m[M]!==void 0?m[M]:y[M],$=sf(L),K=M===d?H.isActive:null;K===!1&&(S=N);let Q=L===y[M]&&L!==m[M]&&$;if(Q&&s&&t.manuallyAnimateOnMount&&(Q=!1),H.protectedKeys={...E},!H.isActive&&K===null||!L&&!H.prevProp||ky(L)||typeof L=="boolean")continue;const j=HQ(H.prevProp,L);let C=j||M===d&&H.isActive&&!Q&&$||N>S&&$,k=!1;const O=Array.isArray(L)?L:[L];let U=O.reduce(r(M),{});K===!1&&(U={});const{prevResolvedValues:q={}}=H,P={...q,...U},Je=le=>{C=!0,x.has(le)&&(k=!0,x.delete(le)),H.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in P){const de=U[le],ke=q[le];if(E.hasOwnProperty(le))continue;let Ve=!1;ux(de)&&ux(ke)?Ve=!cO(de,ke):Ve=de!==ke,Ve?de!=null?Je(le):x.add(le):de!==void 0&&x.has(le)?Je(le):H.protectedKeys[le]=!0}H.prevProp=L,H.prevResolvedValues=U,H.isActive&&(E={...E,...U}),s&&t.blockInitialAnimation&&(C=!1);const _t=Q&&j;C&&(!_t||k)&&_.push(...O.map(le=>{const de={type:M};if(typeof le=="string"&&s&&!_t&&t.manuallyAnimateOnMount&&t.parent){const{parent:ke}=t,Ve=uu(ke,le);if(ke.enteringChildren&&Ve){const{delayChildren:z}=Ve.transition||{};de.delay=lO(ke.enteringChildren,t,z)}}return{animation:le,options:de}}))}if(x.size){const N={};if(typeof m.initial!="boolean"){const M=uu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(N.transition=M.transition)}x.forEach(M=>{const H=t.getBaseTarget(M),L=t.getValue(M);L&&(L.liveStyle=!0),N[M]=H??null}),_.push({animation:N})}let R=!!_.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),s=!1,R?e(_):Promise.resolve()}function u(d,m){var _;if(n[d].isActive===m)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(x=>{var E;return(E=x.animationState)==null?void 0:E.setActive(d,m)}),n[d].isActive=m;const y=l(d);for(const x in n)n[x].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=UN()}}}function HQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cO(e,t):!1}function cl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UN(){return{animate:cl(!0),whileInView:cl(),whileHover:cl(),whileTap:cl(),whileDrag:cl(),whileFocus:cl(),exit:cl()}}class Do{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GQ extends Do{constructor(e){super(e),e.animationState||(e.animationState=qQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ky(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $Q=0;class KQ extends Do{constructor(){super(...arguments),this.id=$Q++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WQ={animation:{Feature:GQ},exit:{Feature:KQ}};function af(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Vf(t){return{point:{x:t.pageX,y:t.pageY}}}const QQ=t=>e=>Aw(e)&&t(e,Vf(e));function Md(t,e,n,s){return af(t,e,QQ(n),s)}const hO=1e-4,YQ=1-hO,XQ=1+hO,dO=.01,JQ=0-dO,ZQ=0+dO;function Zn(t){return t.max-t.min}function eY(t,e,n){return Math.abs(t-e)<=n}function FN(t,e,n,s=.5){t.origin=s,t.originPoint=Dt(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=Dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=YQ&&t.scale<=XQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=JQ&&t.translate<=ZQ||isNaN(t.translate))&&(t.translate=0)}function Pd(t,e,n,s){FN(t.x,e.x,n.x,s?s.originX:void 0),FN(t.y,e.y,n.y,s?s.originY:void 0)}function zN(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function tY(t,e,n){zN(t.x,e.x,n.x),zN(t.y,e.y,n.y)}function BN(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function Ld(t,e,n){BN(t.x,e.x,n.x),BN(t.y,e.y,n.y)}function qs(t){return[t("x"),t("y")]}const fO=({current:t})=>t?t.ownerDocument.defaultView:null,qN=(t,e)=>Math.abs(t-e);function nY(t,e){const n=qN(t.x,e.x),s=qN(t.y,e.y);return Math.sqrt(n**2+s**2)}class mO{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=O_(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=nY(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!S)return;const{point:R}=x,{timestamp:N}=dn;this.history.push({...R,timestamp:N});const{onStart:M,onMove:H}=this.handlers;E||(M&&M(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=k_(E,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=O_(x.type==="pointercancel"?this.lastMoveEventInfo:k_(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,M),R&&R(x,M)},!Aw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const u=Vf(e),d=k_(u,this.transformPagePoint),{point:m}=d,{timestamp:y}=dn;this.history=[{...m,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,O_(d,this.history)),this.removeListeners=Mf(Md(this.contextWindow,"pointermove",this.handlePointerMove),Md(this.contextWindow,"pointerup",this.handlePointerUp),Md(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tr(this.updatePoint)}}function k_(t,e){return e?{point:e(t.point)}:t}function HN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function O_({point:t},e){return{point:t,delta:HN(t,pO(e)),offset:HN(t,sY(e)),velocity:iY(e,.1)}}function sY(t){return t[0]}function pO(t){return t[t.length-1]}function iY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=pO(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Qi(e)));)n--;if(!s)return{x:0,y:0};const o=Qs(r.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-s.x)/o,y:(r.y-s.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function rY(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Dt(n,t,s.max):Math.min(t,n)),t}function GN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aY(t,{top:e,left:n,bottom:s,right:r}){return{x:GN(t.x,n,r),y:GN(t.y,e,s)}}function $N(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function oY(t,e){return{x:$N(t.x,e.x),y:$N(t.y,e.y)}}function lY(t,e){let n=.5;const s=Zn(t),r=Zn(e);return r>s?n=ju(e.min,e.max-s,t.min):s>r&&(n=ju(t.min,t.max-r,e.min)),er(0,1,n)}function cY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fx=.35;function uY(t=fx){return t===!1?t=0:t===!0&&(t=fx),{x:KN(t,"left","right"),y:KN(t,"top","bottom")}}function KN(t,e,n){return{min:WN(t,e),max:WN(t,n)}}function WN(t,e){return typeof t=="number"?t:t[e]||0}const hY=new WeakMap;class dY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(_).point)},l=(_,x)=>{const{drag:E,dragPropagation:S,onDragStart:R}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cW(E),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(M=>{let H=this.getAxisMotionValue(M).get()||0;if(Yi.test(H)){const{projection:L}=this.visualElement;if(L&&L.layout){const $=L.layout.layoutBox[M];$&&(H=Zn($)*(parseFloat(H)/100))}}this.originPoint[M]=H}),R&&yt.postRender(()=>R(_,x)),hx(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:R,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:M}=x;if(S&&this.currentDirection===null){this.currentDirection=fY(M),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),N&&N(_,x)},d=(_,x)=>{this.latestPointerEvent=_,this.latestPanInfo=x,this.stop(_,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>qs(_=>{var x;return this.getAnimationState(_)==="paused"&&((x=this.getAxisMotionValue(_).animation)==null?void 0:x.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new mO(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:fO(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&yt.postRender(()=>u(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!kp(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=rY(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&Zc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=aY(s.layoutBox,e):this.constraints=!1,this.elastic=uY(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&qs(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=cY(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zc(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=mQ(s,r.root,this.visualElement.getTransformPagePoint());let l=oY(r.layout.layoutBox,o);if(n){const u=n(hQ(l));this.hasMutatedConstraints=!!u,u&&(l=Jk(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},m=qs(y=>{if(!kp(y,n,this.currentDirection))return;let _=d&&d[y]||{};l&&(_={min:0,max:0});const x=r?200:1e6,E=r?40:1e7,S={type:"inertia",velocity:s?e[y]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(y,S)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return hx(this.visualElement,e),s.start(Lw(e,s,0,n,this.visualElement,!1))}stopAnimation(){qs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){qs(n=>{const{drag:s}=this.getProps();if(!kp(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];o.set(e[n]-Dt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Zc(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qs(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();r[l]=lY({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),qs(l=>{if(!kp(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:m}=this.constraints[l];u.set(Dt(d,m,r[l]))})}addListeners(){if(!this.visualElement.current)return;hY.set(this.visualElement,this);const e=this.visualElement.current,n=Md(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Zc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),yt.read(s);const l=af(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(qs(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=fx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function kp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mY extends Do{constructor(e){super(e),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new dY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const QN=t=>(e,n)=>{t&&yt.postRender(()=>t(e,n))};class pY extends Do{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(e){this.session=new mO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:QN(e),onStart:QN(n),onMove:s,onEnd:(o,l)=>{delete this.session,r&&yt.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Md(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=YN(t,e.target.x),s=YN(t,e.target.y);return`${n}% ${s}%`}},gY={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Ao.parse(t);if(r.length>5)return s;const o=Ao.createTransformer(t),l=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;r[0+l]/=u,r[1+l]/=d;const m=Dt(u,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=m),typeof r[3+l]=="number"&&(r[3+l]/=m),o(r)}};let M_=!1;class yY extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:o}=e;UW(vY),o&&(n.group&&n.group.add(o),s&&s.register&&r&&s.register(o),M_&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:o}=this.props,{projection:l}=s;return l&&(l.isPresent=o,M_=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||yt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;M_=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gO(t){const[e,n]=Vk(),s=D.useContext(nw);return f.jsx(yY,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(Yk),isPresent:e,safeToRemove:n})}const vY={borderRadius:{...cd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cd,borderTopRightRadius:cd,borderBottomLeftRadius:cd,borderBottomRightRadius:cd,boxShadow:gY};function _Y(t,e,n){const s=Fn(t)?t:qi(t);return s.start(Lw("",s,e,n)),s.animation}const bY=(t,e)=>t.depth-e.depth;class xY{constructor(){this.children=[],this.isDirty=!1}add(e){rw(this.children,e),this.isDirty=!0}remove(e){aw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bY),this.isDirty=!1,this.children.forEach(e)}}function wY(t,e){const n=ds.now(),s=({timestamp:r})=>{const o=r-n;o>=e&&(tr(s),t(o-e))};return yt.setup(s,!0),()=>tr(s)}const yO=["TopLeft","TopRight","BottomLeft","BottomRight"],TY=yO.length,XN=t=>typeof t=="string"?parseFloat(t):t,JN=t=>typeof t=="number"||Re.test(t);function EY(t,e,n,s,r,o){r?(t.opacity=Dt(0,n.opacity??1,SY(s)),t.opacityExit=Dt(e.opacity??1,0,AY(s))):o&&(t.opacity=Dt(e.opacity??1,n.opacity??1,s));for(let l=0;l<TY;l++){const u=`border${yO[l]}Radius`;let d=ZN(e,u),m=ZN(n,u);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||JN(d)===JN(m)?(t[u]=Math.max(Dt(XN(d),XN(m),s),0),(Yi.test(m)||Yi.test(d))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Dt(e.rotate||0,n.rotate||0,s))}function ZN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const SY=vO(0,.5,ek),AY=vO(.5,.95,ms);function vO(t,e,n){return s=>s<t?0:s>e?1:n(ju(t,e,s))}function eR(t,e){t.min=e.min,t.max=e.max}function Bs(t,e){eR(t.x,e.x),eR(t.y,e.y)}function tR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nR(t,e,n,s,r){return t-=e,t=Wg(t,1/n,s),r!==void 0&&(t=Wg(t,1/r,s)),t}function CY(t,e=0,n=1,s=.5,r,o=t,l=t){if(Yi.test(e)&&(e=parseFloat(e),e=Dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Dt(o.min,o.max,s);t===o&&(u-=e),t.min=nR(t.min,e,n,u,r),t.max=nR(t.max,e,n,u,r)}function sR(t,e,[n,s,r],o,l){CY(t,e[n],e[s],e[r],e.scale,o,l)}const NY=["x","scaleX","originX"],RY=["y","scaleY","originY"];function iR(t,e,n,s){sR(t.x,e,NY,n?n.x:void 0,s?s.x:void 0),sR(t.y,e,RY,n?n.y:void 0,s?s.y:void 0)}function rR(t){return t.translate===0&&t.scale===1}function _O(t){return rR(t.x)&&rR(t.y)}function aR(t,e){return t.min===e.min&&t.max===e.max}function IY(t,e){return aR(t.x,e.x)&&aR(t.y,e.y)}function oR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bO(t,e){return oR(t.x,e.x)&&oR(t.y,e.y)}function lR(t){return Zn(t.x)/Zn(t.y)}function cR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jY{constructor(){this.members=[]}add(e){rw(this.members,e),e.scheduleRender()}remove(e){if(aw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DY(t,e,n){let s="";const r=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((r||o||l)&&(s=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:x,skewX:E,skewY:S}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),x&&(s+=`rotateY(${x}deg) `),E&&(s+=`skewX(${E}deg) `),S&&(s+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const P_=["","X","Y","Z"],kY=1e3;let OY=0;function L_(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function xO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(r||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&xO(s)}function wO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},u=e==null?void 0:e()){this.id=OY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LY),this.nodes.forEach(zY),this.nodes.forEach(BY),this.nodes.forEach(VY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new xY)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new lw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Cw(l)&&!EW(l),this.instance=l;const{layoutId:u,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let y,_=0;const x=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{_=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==_&&(_=E,this.root.updateBlockedByResize=!0,y&&y(),y=wY(x,250),ng.hasAnimatedSinceResize&&(ng.hasAnimatedSinceResize=!1,this.nodes.forEach(dR)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||KY,{onLayoutAnimationStart:R,onLayoutAnimationComplete:N}=m.getProps(),M=!this.targetLayout||!bO(this.targetLayout,E),H=!_&&x;if(this.options.layoutRoot||this.resumeFrom||H||_&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...ww(S,"layout"),onPlay:R,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(y,H)}else _||dR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FY),this.nodes.forEach(MY),this.nodes.forEach(PY)):this.nodes.forEach(hR),this.clearAllSnapshots();const u=ds.now();dn.delta=er(0,1e3/60,u-dn.timestamp),dn.timestamp=u,dn.isProcessing=!0,S_.update.process(dn),S_.preRender.process(dn),S_.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UY),this.sharedNodes.forEach(HY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zn(this.snapshot.measuredBox.x)&&!Zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_O(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||dl(this.latestValues)||y)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),WY(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return Bt();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(QY))){const{scroll:y}=this.root;y&&(eu(u.x,y.offset.x),eu(u.y,y.offset.y))}return u}removeElementScroll(l){var d;const u=Bt();if(Bs(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:_,options:x}=y;y!==this.root&&_&&x.layoutScroll&&(_.wasRoot&&Bs(u,l),eu(u.x,_.offset.x),eu(u.y,_.offset.y))}return u}applyTransform(l,u=!1){const d=Bt();Bs(d,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&tu(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),dl(y.latestValues)&&tu(d,y.latestValues)}return dl(this.latestValues)&&tu(d,this.latestValues),d}removeTransform(l){const u=Bt();Bs(u,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!dl(m.latestValues))continue;ox(m.latestValues)&&m.updateSnapshot();const y=Bt(),_=m.measurePageBox();Bs(y,_),iR(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return dl(this.latestValues)&&iR(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Ld(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bs(this.target,this.layout.layoutBox),eO(this.target,this.targetDelta)):Bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Ld(this.relativeTargetOrigin,this.target,E.target),Bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ox(this.parent.latestValues)||Zk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Bs(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,x=this.treeScale.y;fQ(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tR(this.prevProjectionDelta.x,this.projectionDelta.x),tR(this.prevProjectionDelta.y,this.projectionDelta.y)),Pd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==x||!cR(this.projectionDelta.x,this.prevProjectionDelta.x)||!cR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nu(),this.projectionDelta=nu(),this.projectionDeltaWithTransform=nu()}setAnimationOrigin(l,u=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},_=nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Bt(),E=d?d.source:void 0,S=this.layout?this.layout.source:void 0,R=E!==S,N=this.getStack(),M=!N||N.members.length<=1,H=!!(R&&!M&&this.options.crossfade===!0&&!this.path.some($Y));this.animationProgress=0;let L;this.mixTargetDelta=$=>{const K=$/1e3;fR(_.x,l.x,K),fR(_.y,l.y,K),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ld(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GY(this.relativeTarget,this.relativeTargetOrigin,x,K),L&&IY(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Bt()),Bs(L,this.relativeTarget)),R&&(this.animationValues=y,EY(y,m,this.latestValues,K,H,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,d,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{ng.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qi(0)),this.currentAnimation=_Y(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),l.onUpdate&&l.onUpdate(y)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:m,latestValues:y}=l;if(!(!u||!d||!m)){if(this!==l&&this.layout&&m&&TO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Bt();const _=Zn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const x=Zn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Bs(u,d),tu(u,y),Pd(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new jY),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const m={};d.z&&L_("z",l,m,this.animationValues);for(let y=0;y<P_.length;y++)L_(`rotate${P_[y]}`,l,m,this.animationValues),L_(`skew${P_[y]}`,l,m,this.animationValues);l.render();for(const y in m)l.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=tg(u==null?void 0:u.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=tg(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!dl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=DY(this.projectionDeltaWithTransform,this.treeScale,y);d&&(_=d(y,_)),l.transform=_;const{x,y:E}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,m.animationValues?l.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in rf){if(y[S]===void 0)continue;const{correct:R,applyTo:N,isCSSVariable:M}=rf[S],H=_==="none"?y[S]:R(y[S],m);if(N){const L=N.length;for(let $=0;$<L;$++)l[N[$]]=H}else M?this.options.visualElement.renderState.vars[S]=H:l[S]=H}this.options.layoutId&&(l.pointerEvents=m===this?tg(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(uR),this.root.sharedNodes.clear()}}}function MY(t){t.updateLayout()}function PY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?qs(_=>{const x=l?e.measuredBox[_]:e.layoutBox[_],E=Zn(x);x.min=s[_].min,x.max=x.min+E}):TO(o,e.layoutBox,s)&&qs(_=>{const x=l?e.measuredBox[_]:e.layoutBox[_],E=Zn(s[_]);x.max=x.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+E)});const u=nu();Pd(u,s,e.layoutBox);const d=nu();l?Pd(d,t.applyTransform(r,!0),e.measuredBox):Pd(d,s,e.layoutBox);const m=!_O(u);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:x,layout:E}=_;if(x&&E){const S=Bt();Ld(S,e.layoutBox,x.layoutBox);const R=Bt();Ld(R,s,E.layoutBox),bO(S,R)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function LY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UY(t){t.clearSnapshot()}function uR(t){t.clearMeasurements()}function hR(t){t.isLayoutDirty=!1}function FY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zY(t){t.resolveTargetDelta()}function BY(t){t.calcProjection()}function qY(t){t.resetSkewAndRotation()}function HY(t){t.removeLeadSnapshot()}function fR(t,e,n){t.translate=Dt(e.translate,0,n),t.scale=Dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mR(t,e,n,s){t.min=Dt(e.min,n.min,s),t.max=Dt(e.max,n.max,s)}function GY(t,e,n,s){mR(t.x,e.x,n.x,s),mR(t.y,e.y,n.y,s)}function $Y(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KY={duration:.45,ease:[.4,0,.1,1]},pR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gR=pR("applewebkit/")&&!pR("chrome/")?Math.round:ms;function yR(t){t.min=gR(t.min),t.max=gR(t.max)}function WY(t){yR(t.x),yR(t.y)}function TO(t,e,n){return t==="position"||t==="preserve-aspect"&&!eY(lR(e),lR(n),.2)}function QY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const YY=wO({attachResizeListener:(t,e)=>af(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),V_={current:void 0},EO=wO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!V_.current){const t=new YY({});t.mount(window),t.setOptions({layoutScroll:!0}),V_.current=t}return V_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XY={pan:{Feature:pY},drag:{Feature:mY,ProjectionNode:EO,MeasureLayout:gO}};function vR(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=s[r];o&&yt.postRender(()=>o(e,Vf(e)))}class JY extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=uW(e,(n,s)=>(vR(this.node,s,"Start"),r=>vR(this.node,r,"End"))))}unmount(){}}class ZY extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mf(af(this.node.current,"focus",()=>this.onFocus()),af(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _R(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=s[r];o&&yt.postRender(()=>o(e,Vf(e)))}class eX extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=mW(e,(n,s)=>(_R(this.node,s,"Start"),(r,{success:o})=>_R(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mx=new WeakMap,U_=new WeakMap,tX=t=>{const e=mx.get(t.target);e&&e(t)},nX=t=>{t.forEach(tX)};function sX({root:t,...e}){const n=t||document;U_.has(n)||U_.set(n,{});const s=U_.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(nX,{root:t,...e})),s[r]}function iX(t,e,n){const s=sX(e);return mx.set(t,n),s.observe(t),()=>{mx.delete(t),s.unobserve(t)}}const rX={some:0,all:1};class aX extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:rX[r]},u=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),x=m?y:_;x&&x(d)};return iX(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oX(e,n))&&this.startObserver()}unmount(){}}function oX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lX={inView:{Feature:aX},tap:{Feature:eX},focus:{Feature:ZY},hover:{Feature:JY}},cX={layout:{ProjectionNode:EO,MeasureLayout:gO}},uX={...WQ,...lX,...XY,...cX},_e=uQ(uX,TQ);function hX(t,e,n){D.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const dX=50,bR=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),fX=()=>({time:0,x:bR(),y:bR()}),mX={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function xR(t,e,n,s){const r=n[e],{length:o,position:l}=mX[e],u=r.current,d=n.time;r.current=t[`scroll${l}`],r.scrollLength=t[`scroll${o}`]-t[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=ju(0,r.scrollLength,r.current);const m=s-d;r.velocity=m>dX?0:cw(r.current-u,m)}function pX(t,e,n){xR(t,"x",e,n),xR(t,"y",e,n),e.time=n}function gX(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(Ew(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=r.left-o.left,n.y+=r.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:o}=s.getBBox();n.x+=r,n.y+=o;let l=null,u=s.parentNode;for(;!l;)u.tagName==="svg"&&(l=u),u=s.parentNode;s=l}else break;return n}const px={start:0,center:.5,end:1};function wR(t,e,n=0){let s=0;if(t in px&&(t=px[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?s=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?s=r/100*document.documentElement.clientWidth:t.endsWith("vh")?s=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(s=e*t),n+s}const yX=[0,0];function vX(t,e,n,s){let r=Array.isArray(t)?t:yX,o=0,l=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,px[t]?t:"0"]),o=wR(r[0],n,s),l=wR(r[1],e),o-l}const _X={All:[[0,0],[1,1]]},bX={x:0,y:0};function xX(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function wX(t,e,n){const{offset:s=_X.All}=n,{target:r=t,axis:o="y"}=n,l=o==="y"?"height":"width",u=r!==t?gX(r,t):bX,d=r===t?{width:t.scrollWidth,height:t.scrollHeight}:xX(r),m={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let y=!e[o].interpolate;const _=s.length;for(let x=0;x<_;x++){const E=vX(s[x],m[l],d[l],u[o]);!y&&E!==e[o].interpolatorOffsets[x]&&(y=!0),e[o].offset[x]=E}y&&(e[o].interpolate=pk(e[o].offset,gk(s),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=er(0,1,e[o].interpolate(e[o].current))}function TX(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function EX(t,e,n,s={}){return{measure:r=>{TX(t,s.target,n),pX(t,n,r),(s.offset||s.target)&&wX(t,n,s)},notify:()=>e(n)}}const ud=new WeakMap,TR=new WeakMap,F_=new WeakMap,ER=t=>t===document.scrollingElement?window:t;function SO(t,{container:e=document.scrollingElement,...n}={}){if(!e)return ms;let s=F_.get(e);s||(s=new Set,F_.set(e,s));const r=fX(),o=EX(e,t,r,n);if(s.add(o),!ud.has(e)){const u=()=>{for(const _ of s)_.measure(dn.timestamp);yt.preUpdate(d)},d=()=>{for(const _ of s)_.notify()},m=()=>yt.read(u);ud.set(e,m);const y=ER(e);window.addEventListener("resize",m,{passive:!0}),e!==document.documentElement&&TR.set(e,TW(e,m)),y.addEventListener("scroll",m,{passive:!0}),m()}const l=ud.get(e);return yt.read(l,!1,!0),()=>{var m;tr(l);const u=F_.get(e);if(!u||(u.delete(o),u.size))return;const d=ud.get(e);ud.delete(e),d&&(ER(e).removeEventListener("scroll",d),(m=TR.get(e))==null||m(),window.removeEventListener("resize",d))}}const SR=new Map;function SX(t){const e={value:0},n=SO(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function AO({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const r=SR.get(e)??new Map;SR.set(e,r);const o=n.target??"self",l=r.get(o)??{},u=s+(n.offset??[]).join(",");return l[u]||(l[u]=!n.target&&bk()?new ScrollTimeline({source:e,axis:s}):SX({container:e,...n})),l[u]}function AX(t,e){const n=AO(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),Lk(r=>{s.time=s.iterationDuration*r},n))})}function CX(t){return t.length===2}function NX(t,e){return CX(t)?SO(n=>{t(n[e.axis].progress,n)},e):Lk(t,AO(e))}function RX(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return ms;const r={axis:e,container:n,...s};return typeof t=="function"?NX(t,r):AX(t,r)}const IX=()=>({scrollX:qi(0),scrollY:qi(0),scrollXProgress:qi(0),scrollYProgress:qi(0)}),Op=t=>t?!t.current:!1;function jX({container:t,target:e,...n}={}){const s=Iy(IX),r=D.useRef(null),o=D.useRef(!1),l=D.useCallback(()=>(r.current=RX((u,{x:d,y:m})=>{s.scrollX.set(d.current),s.scrollXProgress.set(d.progress),s.scrollY.set(m.current),s.scrollYProgress.set(m.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var u;(u=r.current)==null||u.call(r)}),[t,e,JSON.stringify(n.offset)]);return iw(()=>{if(o.current=!1,Op(t)||Op(e)){o.current=!0;return}else return l()},[l]),D.useEffect(()=>{if(o.current)return ef(!Op(t)),ef(!Op(e)),l()},[l]),s}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),AR=t=>{const e=kX(t);return e.charAt(0).toUpperCase()+e.slice(1)},CO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),OX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:l,...u},d)=>D.createElement("svg",{ref:d,...MX,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:CO("lucide",r),...!o&&!OX(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,y])=>D.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=D.forwardRef(({className:s,...r},o)=>D.createElement(PX,{ref:o,iconNode:e,className:CO(`lucide-${DX(AR(t))}`,`lucide-${t}`,s),...r}));return n.displayName=AR(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NO=pe("activity",LX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],UX=pe("ambulance",VX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Co=pe("arrow-right",FX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],BX=pe("arrow-up",zX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Vw=pe("award",qX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],GX=pe("battery",HX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],KX=pe("bell",$X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],RO=pe("book-open",WX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Qg=pe("building-2",QX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IO=pe("calendar",YX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],JX=pe("camera",XX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eJ=pe("chevron-down",ZX);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nJ=pe("chevron-left",tJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],of=pe("chevron-right",sJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ku=pe("circle-alert",iJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],My=pe("circle-check-big",rJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jO=pe("circle-check",aJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],DO=pe("circle-x",oJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],cJ=pe("clipboard-check",lJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kO=pe("clipboard-list",uJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lf=pe("clock",hJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Uw=pe("droplets",dJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mJ=pe("external-link",fJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OO=pe("eye-off",pJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fw=pe("eye",gJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]],vJ=pe("file-plus-corner",yJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yi=pe("file-text",_J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],xJ=pe("flame",bJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],MO=pe("house",wJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],PO=pe("image",TJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],cf=pe("landmark",EJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LO=pe("layout-dashboard",SJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],VO=pe("lightbulb",AJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$l=pe("loader-circle",CJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],RJ=pe("log-in",NJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],CR=pe("lock",IJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UO=pe("log-out",jJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FO=pe("mail",DJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ju=pe("map-pin",kJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],zO=pe("megaphone",OJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],PJ=pe("menu",MJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],BO=pe("message-square-text",LJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qO=pe("message-square",VJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],FJ=pe("minus",UJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],BJ=pe("octagon-alert",zJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],HJ=pe("paperclip",qJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zw=pe("phone-call",GJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],HO=pe("phone",$J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],WJ=pe("refresh-ccw",KJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sg=pe("search",QJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Py=pe("send",YJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JJ=pe("settings",XJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],NR=pe("shield",ZJ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],tZ=pe("siren",eZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],GO=pe("sparkles",nZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],iZ=pe("stethoscope",sZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],aZ=pe("target",rZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],lZ=pe("thermometer",oZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],uZ=pe("thumbs-up",cZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$O=pe("trending-up",hZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gx=pe("triangle-alert",dZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mZ=pe("truck",fZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ly=pe("upload",pZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uf=pe("user",gZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KO=pe("users",yZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],_Z=pe("waves",vZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],xZ=pe("wind",bZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],WO=pe("wrench",wZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QO=pe("x",TZ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SZ=pe("zap",EZ),AZ={citizen:["Property Tax","Water Tax","Birth Certificate","Death Certificate","Marriage Certificate","Grievance Redressal","Direct Benefit Transfer"],business:["Online Building Permissions","Online Tenders","Fire NOC","Hawkers Management"],other:["TDR Proposal Received","Vendor Form"]},CZ=[{name:"Home",href:"/",icon:MO},{name:"Available Services",href:"/citizen-services",icon:cf},{name:"PMC Services",href:"/services/new",icon:vJ,type:"mega-menu",data:AZ},{name:"About ",href:"/about",icon:uf},{name:"Contact",href:"/contact",icon:zw}];var YO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RR=co.createContext&&co.createContext(YO),NZ=["attr","size","title"];function RZ(t,e){if(t==null)return{};var n=IZ(t,e),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)s=o[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function IZ(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yg.apply(this,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(s){jZ(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jZ(t,e,n){return e=DZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=kZ(t,"string");return typeof e=="symbol"?e:e+""}function kZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XO(t){return t&&t.map((e,n)=>co.createElement(e.tag,Xg({key:n},e.attr),XO(e.child)))}function Uf(t){return e=>co.createElement(OZ,Yg({attr:Xg({},t.attr)},e),XO(t.child))}function OZ(t){var e=n=>{var{attr:s,size:r,title:o}=t,l=RZ(t,NZ),u=r||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),co.createElement("svg",Yg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,l,{className:d,style:Xg(Xg({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&co.createElement("title",null,o),t.children)};return RR!==void 0?co.createElement(RR.Consumer,null,n=>e(n)):e(YO)}function MZ(t){return Uf({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function JO(t){return Uf({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function ZO(t){return Uf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function eM(t){return Uf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function tM(t){return Uf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}const PZ=()=>f.jsx("div",{className:"bg-[#9f1239] text-white py-2 px-4 hidden md:block transition-colors duration-300",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center text-sm",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[f.jsx(zw,{className:"w-4 h-4"})," Toll Free: 1800 103 0222"]}),f.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs uppercase tracking-wide",children:"General Election 2025-26"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx(eM,{className:"w-4 h-4 cursor-pointer hover:text-gray-200"}),f.jsx(JO,{className:"w-4 h-4 cursor-pointer hover:text-gray-200"}),f.jsx(tM,{className:"w-4 h-4 cursor-pointer hover:text-gray-200"}),f.jsx(ZO,{className:"w-4 h-4 cursor-pointer hover:text-gray-200"})]}),f.jsx("div",{className:"h-4 w-px bg-white/30"}),f.jsx(pt,{to:"/staff-login",children:f.jsx("button",{className:"bg-white text-[#9f1239] px-3 py-1 rounded-full text-xs font-bold hover:bg-gray-100 transition-colors",children:"Department Login"})})]})]})}),LZ=t=>t?t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U",VZ=()=>{const{currentUser:t,logout:e}=Ry(),[n,s]=D.useState(!1),r=D.useRef(null),o=Rs(),l=async()=>{try{await e(),o("/"),s(!1)}catch(d){console.error("Failed to log out",d)}};if(D.useEffect(()=>{const d=m=>{r.current&&!r.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),!t)return null;const u=t.displayName||t.email.split("@")[0];return f.jsxs("div",{className:"relative",ref:r,children:[f.jsx("button",{onClick:()=>s(!n),className:"flex items-center gap-2 focus:outline-none",children:f.jsxs("div",{className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 px-2 py-1.5 rounded-full transition-all border border-white/20 backdrop-blur-sm",children:[f.jsx("span",{className:"hidden md:block px-2 py-0.5 bg-indigo-500 text-white text-[10px] font-bold rounded-full uppercase tracking-wider",children:"Citizen"}),f.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-[#9f1239] to-orange-500 flex items-center justify-center text-white font-bold text-sm shadow-md border-2 border-white",children:t.photoURL?f.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):LZ(u)})]})}),f.jsx(Gl,{children:n&&f.jsxs(_e.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-3 w-72 bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-50 origin-top-right",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 bg-slate-50",children:[f.jsx("h4",{className:"text-slate-900 font-bold text-base line-clamp-1",children:u}),f.jsx("p",{className:"text-slate-500 text-xs truncate",children:t.email})]}),f.jsx("div",{className:"p-2",children:f.jsxs(pt,{to:"/dashboard",onClick:()=>s(!1),className:"flex items-center gap-3 px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 hover:text-[#9f1239] rounded-xl transition-colors",children:[f.jsx(LO,{size:18})," Dashboard"]})}),f.jsx("div",{className:"p-2 border-t border-gray-100",children:f.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:[f.jsx(UO,{size:18})," Sign Out"]})})]})})]})},nM=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[r,o]=D.useState(null),{currentUser:l}=Ry(),{scrollY:u}=jX();return hX(u,"change",d=>e(d>50)),f.jsx(f.Fragment,{children:f.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 flex flex-col transition-all duration-300",children:[f.jsx(_e.div,{initial:{height:"auto",opacity:1},animate:{height:t?0:"auto",opacity:t?0:1},className:"overflow-hidden",children:f.jsx(PZ,{})}),f.jsx("div",{className:`w-full transition-all duration-300 ${t?"bg-white/95 backdrop-blur-md shadow-md py-2 border-b border-gray-200":"bg-gradient-to-b from-black/70 to-transparent py-4"}`,onMouseLeave:()=>o(null),children:f.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[f.jsxs(pt,{to:"/",className:"flex items-center gap-3 cursor-pointer group",children:[f.jsx("div",{className:`p-2 rounded-lg shadow-lg transition-colors ${t?"bg-[#9f1239]":"bg-white"}`,children:f.jsx(cf,{className:`w-6 h-6 ${t?"text-white":"text-[#9f1239]"}`})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:`text-lg font-bold leading-tight ${t?"text-slate-800":"text-white"}`,children:"Municipal"}),f.jsx("span",{className:`text-xs uppercase tracking-wider ${t?"text-slate-500":"text-gray-300"}`,children:"Corporation"})]})]}),f.jsx("div",{className:"hidden md:flex items-center gap-1",children:CZ.map(d=>f.jsxs("div",{onMouseEnter:()=>d.type==="mega-menu"&&o(d.name),className:"relative",children:[f.jsxs(pt,{to:d.href,className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-1 group ${t?"text-slate-700 hover:text-[#9f1239]":"text-gray-100 hover:text-white"} ${r===d.name?t?"text-[#9f1239] bg-red-50":"bg-white/20":""}`,children:[d.name," ",d.type==="mega-menu"&&f.jsx(eJ,{className:"w-4 h-4"})]}),d.type==="mega-menu"&&r===d.name&&f.jsx(_e.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:"absolute top-full left-1/2 -translate-x-1/2 pt-4 w-[800px] -ml-[100px]",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-100 p-8 grid grid-cols-12 gap-8 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#9f1239] to-orange-500"}),f.jsxs("div",{className:"col-span-4",children:[f.jsxs("h4",{className:"text-[#9f1239] font-bold mb-4 flex items-center gap-2",children:[f.jsx(uf,{className:"w-4 h-4"})," Citizen Services"]}),f.jsx("ul",{className:"space-y-2",children:d.data.citizen.slice(0,8).map(m=>f.jsx("li",{className:"text-sm text-slate-600 hover:text-[#9f1239] cursor-pointer hover:translate-x-1 transition-transform",children:m},m))})]}),f.jsxs("div",{className:"col-span-4 border-l border-gray-100 pl-8",children:[f.jsxs("h4",{className:"text-orange-600 font-bold mb-4 flex items-center gap-2",children:[f.jsx(cf,{className:"w-4 h-4"})," Business"]}),f.jsx("ul",{className:"space-y-2",children:d.data.business.map(m=>f.jsx("li",{className:"text-sm text-slate-600 hover:text-orange-600 cursor-pointer hover:translate-x-1 transition-transform",children:m},m))})]}),f.jsxs("div",{className:"col-span-4 bg-slate-50 -my-8 -mr-8 p-8 flex flex-col",children:[f.jsx("h4",{className:"text-slate-800 font-bold mb-4",children:"Quick Actions"}),f.jsx("button",{className:"mt-auto w-full bg-[#9f1239] text-white py-3 rounded-lg font-bold hover:bg-[#881337] transition-colors",children:"All Services"})]})]})})]},d.name))}),f.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[f.jsx("button",{className:`p-2 rounded-full transition-colors ${t?"hover:bg-gray-100 text-slate-600":"hover:bg-white/20 text-white"}`,children:f.jsx(sg,{className:"w-5 h-5"})}),l?f.jsx(VZ,{}):f.jsx(pt,{to:"/citizenlogin",children:f.jsx(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-[#9f1239] hover:bg-[#881337] text-white rounded-full font-medium shadow-lg shadow-red-600/30 transition-all flex items-center gap-2",children:"Login"})})]}),f.jsx("button",{onClick:()=>s(!0),className:`md:hidden p-2 rounded-lg transition-colors ${t?"text-slate-800":"text-white"}`,children:f.jsx(PJ,{className:"w-8 h-8"})})]})})]})})},UZ=()=>{const t=()=>{window.scrollTo({top:0,behavior:"smooth"})},e=[{title:"Services",links:[{name:"Online Services",path:"/services/online"},{name:"Birth & Death Registration",path:"/services/birth-death"},{name:"Property Tax Payment",path:"/services/property-tax"},{name:"Water Tax Payment",path:"/services/water-tax"},{name:"Building Plan Approval",path:"/services/building-plan"},{name:"Tenders & Quotations",path:"/services/tenders"}]},{title:"Information",links:[{name:"About PMC",path:"/about"},{name:"Corporators",path:"/corporators"},{name:"Departments",path:"/departments"},{name:"RTI Act",path:"/rti"},{name:"News & Press",path:"/news"},{name:"FAQs",path:"/faqs"}]},{title:"Quick Links",links:[{name:"Maharashtra Govt.",url:"https://www.maharashtra.gov.in/"},{name:"National Portal",url:"https://www.india.gov.in/"},{name:"Sitemap",path:"/sitemap"},{name:"Terms & Conditions",path:"/terms"},{name:"Privacy Policy",path:"/privacy"},{name:"Help & Support",path:"/help"}]}];return f.jsxs("footer",{className:"bg-slate-50 pt-16 border-t border-slate-200 text-slate-700 font-sans relative",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#9f1239] via-orange-500 to-[#9f1239]"}),f.jsx("div",{className:"container mx-auto px-6 lg:px-12 pb-12",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[e.map((n,s)=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-[#9f1239] font-bold text-lg mb-6 uppercase tracking-wider border-b-2 border-[#9f1239]/10 pb-2 inline-block",children:n.title}),f.jsx("ul",{className:"space-y-3",children:n.links.map((r,o)=>f.jsx("li",{children:r.path?f.jsxs(pt,{to:r.path,className:"group flex items-center text-sm font-medium hover:text-[#9f1239] transition-all duration-300",children:[f.jsx(of,{className:"w-3 h-3 text-slate-400 group-hover:text-[#9f1239] mr-2 transition-transform group-hover:translate-x-1"}),r.name]}):f.jsxs("a",{href:r.url,target:"_blank",rel:"noreferrer",className:"group flex items-center text-sm font-medium hover:text-[#9f1239] transition-all duration-300",children:[f.jsx(of,{className:"w-3 h-3 text-slate-400 group-hover:text-[#9f1239] mr-2 transition-transform group-hover:translate-x-1"}),r.name]})},o))})]},s)),f.jsxs("div",{children:[f.jsx("h3",{className:"text-[#9f1239] font-bold text-lg mb-6 uppercase tracking-wider border-b-2 border-[#9f1239]/10 pb-2 inline-block",children:"Contact Us"}),f.jsxs("ul",{className:"space-y-4 text-sm mb-8",children:[f.jsxs("li",{className:"flex items-start gap-3",children:[f.jsx(Ju,{className:"text-[#9f1239] w-5 h-5 shrink-0 mt-0.5"}),f.jsxs("span",{className:"leading-relaxed text-slate-600",children:["Municipal Corporation Headquarters,",f.jsx("br",{}),"Main Administrative Building,",f.jsx("br",{}),"Maharashtra, India - 411 001."]})]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx(HO,{className:"text-[#9f1239] w-5 h-5 shrink-0"}),f.jsx("a",{href:"tel:18001030222",className:"hover:text-[#9f1239] font-bold",children:"1800 103 0222 (Toll Free)"})]}),f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx(FO,{className:"text-[#9f1239] w-5 h-5 shrink-0"}),f.jsx("a",{href:"mailto:ujwalramteke8739@gmail.com",className:"hover:text-[#9f1239]",children:"ujwalramteke8739@gmail.com"})]})]}),f.jsxs("div",{className:"bg-white p-1 rounded-lg border border-slate-200 shadow-sm flex items-center mb-6",children:[f.jsx("input",{type:"email",placeholder:"Subscribe to updates...",className:"w-full px-3 py-2 text-sm outline-none text-slate-700 bg-transparent placeholder:text-slate-400"}),f.jsx("button",{className:"bg-[#9f1239] hover:bg-[#881337] text-white p-2 rounded-md transition-colors",children:f.jsx(Py,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex gap-3",children:[{icon:eM,link:"https://www.linkedin.com/in/ujwal-ramteke-082209262"},{icon:JO,link:"https://github.com/UjwalRamteke8"},{icon:tM,link:"#"},{icon:MZ,link:"#"},{icon:ZO,link:"#"}].map((n,s)=>f.jsx("a",{href:n.link,target:"_blank",rel:"noreferrer",className:"w-9 h-9 rounded-lg bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:bg-[#9f1239] hover:text-white hover:border-[#9f1239] transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1",children:f.jsx(n.icon,{})},s))})]})]})}),f.jsx("div",{className:"bg-slate-100 border-t border-slate-200 py-6",children:f.jsxs("div",{className:"container mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-500",children:[f.jsxs("div",{className:"text-center md:text-left space-y-1",children:[f.jsxs("p",{className:"font-semibold text-slate-700",children:[" ",new Date().getFullYear()," Municipal Corporation. All Rights Reserved."]}),f.jsxs("p",{children:["Last Updated:"," ",f.jsx("span",{className:"text-slate-700",children:new Date().toLocaleDateString()})]})]}),f.jsx("div",{className:"flex items-center gap-6",children:f.jsxs("div",{className:"text-center bg-white px-4 py-1 rounded-full border border-slate-200 shadow-sm",children:[f.jsx("span",{className:"text-slate-400 mr-2",children:"Total Visitors:"}),f.jsx("span",{className:"font-mono font-bold text-[#9f1239] text-sm tracking-widest",children:"6,38,371"})]})}),f.jsx("div",{className:"text-center md:text-right",children:f.jsxs("p",{className:"flex items-center justify-center md:justify-end gap-1",children:["Designed & Developed by"," ",f.jsx("a",{href:"https://github.com/UjwalRamteke8",target:"_blank",rel:"noreferrer",className:"font-bold text-[#9f1239] hover:underline",children:"Ujwal Ramteke"})]})})]})}),f.jsx("button",{onClick:t,className:"fixed bottom-8 right-8 bg-[#9f1239] hover:bg-[#881337] text-white p-3 rounded-full shadow-lg shadow-red-900/30 transition-all hover:-translate-y-1 z-50 group",title:"Back to Top",children:f.jsx(BX,{className:"w-5 h-5 group-hover:animate-bounce"})})]})};function sM({size:t=24,className:e=""}){const n=typeof t=="number"?t:parseInt(t);return f.jsx("div",{className:`inline-flex items-center justify-center ${e}`,style:{width:n,height:n},role:"status","aria-label":"processing",children:f.jsx(cf,{size:n,className:"text-[#9f1239] animate-pulse",strokeWidth:1.8})})}const Pi=({children:t,requiredRole:e})=>{const{currentUser:n,loading:s}=Ry(),r=xi();if(s)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(sM,{})});if(!n)return f.jsx(L2,{to:"/citizenlogin",state:{from:r},replace:!0});if(e){const o=JSON.parse(localStorage.getItem("user")),l=o==null?void 0:o.role;if(e==="admin"&&l!=="admin"&&l!=="staff")return f.jsx(L2,{to:"/dashboard",replace:!0})}return t},FZ=()=>f.jsx("main",{className:"grid min-h-screen place-items-center bg-slate-50 px-6 py-24 sm:py-32 lg:px-8",children:f.jsxs("div",{className:"text-center max-w-md mx-auto",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("div",{className:"p-4 bg-red-50 rounded-full",children:f.jsx(BJ,{className:"w-16 h-16 text-[#9f1239]"})})}),f.jsx("p",{className:"text-base font-bold text-[#9f1239] uppercase tracking-wide",children:"404 Error"}),f.jsx("h1",{className:"mt-4 text-4xl font-extrabold tracking-tight text-slate-900 sm:text-5xl font-serif",children:"Page not found"}),f.jsx("p",{className:"mt-6 text-lg leading-7 text-slate-600",children:"Sorry, we couldnt find the page youre looking for. It might have been moved or doesn't exist on the portal."}),f.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsxs(pt,{to:"/",className:"w-full sm:w-auto rounded-lg bg-[#9f1239] px-6 py-3 text-sm font-bold text-white shadow-lg shadow-red-900/20 hover:bg-[#881337] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#9f1239] transition-all flex items-center justify-center gap-2",children:[f.jsx(MO,{className:"w-4 h-4"})," Go back home"]}),f.jsxs(pt,{to:"/contact",className:"w-full sm:w-auto rounded-lg px-6 py-3 text-sm font-bold text-slate-700 hover:text-[#9f1239] hover:bg-white border border-transparent hover:border-slate-200 transition-all flex items-center justify-center gap-2",children:["Contact support ",f.jsx(Co,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"mt-12 border-t border-slate-200 pt-8",children:f.jsx("p",{className:"text-xs text-slate-400",children:"Municipal Corporation Official Portal"})})]})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zZ(t,e,n,s){function r(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(y){try{m(s.next(y))}catch(_){l(_)}}function d(y){try{m(s.throw(y))}catch(_){l(_)}}function m(y){y.done?o(y.value):r(y.value).then(u,d)}m((s=s.apply(t,[])).next())})}function BZ(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(m){return function(y){return d([m,y])}}function d(m){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(o=m[0]&2?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(y){m=[6,y],r=0}finally{s=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var su=function(){return su=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},su.apply(this,arguments)},iM=function(t){return{loading:t==null,value:t}},qZ=function(){return function(t,e){switch(e.type){case"error":return su(su({},t),{error:e.error,loading:!1,value:void 0});case"reset":return iM(e.defaultValue);case"value":return su(su({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},HZ=(function(t){var e=t?t():void 0,n=D.useReducer(qZ(),iM(e)),s=n[0],r=n[1],o=D.useCallback(function(){var d=t?t():void 0;r({type:"reset",defaultValue:d})},[t]),l=D.useCallback(function(d){r({type:"error",error:d})},[]),u=D.useCallback(function(d){r({type:"value",value:d})},[]);return D.useMemo(function(){return{error:s.error,loading:s.loading,reset:o,setError:l,setValue:u,value:s.value}},[s.error,s.loading,o,l,u,s.value])}),GZ=(function(t,e){var n=HZ(function(){return t.currentUser}),s=n.error,r=n.loading,o=n.setError,l=n.setValue,u=n.value;return D.useEffect(function(){var d=ay(t,function(m){return zZ(void 0,void 0,void 0,function(){var y;return BZ(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return _.sent(),[3,4];case 3:return y=_.sent(),o(y),[3,4];case 4:return l(m),[2]}})})},o);return function(){d()}},[t]),[u,r,s]});const $Z=()=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:50,damping:20}}};return f.jsxs("section",{className:"relative overflow-hidden bg-slate-900 text-white min-h-[700px] flex items-center",children:[f.jsxs("div",{className:"absolute inset-0 z-0 select-none",children:[f.jsx(_e.div,{initial:{scale:1.1},animate:{scale:1},transition:{duration:10,ease:"easeOut"},className:"w-full h-full",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1577086664693-894553052526?q=80&w=2070&auto=format&fit=crop",alt:"City Infrastructure",className:"w-full h-full object-cover opacity-50"})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/90 to-slate-900/30"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent"})]}),f.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 flex flex-col md:flex-row items-center",children:f.jsxs(_e.div,{variants:t,initial:"hidden",animate:"visible",className:"max-w-4xl space-y-8 text-center md:text-left",children:[f.jsx(_e.div,{variants:e,className:"flex justify-center md:justify-start",children:f.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#9f1239]/20 border border-[#9f1239]/50 text-red-200 text-xs font-bold tracking-widest uppercase backdrop-blur-md shadow-lg shadow-red-900/10",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Official Municipal Portal"]})}),f.jsxs(_e.h1,{variants:e,className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold tracking-tight leading-[1.1]",children:["Building a ",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-slate-200 to-slate-400",children:"Smarter City"})]}),f.jsx(_e.p,{variants:e,className:"text-lg sm:text-xl text-slate-300 max-w-2xl mx-auto md:mx-0 leading-relaxed font-light border-l-4 border-[#9f1239] pl-6",children:"Empowering citizens with seamless digital services. Experience transparent governance, pay taxes instantly, and track city developments in real-time."}),f.jsxs(_e.div,{variants:e,className:"flex flex-col sm:flex-row gap-5 pt-4 justify-center md:justify-start",children:[f.jsx(pt,{to:"/citizen-services",children:f.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"group relative w-full sm:w-auto px-8 py-4 bg-[#9f1239] hover:bg-[#881337] text-white rounded-xl font-bold shadow-xl shadow-red-900/30 overflow-hidden flex items-center justify-center gap-3 transition-all",children:[f.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"}),f.jsx("span",{children:"Citizen Services"}),f.jsx(Co,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),f.jsx(pt,{to:"/staff-login",children:f.jsxs(_e.button,{whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},whileTap:{scale:.95},className:"w-full sm:w-auto px-8 py-4 bg-white/5 border border-white/10 text-white rounded-xl font-semibold backdrop-blur-md flex items-center justify-center gap-3 transition-all hover:border-white/30",children:[f.jsx(Qg,{className:"w-5 h-5 text-slate-300"}),f.jsx("span",{children:"Department Login"})]})})]})]})}),f.jsxs(_e.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"absolute bottom-0 left-0 right-0 bg-slate-950/80 border-t border-white/5 backdrop-blur-lg hidden md:flex items-center py-3 px-8 text-sm text-slate-300 z-20",children:[f.jsxs("div",{className:"flex items-center gap-3 border-r border-white/10 pr-6 mr-6",children:[f.jsx(KX,{className:"w-4 h-4 text-[#9f1239]"}),f.jsx("span",{className:"font-bold text-white uppercase tracking-wider text-xs",children:"Live Updates"})]}),f.jsx("div",{className:"flex-1 overflow-hidden relative h-6",children:f.jsxs(_e.div,{animate:{x:["100%","-100%"]},transition:{repeat:1/0,duration:20,ease:"linear"},className:"absolute whitespace-nowrap flex gap-12",children:[f.jsx("span",{className:"flex items-center gap-2",children:" Property Tax filing deadline extended to Dec 31st"}),f.jsx("span",{className:"flex items-center gap-2",children:" New water pipeline maintenance scheduled for Zone 4"}),f.jsx("span",{className:"flex items-center gap-2",children:" Smart City Hackathon winners announced"})]})}),f.jsxs(pt,{to:"/announcements",className:"text-xs font-bold text-white/70 hover:text-white flex items-center gap-1 ml-4 transition-colors",children:["View All ",f.jsx(of,{className:"w-3 h-3"})]})]})]})},rM=()=>{const t=Rs(),{currentUser:e}=Ry(),n=r=>{e?t(r):t("/citizenlogin",{state:{from:r}})},s=[{icon:f.jsx(yi,{className:"w-7 h-7"}),title:"File Complaint",description:"Report civic issues directly to the administration.",path:"/complaints/new"},{icon:f.jsx(yi,{className:"w-7 h-7"}),title:"Upload Photo",description:"Report civic issues directly to the administration.",path:"/gallery/upload-photo"},{icon:f.jsx(WO,{className:"w-7 h-7"}),title:"Request Service",description:"Water, drainage, and road repair requests.",path:"/services/request"},{icon:f.jsx(Vw,{className:"w-7 h-7"}),title:"Certificates",description:"Birth, Death, and Marriage registration services.",path:"/certificates"},{icon:f.jsx(yi,{className:"w-7 h-7"}),title:"Gallery Access",description:"City media and public uploads.",path:"/gallery"},{icon:f.jsx(yi,{className:"w-7 h-7"}),title:"Licenses & Permits",description:"Apply for trade licenses and building permits.",path:"/licenses"}];return f.jsx("section",{className:"py-16 px-4 md:px-8 bg-slate-50",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 font-serif mb-3",children:"Citizen Services"}),f.jsx("p",{className:"text-slate-600 text-lg max-w-2xl mx-auto",children:"Convenient digital services to save your time and improve city governance."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((r,o)=>f.jsx(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.1},whileHover:{y:-5},children:f.jsx("button",{type:"button",onClick:()=>n(r.path),className:"block h-full text-left",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 h-full flex flex-col items-center text-center transition-all duration-300 hover:shadow-xl hover:border-[#9f1239]/30 group",children:[f.jsx("div",{className:"w-14 h-14 bg-red-50 text-[#9f1239] rounded-full flex items-center justify-center mb-5 group-hover:bg-[#9f1239] group-hover:text-white transition-colors duration-300",children:r.icon}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2 group-hover:text-[#9f1239] transition-colors",children:r.title}),f.jsx("p",{className:"text-slate-500 text-sm mb-6 flex-grow",children:r.description}),f.jsxs("div",{className:"flex items-center text-[#9f1239] font-bold text-sm tracking-wide uppercase mt-auto group-hover:gap-2 transition-all",children:["Access Now ",f.jsx(Co,{className:"w-4 h-4 ml-1"})]})]})})},o))})]})})},KZ=()=>{const t=[{title:"Report an Issue",icon:f.jsx(kO,{className:"w-10 h-10"}),link:"/services/new"},{title:"Share Your Suggestion / Query",icon:f.jsx(BO,{className:"w-10 h-10"}),link:"/feedback"},{title:"Share Your Feedback",icon:f.jsx(uZ,{className:"w-10 h-10"}),link:"/feedback"}];return f.jsx("section",{className:"py-20 px-4 md:px-8 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12",children:[f.jsx("div",{className:"md:w-1/4",children:f.jsxs("h2",{className:"text-4xl font-bold text-slate-900 font-serif leading-tight",children:["Citizen ",f.jsx("br",{})," ",f.jsx("span",{className:"text-[#9f1239]",children:"Connect"})]})}),f.jsx("div",{className:"md:w-3/4 grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:t.map((e,n)=>f.jsx(pt,{to:e.link,children:f.jsxs(_e.div,{whileHover:{y:-5},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},className:"flex items-center gap-4 p-8 rounded-2xl bg-gray-50 border border-slate-100 hover:shadow-xl hover:bg-white transition-all cursor-pointer",children:[f.jsx("div",{className:"text-[#9f1239] opacity-80",children:e.icon}),f.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-snug",children:e.title})]})},n))})]})})},WZ=({src:t,alt:e,name:n})=>{const[s,r]=D.useState(!1);return s||!t?f.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-20 w-full px-2",children:[f.jsx(Qg,{className:"w-8 h-8 text-slate-300 mb-2"}),f.jsx("span",{className:"text-xs font-bold text-slate-500 leading-tight",children:n})]}):f.jsx("img",{className:"max-h-16 w-auto object-contain filter grayscale opacity-60 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-500",src:t,alt:e,onError:()=>r(!0)})};function QZ(){const t=[{name:"Jalgaon Municipal Corporation",url:"https://www.jcmc.gov.in/",logo:"/images/Jalgaon Logo.png"},{name:"Pune Municipal Corporation",url:"https://www.pmc.gov.in/en",logo:"/images/PMC logo.webp"},{name:"Chh. Sambhajinagar Municipal Corporation",url:"https://chhsambhajinagarmc.org/",logo:"/images/CSMC logo.jpeg"},{name:"Nagpur Municipal Corporation",url:"https://nmcnagpur.gov.in",logo:"/images/NMC logo.png"},{name:"Nashik Municipal Corporation",url:"https://nmc.gov.in/",logo:"/images/Nashik logo.png"}];return f.jsxs("section",{className:"relative py-16 bg-white border-t border-slate-100 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none bg-[radial-gradient(#9f1239_1px,transparent_1px)] [background-size:16px_16px]"}),f.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8 relative z-10",children:[f.jsxs(_e.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[f.jsx("span",{className:"text-xs font-bold text-[#9f1239] tracking-[0.2em] uppercase bg-red-50 px-3 py-1 rounded-full border border-red-100",children:"Strategic Partners"}),f.jsx("h2",{className:"mt-4 text-2xl font-bold text-slate-900 sm:text-3xl font-serif",children:"Collaborating with Major Corporations"})]}),f.jsx("div",{className:"mx-auto grid max-w-lg grid-cols-2 items-center gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-3 sm:gap-x-8 lg:mx-0 lg:max-w-none lg:grid-cols-5",children:t.map((e,n)=>f.jsx(_e.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:n*.1},className:"flex justify-center",children:f.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"group relative flex flex-col items-center justify-center w-full h-32 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-xl hover:border-[#9f1239]/20 transition-all duration-300 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#9f1239]/0 to-[#9f1239]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),f.jsx(WZ,{src:e.logo,alt:e.name,name:e.name}),f.jsxs("div",{className:"absolute bottom-2 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 flex items-center gap-1 text-[10px] font-bold text-[#9f1239] uppercase tracking-wide",children:["Visit Site ",f.jsx(mJ,{className:"w-3 h-3"})]})]})},n))})]})]})}const jr=[{id:1,src:"https://images.unsplash.com/photo-1577086664693-894553052526?q=80&w=2070&auto=format&fit=crop",alt:"City Administration",title:"Municipal Corporation",subtitle:"Empowering citizens with seamless digital services and sustainable infrastructure for a better tomorrow.",cta:"View Services",link:"/services/new"},{id:2,src:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop",alt:"Smart City",title:"Digital Governance",subtitle:"Experience the future of urban living with our transparent, efficient, and accessible e-governance portal.",cta:"Citizen Login",link:"/citizenlogin"},{id:3,src:"https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?q=80&w=2070&auto=format&fit=crop",alt:"Green Infrastructure",title:"Sustainable Development",subtitle:"Building a greener, cleaner city through community participation and modern urban planning.",cta:"View Projects",link:"/about"}],YZ=()=>{const[t,e]=D.useState(0),[n,s]=D.useState(0),[r,o]=D.useState(!0),l=D.useRef(null),u={enter:y=>({x:y>0?1e3:-1e3,opacity:0,scale:1.1}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:y=>({zIndex:0,x:y<0?1e3:-1e3,opacity:0,scale:1})},d=()=>{s(1),e(y=>y===jr.length-1?0:y+1)},m=()=>{s(-1),e(y=>y===0?jr.length-1:y-1)};return D.useEffect(()=>(r&&(l.current=setTimeout(d,6e3)),()=>clearTimeout(l.current)),[t,r]),f.jsxs("div",{className:"relative w-full h-[600px] lg:h-[750px] overflow-hidden bg-slate-900 group",onMouseEnter:()=>o(!1),onMouseLeave:()=>o(!0),children:[f.jsx(Gl,{initial:!1,custom:n,children:f.jsxs(_e.div,{custom:n,variants:u,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.4},scale:{duration:.4}},className:"absolute inset-0 w-full h-full",children:[f.jsx("img",{src:jr[t].src,alt:jr[t].alt,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"max-w-7xl w-full px-6 flex flex-col items-center md:items-start text-center md:text-left text-white mt-16",children:[f.jsx(_e.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"inline-block py-1.5 px-4 rounded-full bg-[#9f1239]/90 border border-white/20 backdrop-blur-md text-xs font-bold tracking-widest uppercase mb-6 shadow-lg",children:"Official Portal"}),f.jsx(_e.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-4xl md:text-6xl lg:text-7xl font-bold leading-tight mb-6 drop-shadow-2xl",children:jr[t].title}),f.jsx(_e.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"text-lg md:text-xl text-gray-200 max-w-2xl mb-8 leading-relaxed drop-shadow-md font-light",children:jr[t].subtitle}),f.jsx(_e.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:f.jsx(pt,{to:jr[t].link,children:f.jsxs("button",{className:"px-8 py-4 bg-[#9f1239] hover:bg-[#881337] text-white rounded-lg font-bold flex items-center gap-3 transition-all transform hover:scale-105 active:scale-95 shadow-xl shadow-red-900/30 ring-2 ring-white/10 hover:ring-white/30",children:[jr[t].cta," ",f.jsx(Co,{className:"w-5 h-5"})]})})})]})})]},t)}),f.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/30 hover:bg-[#9f1239] text-white backdrop-blur-sm border border-white/10 transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden md:block",children:f.jsx(nJ,{className:"w-6 h-6"})}),f.jsx("button",{onClick:d,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/30 hover:bg-[#9f1239] text-white backdrop-blur-sm border border-white/10 transition-all opacity-0 group-hover:opacity-100 hover:scale-110 hidden md:block",children:f.jsx(of,{className:"w-6 h-6"})}),f.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-10",children:jr.map((y,_)=>f.jsx("button",{onClick:()=>{s(_>t?1:-1),e(_)},className:`h-2 transition-all rounded-full ${t===_?"w-8 bg-[#9f1239]":"w-2 bg-white/50 hover:bg-white"}`},_))})]})},XZ=()=>{const t=[{label:"Fire Brigade",icon:f.jsx(xJ,{className:"w-8 h-8"}),link:"https://mahafireservice.gov.in/"},{label:"Ambulance",icon:f.jsx(UX,{className:"w-8 h-8"}),link:"https://112.gov.in/"},{label:"Emergency Numbers",icon:f.jsx(zw,{className:"w-8 h-8"}),link:"https://112.gov.in/"},{label:"Police",icon:f.jsx(tZ,{className:"w-8 h-8"}),link:"https://dial112.mahapolice.gov.in/CitizenPortal-Maharashtra/dial-112"},{label:"Hospitals",icon:f.jsx(iZ,{className:"w-8 h-8"}),link:"https://112.gov.in/"},{label:"Blood Bank",icon:f.jsx(Uw,{className:"w-8 h-8"}),link:"https://ors.gov.in/ebloodbankportal/"}];return f.jsx("section",{className:"py-16 px-4 md:px-8 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 font-serif mb-2",children:"Important Services and Contacts"}),f.jsx("div",{className:"h-1 w-24 bg-[#9f1239] mx-auto rounded-full"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:t.map((e,n)=>f.jsx(_e.a,{href:e.link,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:n*.1},whileHover:{scale:1.02},className:"group cursor-pointer block",children:f.jsxs("div",{className:"h-32 flex flex-col items-center justify-center rounded-2xl border-2 border-slate-200 bg-gray-50 hover:bg-white hover:border-[#9f1239] hover:shadow-xl transition-all duration-300",children:[f.jsx("div",{className:"mb-2 text-slate-600 group-hover:text-[#9f1239] transition-colors",children:e.icon}),f.jsx("span",{className:"text-lg font-bold text-slate-800 group-hover:text-[#9f1239] transition-colors",children:e.label})]})},n))})]})})},JZ=()=>{const t=[{label:"Track Application",path:"/services/tracker",icon:f.jsx(lf,{className:"w-5 h-5"})},{label:"Tenders & Notices",path:"/announcements",icon:f.jsx(zO,{className:"w-5 h-5"})},{label:"Smart City Dashboard",path:"/iot",icon:f.jsx(NO,{className:"w-5 h-5"})},{label:"Grievance Redressal",path:"/chat",icon:f.jsx(qO,{className:"w-5 h-5"})}];return f.jsx("section",{className:"py-12 px-4 md:px-8 bg-slate-100 border-y border-slate-200",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8",children:f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-8 bg-[#9f1239] rounded-sm"}),"Quick Access"]})}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,n)=>f.jsx(_e.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:n*.1},whileHover:{y:-2},children:f.jsxs(pt,{to:e.path,className:"flex items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200 hover:border-[#9f1239] hover:shadow-md transition-all duration-200 group",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-slate-500 group-hover:bg-[#9f1239] group-hover:text-white transition-colors",children:e.icon}),f.jsx("span",{className:"font-semibold text-slate-700 group-hover:text-[#9f1239] transition-colors",children:e.label})]})},n))})]})})},aM=()=>{const t=[{id:1,title:"Water Supply Disruption in Zone A",date:"2024-01-15",category:"Alert",description:"Due to emergency pipeline repairs, water supply will be affected from 10 AM to 4 PM in Sector 7 and 8.",type:"urgent"},{id:2,title:"Property Tax Amnesty Scheme 2024",date:"2024-01-14",category:"Taxation",description:"Avail 75% waiver on interest for outstanding property tax payments. Offer valid till March 31st.",type:"info"},{id:3,title:"New City Park Inauguration",date:"2024-01-13",category:"Events",description:"Join us for the opening of the new Green Belt Park at Shivaji Nagar. Chief Guest: Municipal Commissioner.",type:"event"}],e=s=>{switch(s){case"urgent":return f.jsx(gx,{className:"w-5 h-5 text-red-600"});case"info":return f.jsx(yi,{className:"w-5 h-5 text-blue-600"});default:return f.jsx(zO,{className:"w-5 h-5 text-orange-600"})}},n=s=>{switch(s){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-orange-100 text-orange-800 border-orange-200"}};return f.jsx("section",{className:"py-16 bg-slate-50 border-t border-slate-200",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"h-8 w-1 bg-[#9f1239]"}),f.jsx("h2",{className:"text-3xl font-bold text-slate-900 font-serif",children:"Official Announcements"})]}),f.jsx("p",{className:"text-slate-600 ml-3",children:"Stay updated with the latest news, tenders, and public notices."})]}),f.jsxs(pt,{to:"/announcements",className:"inline-flex items-center gap-2 text-[#9f1239] font-bold hover:text-[#881337] transition-colors border-b-2 border-transparent hover:border-[#9f1239]",children:["View All Archive ",f.jsx(Co,{className:"w-4 h-4"})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((s,r)=>f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},whileHover:{y:-5},className:"bg-white rounded-xl shadow-sm hover:shadow-xl border border-slate-200 overflow-hidden flex flex-col h-full transition-all duration-300",children:[f.jsxs("div",{className:"p-6 flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ${n(s.type)}`,children:s.category}),f.jsxs("div",{className:"flex items-center text-slate-400 text-xs font-medium",children:[f.jsx(IO,{className:"w-3 h-3 mr-1"}),new Date(s.date).toLocaleDateString()]})]}),f.jsxs("div",{className:"flex gap-3 mb-3",children:[f.jsx("div",{className:"mt-1 flex-shrink-0",children:e(s.type)}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 leading-snug hover:text-[#9f1239] transition-colors cursor-pointer",children:s.title})]}),f.jsx("p",{className:"text-slate-600 text-sm leading-relaxed pl-8",children:s.description})]}),f.jsx("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end",children:f.jsxs(pt,{to:`/announcements/${s.id}`,className:"text-sm font-bold text-[#9f1239] flex items-center group",children:["Read Details"," ",f.jsx(Co,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]},s.id))})]})})};function ZZ(){return f.jsx(aM,{})}function oM(t,e){return function(){return t.apply(e,arguments)}}const{toString:eee}=Object.prototype,{getPrototypeOf:Bw}=Object,{iterator:Vy,toStringTag:lM}=Symbol,Uy=(t=>e=>{const n=eee.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wi=t=>(t=t.toLowerCase(),e=>Uy(e)===t),Fy=t=>e=>typeof e===t,{isArray:Zu}=Array,Ou=Fy("undefined");function Ff(t){return t!==null&&!Ou(t)&&t.constructor!==null&&!Ou(t.constructor)&&ps(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cM=wi("ArrayBuffer");function tee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cM(t.buffer),e}const nee=Fy("string"),ps=Fy("function"),uM=Fy("number"),zf=t=>t!==null&&typeof t=="object",see=t=>t===!0||t===!1,ig=t=>{if(Uy(t)!=="object")return!1;const e=Bw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lM in t)&&!(Vy in t)},iee=t=>{if(!zf(t)||Ff(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ree=wi("Date"),aee=wi("File"),oee=wi("Blob"),lee=wi("FileList"),cee=t=>zf(t)&&ps(t.pipe),uee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ps(t.append)&&((e=Uy(t))==="formdata"||e==="object"&&ps(t.toString)&&t.toString()==="[object FormData]"))},hee=wi("URLSearchParams"),[dee,fee,mee,pee]=["ReadableStream","Request","Response","Headers"].map(wi),gee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Zu(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Ff(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(s=0;s<l;s++)u=o[s],e.call(null,t[u],u,t)}}function hM(t,e){if(Ff(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dM=t=>!Ou(t)&&t!==bl;function yx(){const{caseless:t,skipUndefined:e}=dM(this)&&this||{},n={},s=(r,o)=>{const l=t&&hM(n,o)||o;ig(n[l])&&ig(r)?n[l]=yx(n[l],r):ig(r)?n[l]=yx({},r):Zu(r)?n[l]=r.slice():(!e||!Ou(r))&&(n[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Bf(arguments[r],s);return n}const yee=(t,e,n,{allOwnKeys:s}={})=>(Bf(e,(r,o)=>{n&&ps(r)?t[o]=oM(r,n):t[o]=r},{allOwnKeys:s}),t),vee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_ee=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},bee=(t,e,n,s)=>{let r,o,l;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!s||s(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Bw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xee=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},wee=t=>{if(!t)return null;if(Zu(t))return t;let e=t.length;if(!uM(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Tee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Bw(Uint8Array)),Eee=(t,e)=>{const s=(t&&t[Vy]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},See=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Aee=wi("HTMLFormElement"),Cee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),jR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Nee=wi("RegExp"),fM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Bf(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(s[o]=l||r)}),Object.defineProperties(t,s)},Ree=t=>{fM(t,(e,n)=>{if(ps(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(ps(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Iee=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Zu(t)?s(t):s(String(t).split(e)),n},jee=()=>{},Dee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function kee(t){return!!(t&&ps(t.append)&&t[lM]==="FormData"&&t[Vy])}const Oee=t=>{const e=new Array(10),n=(s,r)=>{if(zf(s)){if(e.indexOf(s)>=0)return;if(Ff(s))return s;if(!("toJSON"in s)){e[r]=s;const o=Zu(s)?[]:{};return Bf(s,(l,u)=>{const d=n(l,r+1);!Ou(d)&&(o[u]=d)}),e[r]=void 0,o}}return s};return n(t,0)},Mee=wi("AsyncFunction"),Pee=t=>t&&(zf(t)||ps(t))&&ps(t.then)&&ps(t.catch),mM=((t,e)=>t?setImmediate:e?((n,s)=>(bl.addEventListener("message",({source:r,data:o})=>{r===bl&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),bl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ps(bl.postMessage)),Lee=typeof queueMicrotask<"u"?queueMicrotask.bind(bl):typeof process<"u"&&process.nextTick||mM,Vee=t=>t!=null&&ps(t[Vy]),Z={isArray:Zu,isArrayBuffer:cM,isBuffer:Ff,isFormData:uee,isArrayBufferView:tee,isString:nee,isNumber:uM,isBoolean:see,isObject:zf,isPlainObject:ig,isEmptyObject:iee,isReadableStream:dee,isRequest:fee,isResponse:mee,isHeaders:pee,isUndefined:Ou,isDate:ree,isFile:aee,isBlob:oee,isRegExp:Nee,isFunction:ps,isStream:cee,isURLSearchParams:hee,isTypedArray:Tee,isFileList:lee,forEach:Bf,merge:yx,extend:yee,trim:gee,stripBOM:vee,inherits:_ee,toFlatObject:bee,kindOf:Uy,kindOfTest:wi,endsWith:xee,toArray:wee,forEachEntry:Eee,matchAll:See,isHTMLForm:Aee,hasOwnProperty:jR,hasOwnProp:jR,reduceDescriptors:fM,freezeMethods:Ree,toObjectSet:Iee,toCamelCase:Cee,noop:jee,toFiniteNumber:Dee,findKey:hM,global:bl,isContextDefined:dM,isSpecCompliantForm:kee,toJSONObject:Oee,isAsyncFn:Mee,isThenable:Pee,setImmediate:mM,asap:Lee,isIterable:Vee};function Me(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}Z.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const pM=Me.prototype,gM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gM[t]={value:t}});Object.defineProperties(Me,gM);Object.defineProperty(pM,"isAxiosError",{value:!0});Me.from=(t,e,n,s,r,o)=>{const l=Object.create(pM);Z.toFlatObject(t,l,function(y){return y!==Error.prototype},m=>m!=="isAxiosError");const u=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return Me.call(l,u,d,n,s,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const Uee=null;function vx(t){return Z.isPlainObject(t)||Z.isArray(t)}function yM(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function DR(t,e,n){return t?t.concat(e).map(function(r,o){return r=yM(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Fee(t){return Z.isArray(t)&&!t.some(vx)}const zee=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function zy(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,N){return!Z.isUndefined(N[R])});const s=n.metaTokens,r=n.visitor||y,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(r))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(Z.isDate(S))return S.toISOString();if(Z.isBoolean(S))return S.toString();if(!d&&Z.isBlob(S))throw new Me("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(S)||Z.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,R,N){let M=S;if(S&&!N&&typeof S=="object"){if(Z.endsWith(R,"{}"))R=s?R:R.slice(0,-2),S=JSON.stringify(S);else if(Z.isArray(S)&&Fee(S)||(Z.isFileList(S)||Z.endsWith(R,"[]"))&&(M=Z.toArray(S)))return R=yM(R),M.forEach(function(L,$){!(Z.isUndefined(L)||L===null)&&e.append(l===!0?DR([R],$,o):l===null?R:R+"[]",m(L))}),!1}return vx(S)?!0:(e.append(DR(N,R,o),m(S)),!1)}const _=[],x=Object.assign(zee,{defaultVisitor:y,convertValue:m,isVisitable:vx});function E(S,R){if(!Z.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+R.join("."));_.push(S),Z.forEach(S,function(M,H){(!(Z.isUndefined(M)||M===null)&&r.call(e,M,Z.isString(H)?H.trim():H,R,x))===!0&&E(M,R?R.concat(H):[H])}),_.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return E(t),e}function kR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function qw(t,e){this._pairs=[],t&&zy(t,this,e)}const vM=qw.prototype;vM.append=function(e,n){this._pairs.push([e,n])};vM.toString=function(e){const n=e?function(s){return e.call(this,s,kR)}:kR;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Bee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _M(t,e,n){if(!e)return t;const s=n&&n.encode||Bee;Z.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=Z.isURLSearchParams(e)?e.toString():new qw(e,n).toString(s),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class OR{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(s){s!==null&&e(s)})}}const bM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qee=typeof URLSearchParams<"u"?URLSearchParams:qw,Hee=typeof FormData<"u"?FormData:null,Gee=typeof Blob<"u"?Blob:null,$ee={isBrowser:!0,classes:{URLSearchParams:qee,FormData:Hee,Blob:Gee},protocols:["http","https","file","blob","url","data"]},Hw=typeof window<"u"&&typeof document<"u",_x=typeof navigator=="object"&&navigator||void 0,Kee=Hw&&(!_x||["ReactNative","NativeScript","NS"].indexOf(_x.product)<0),Wee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qee=Hw&&window.location.href||"http://localhost",Yee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hw,hasStandardBrowserEnv:Kee,hasStandardBrowserWebWorkerEnv:Wee,navigator:_x,origin:Qee},Symbol.toStringTag,{value:"Module"})),Vn={...Yee,...$ee};function Xee(t,e){return zy(t,new Vn.classes.URLSearchParams,{visitor:function(n,s,r,o){return Vn.isNode&&Z.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Jee(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zee(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function xM(t){function e(n,s,r,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&Z.isArray(r)?r.length:l,d?(Z.hasOwnProp(r,l)?r[l]=[r[l],s]:r[l]=s,!u):((!r[l]||!Z.isObject(r[l]))&&(r[l]=[]),e(n,s,r[l],o)&&Z.isArray(r[l])&&(r[l]=Zee(r[l])),!u)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(s,r)=>{e(Jee(s),r,n,0)}),n}return null}function ete(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const qf={transitional:bM,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=Z.isObject(e);if(o&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return r?JSON.stringify(xM(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Xee(e,this.formSerializer).toString();if((u=Z.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),ete(e)):e}],transformResponse:[function(e){const n=this.transitional||qf.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(s&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{qf.headers[t]={}});const tte=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nte=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),s=l.substring(r+1).trim(),!(!n||e[n]&&tte[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},MR=Symbol("internals");function hd(t){return t&&String(t).trim().toLowerCase()}function rg(t){return t===!1||t==null?t:Z.isArray(t)?t.map(rg):String(t)}function ste(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const ite=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function z_(t,e,n,s,r){if(Z.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!Z.isString(e)){if(Z.isString(s))return e.indexOf(s)!==-1;if(Z.isRegExp(s))return s.test(e)}}function rte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function ate(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,l){return this[s].call(this,e,r,o,l)},configurable:!0})})}let gs=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(u,d,m){const y=hd(d);if(!y)throw new Error("header name must be a non-empty string");const _=Z.findKey(r,y);(!_||r[_]===void 0||m===!0||m===void 0&&r[_]!==!1)&&(r[_||d]=rg(u))}const l=(u,d)=>Z.forEach(u,(m,y)=>o(m,y,d));if(Z.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Z.isString(e)&&(e=e.trim())&&!ite(e))l(nte(e),n);else if(Z.isObject(e)&&Z.isIterable(e)){let u={},d,m;for(const y of e){if(!Z.isArray(y))throw TypeError("Object iterator must return a key-value pair");u[m=y[0]]=(d=u[m])?Z.isArray(d)?[...d,y[1]]:[d,y[1]]:y[1]}l(u,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=hd(e),e){const s=Z.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return ste(r);if(Z.isFunction(n))return n.call(this,r,s);if(Z.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hd(e),e){const s=Z.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||z_(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(l){if(l=hd(l),l){const u=Z.findKey(s,l);u&&(!n||z_(s,s[u],u,n))&&(delete s[u],r=!0)}}return Z.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||z_(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return Z.forEach(this,(r,o)=>{const l=Z.findKey(s,o);if(l){n[l]=rg(r),delete n[o];return}const u=e?rte(o):String(o).trim();u!==o&&delete n[o],n[u]=rg(r),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&Z.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[MR]=this[MR]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=hd(l);s[u]||(ate(r,l),s[u]=!0)}return Z.isArray(e)?e.forEach(o):o(e),this}};gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(gs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});Z.freezeMethods(gs);function B_(t,e){const n=this||qf,s=e||n,r=gs.from(s.headers);let o=s.data;return Z.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function wM(t){return!!(t&&t.__CANCEL__)}function eh(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(eh,Me,{__CANCEL__:!0});function TM(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ote(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lte(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),y=s[o];l||(l=m),n[r]=d,s[r]=m;let _=o,x=0;for(;_!==r;)x+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),m-l<e)return;const E=y&&m-y;return E?Math.round(x*1e3/E):void 0}}function cte(t,e){let n=0,s=1e3/e,r,o;const l=(m,y=Date.now())=>{n=y,r=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=s?l(m,y):(r=m,o||(o=setTimeout(()=>{o=null,l(r)},s-_)))},()=>r&&l(r)]}const Jg=(t,e,n=3)=>{let s=0;const r=lte(50,250);return cte(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-s,m=r(d),y=l<=u;s=l;const _={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:m||void 0,estimated:m&&u&&y?(u-l)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(_)},n)},PR=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},LR=t=>(...e)=>Z.asap(()=>t(...e)),ute=Vn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,hte=Vn.hasStandardBrowserEnv?{write(t,e,n,s,r,o,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];Z.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),Z.isString(s)&&u.push(`path=${s}`),Z.isString(r)&&u.push(`domain=${r}`),o===!0&&u.push("secure"),Z.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function dte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function EM(t,e,n){let s=!dte(e);return t&&(s||n==!1)?fte(t,e):e}const VR=t=>t instanceof gs?{...t}:t;function Kl(t,e){e=e||{};const n={};function s(m,y,_,x){return Z.isPlainObject(m)&&Z.isPlainObject(y)?Z.merge.call({caseless:x},m,y):Z.isPlainObject(y)?Z.merge({},y):Z.isArray(y)?y.slice():y}function r(m,y,_,x){if(Z.isUndefined(y)){if(!Z.isUndefined(m))return s(void 0,m,_,x)}else return s(m,y,_,x)}function o(m,y){if(!Z.isUndefined(y))return s(void 0,y)}function l(m,y){if(Z.isUndefined(y)){if(!Z.isUndefined(m))return s(void 0,m)}else return s(void 0,y)}function u(m,y,_){if(_ in e)return s(m,y);if(_ in t)return s(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,y,_)=>r(VR(m),VR(y),_,!0)};return Z.forEach(Object.keys({...t,...e}),function(y){const _=d[y]||r,x=_(t[y],e[y],y);Z.isUndefined(x)&&_!==u||(n[y]=x)}),n}const SM=t=>{const e=Kl({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=gs.from(l),e.url=_M(EM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Z.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Z.isFunction(n.getHeaders)){const d=n.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([y,_])=>{m.includes(y.toLowerCase())&&l.set(y,_)})}}if(Vn.hasStandardBrowserEnv&&(s&&Z.isFunction(s)&&(s=s(e)),s||s!==!1&&ute(e.url))){const d=r&&o&&hte.read(o);d&&l.set(r,d)}return e},mte=typeof XMLHttpRequest<"u",pte=mte&&function(t){return new Promise(function(n,s){const r=SM(t);let o=r.data;const l=gs.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:m}=r,y,_,x,E,S;function R(){E&&E(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(y),r.signal&&r.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function M(){if(!N)return;const L=gs.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),K={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:L,config:t,request:N};TM(function(j){n(j),R()},function(j){s(j),R()},K),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(s(new Me("Request aborted",Me.ECONNABORTED,t,N)),N=null)},N.onerror=function($){const K=$&&$.message?$.message:"Network Error",Q=new Me(K,Me.ERR_NETWORK,t,N);Q.event=$||null,s(Q),N=null},N.ontimeout=function(){let $=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const K=r.transitional||bM;r.timeoutErrorMessage&&($=r.timeoutErrorMessage),s(new Me($,K.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,N)),N=null},o===void 0&&l.setContentType(null),"setRequestHeader"in N&&Z.forEach(l.toJSON(),function($,K){N.setRequestHeader(K,$)}),Z.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),u&&u!=="json"&&(N.responseType=r.responseType),m&&([x,S]=Jg(m,!0),N.addEventListener("progress",x)),d&&N.upload&&([_,E]=Jg(d),N.upload.addEventListener("progress",_),N.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(y=L=>{N&&(s(!L||L.type?new eh(null,t,N):L),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(y),r.signal&&(r.signal.aborted?y():r.signal.addEventListener("abort",y)));const H=ote(r.url);if(H&&Vn.protocols.indexOf(H)===-1){s(new Me("Unsupported protocol "+H+":",Me.ERR_BAD_REQUEST,t));return}N.send(o||null)})},gte=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(m){if(!r){r=!0,u();const y=m instanceof Error?m:this.reason;s.abort(y instanceof Me?y:new eh(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=s;return d.unsubscribe=()=>Z.asap(u),d}},yte=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},vte=async function*(t,e){for await(const n of _te(t))yield*yte(n,e)},_te=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},UR=(t,e,n,s)=>{const r=vte(t,e);let o=0,l,u=d=>{l||(l=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:m,value:y}=await r.next();if(m){u(),d.close();return}let _=y.byteLength;if(n){let x=o+=_;n(x)}d.enqueue(new Uint8Array(y))}catch(m){throw u(m),m}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},FR=64*1024,{isFunction:Mp}=Z,bte=(({Request:t,Response:e})=>({Request:t,Response:e}))(Z.global),{ReadableStream:zR,TextEncoder:BR}=Z.global,qR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xte=t=>{t=Z.merge.call({skipUndefined:!0},bte,t);const{fetch:e,Request:n,Response:s}=t,r=e?Mp(e):typeof fetch=="function",o=Mp(n),l=Mp(s);if(!r)return!1;const u=r&&Mp(zR),d=r&&(typeof BR=="function"?(S=>R=>S.encode(R))(new BR):async S=>new Uint8Array(await new n(S).arrayBuffer())),m=o&&u&&qR(()=>{let S=!1;const R=new n(Vn.origin,{body:new zR,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!R}),y=l&&u&&qR(()=>Z.isReadableStream(new s("").body)),_={stream:y&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!_[S]&&(_[S]=(R,N)=>{let M=R&&R[S];if(M)return M.call(R);throw new Me(`Response type '${S}' is not supported`,Me.ERR_NOT_SUPPORT,N)})});const x=async S=>{if(S==null)return 0;if(Z.isBlob(S))return S.size;if(Z.isSpecCompliantForm(S))return(await new n(Vn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(S)||Z.isArrayBuffer(S))return S.byteLength;if(Z.isURLSearchParams(S)&&(S=S+""),Z.isString(S))return(await d(S)).byteLength},E=async(S,R)=>{const N=Z.toFiniteNumber(S.getContentLength());return N??x(R)};return async S=>{let{url:R,method:N,data:M,signal:H,cancelToken:L,timeout:$,onDownloadProgress:K,onUploadProgress:Q,responseType:j,headers:C,withCredentials:k="same-origin",fetchOptions:O}=SM(S),U=e||fetch;j=j?(j+"").toLowerCase():"text";let q=gte([H,L&&L.toAbortSignal()],$),P=null;const Je=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let _t;try{if(Q&&m&&N!=="get"&&N!=="head"&&(_t=await E(C,M))!==0){let z=new n(R,{method:"POST",body:M,duplex:"half"}),se;if(Z.isFormData(M)&&(se=z.headers.get("content-type"))&&C.setContentType(se),z.body){const[ue,ge]=PR(_t,Jg(LR(Q)));M=UR(z.body,FR,ue,ge)}}Z.isString(k)||(k=k?"include":"omit");const ne=o&&"credentials"in n.prototype,le={...O,signal:q,method:N.toUpperCase(),headers:C.normalize().toJSON(),body:M,duplex:"half",credentials:ne?k:void 0};P=o&&new n(R,le);let de=await(o?U(P,O):U(R,le));const ke=y&&(j==="stream"||j==="response");if(y&&(K||ke&&Je)){const z={};["status","statusText","headers"].forEach(Se=>{z[Se]=de[Se]});const se=Z.toFiniteNumber(de.headers.get("content-length")),[ue,ge]=K&&PR(se,Jg(LR(K),!0))||[];de=new s(UR(de.body,FR,ue,()=>{ge&&ge(),Je&&Je()}),z)}j=j||"text";let Ve=await _[Z.findKey(_,j)||"text"](de,S);return!ke&&Je&&Je(),await new Promise((z,se)=>{TM(z,se,{data:Ve,headers:gs.from(de.headers),status:de.status,statusText:de.statusText,config:S,request:P})})}catch(ne){throw Je&&Je(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,S,P),{cause:ne.cause||ne}):Me.from(ne,ne&&ne.code,S,P)}}},wte=new Map,AM=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let l=o.length,u=l,d,m,y=wte;for(;u--;)d=o[u],m=y.get(d),m===void 0&&y.set(d,m=u?new Map:xte(e)),y=m;return m};AM();const Gw={http:Uee,xhr:pte,fetch:{get:AM}};Z.forEach(Gw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HR=t=>`- ${t}`,Tte=t=>Z.isFunction(t)||t===null||t===!1;function Ete(t,e){t=Z.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let l=0;l<n;l++){s=t[l];let u;if(r=s,!Tte(s)&&(r=Gw[(u=String(s)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r&&(Z.isFunction(r)||(r=r.get(e))))break;o[u||"#"+l]=r}if(!r){const l=Object.entries(o).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(HR).join(`
`):" "+HR(l[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const CM={getAdapter:Ete,adapters:Gw};function q_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new eh(null,t)}function GR(t){return q_(t),t.headers=gs.from(t.headers),t.data=B_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),CM.getAdapter(t.adapter||qf.adapter,t)(t).then(function(s){return q_(t),s.data=B_.call(t,t.transformResponse,s),s.headers=gs.from(s.headers),s},function(s){return wM(s)||(q_(t),s&&s.response&&(s.response.data=B_.call(t,t.transformResponse,s.response),s.response.headers=gs.from(s.response.headers))),Promise.reject(s)})}const NM="1.13.2",By={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{By[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const $R={};By.transitional=function(e,n,s){function r(o,l){return"[Axios v"+NM+"] Transitional option '"+o+"'"+l+(s?". "+s:"")}return(o,l,u)=>{if(e===!1)throw new Me(r(l," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!$R[l]&&($R[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};By.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Ste(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new Me("option "+o+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const ag={assertOptions:Ste,validators:By},Li=ag.validators;let kl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new OR,response:new OR}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Kl(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&ag.assertOptions(s,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),r!=null&&(Z.isFunction(r)?n.paramsSerializer={serialize:r}:ag.assertOptions(r,{encode:Li.function,serialize:Li.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ag.assertOptions(n,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&Z.merge(o.common,o[n.method]);o&&Z.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=gs.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let y,_=0,x;if(!d){const S=[GR.bind(this),void 0];for(S.unshift(...u),S.push(...m),x=S.length,y=Promise.resolve(n);_<x;)y=y.then(S[_++],S[_++]);return y}x=u.length;let E=n;for(;_<x;){const S=u[_++],R=u[_++];try{E=S(E)}catch(N){R.call(this,N);break}}try{y=GR.call(this,E)}catch(S){return Promise.reject(S)}for(_=0,x=m.length;_<x;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=Kl(this.defaults,e);const n=EM(e.baseURL,e.url,e.allowAbsoluteUrls);return _M(n,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){kl.prototype[e]=function(n,s){return this.request(Kl(s||{},{method:e,url:n,data:(s||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(s){return function(o,l,u){return this.request(Kl(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}kl.prototype[e]=n(),kl.prototype[e+"Form"]=n(!0)});let Ate=class RM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{s.subscribe(u),o=u}).then(r);return l.cancel=function(){s.unsubscribe(o)},l},e(function(o,l,u){s.reason||(s.reason=new eh(o,l,u),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new RM(function(r){e=r}),cancel:e}}};function Cte(t){return function(n){return t.apply(null,n)}}function Nte(t){return Z.isObject(t)&&t.isAxiosError===!0}const bx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(bx).forEach(([t,e])=>{bx[e]=t});function IM(t){const e=new kl(t),n=oM(kl.prototype.request,e);return Z.extend(n,kl.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return IM(Kl(t,r))},n}const Rt=IM(qf);Rt.Axios=kl;Rt.CanceledError=eh;Rt.CancelToken=Ate;Rt.isCancel=wM;Rt.VERSION=NM;Rt.toFormData=zy;Rt.AxiosError=Me;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=Cte;Rt.isAxiosError=Nte;Rt.mergeConfig=Kl;Rt.AxiosHeaders=gs;Rt.formToJSON=t=>xM(Z.isHTMLForm(t)?new FormData(t):t);Rt.getAdapter=CM.getAdapter;Rt.HttpStatusCode=bx;Rt.default=Rt;const{Axios:Rne,AxiosError:Ine,CanceledError:jne,isCancel:Dne,CancelToken:kne,VERSION:One,all:Mne,Cancel:Pne,isAxiosError:Lne,spread:Vne,toFormData:Une,AxiosHeaders:Fne,HttpStatusCode:zne,formToJSON:Bne,getAdapter:qne,mergeConfig:Hne}=Rt,Rte=Rt.create({baseURL:"http://localhost:5000/api"});Rte.interceptors.request.use(async t=>{const n=cy().currentUser;if(n){const s=await n.getIdToken();t.headers.Authorization=`Bearer ${s}`}return t},t=>Promise.reject(t));function Ite(){const t=Rs(),e=cy(),[n]=GZ(e),s=l=>{n?t(l):t("/citizenlogin",{state:{from:l}})},r=[{title:"File Complaint",desc:"Report civic issues directly to the administration.",icon:f.jsx(yi,{size:32,className:"text-[#9f1239]"}),path:"/complaints/new"},{title:"Request Service",desc:"Water, drainage, and road repair requests.",icon:f.jsx(WO,{size:32,className:"text-[#9f1239]"}),path:"/services/request"},{title:"Track Status",desc:"Monitor your complaints and service requests.",icon:f.jsx(cJ,{size:32,className:"text-[#9f1239]"}),path:"/services/tracker"},{title:"Achievements",desc:"View municipality performance and initiatives.",icon:f.jsx(Vw,{size:32,className:"text-[#9f1239]"}),path:"/achievements"}],o=[{icon:f.jsx(My,{className:"w-8 h-8"}),title:"Transparent Tracking",description:"Real-time updates on your requests and complaints",color:"text-green-600 bg-green-50"},{icon:f.jsx(lf,{className:"w-8 h-8"}),title:"Quick Response",description:"Fast processing and resolution of your concerns",color:"text-blue-600 bg-blue-50"},{icon:f.jsx($O,{className:"w-8 h-8"}),title:"Smart Monitoring",description:"IoT-powered insights for better city management",color:"text-purple-600 bg-purple-50"}];return f.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[f.jsx(nM,{}),f.jsx($Z,{}),f.jsx(JZ,{}),f.jsx(YZ,{}),f.jsx(aM,{}),f.jsx("section",{className:"py-16 px-4 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Quick Access Services"}),f.jsx("p",{className:"text-gray-600 text-lg max-w-3xl mx-auto",children:"Access essential services with one click. Log in to unlock all features."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((l,u)=>f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},whileHover:{scale:1.05},className:"border border-slate-200 rounded-2xl p-8 hover:shadow-xl transition-all hover:-translate-y-1 bg-white flex flex-col items-center text-center group",children:[f.jsx("div",{className:"bg-rose-50 p-4 rounded-full mb-6 group-hover:bg-[#9f1239] transition-colors",children:f.jsx("div",{className:"group-hover:text-white transition-colors",children:l.icon})}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-3",children:l.title}),f.jsx("p",{className:"text-slate-500 text-sm mb-8 leading-relaxed",children:l.desc}),f.jsxs("button",{onClick:()=>s(l.path),className:"mt-auto text-[#9f1239] font-bold text-sm tracking-wide hover:text-rose-800 flex items-center gap-1 uppercase",children:["Access Now ",f.jsx("span",{className:"text-lg",children:""})]})]},u))})]})}),f.jsx(rM,{}),f.jsx(KZ,{}),f.jsx(XZ,{}),f.jsx(QZ,{}),f.jsx("section",{className:"py-16 px-4 md:px-12 bg-white",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Why Choose Us?"}),f.jsx("p",{className:"text-gray-600 text-lg max-w-3xl mx-auto",children:"Our portal serves citizens, staff and administrators with transparency, efficiency and accountability. From complaint tracking to service requests and live IoT dashboards  we bring public services into your hands."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((l,u)=>f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:u*.1},whileHover:{scale:1.05},className:"text-center p-8 rounded-2xl border border-gray-200 bg-gray-50 hover:bg-white hover:shadow-lg transition-all duration-300",children:[f.jsx("div",{className:`w-16 h-16 ${l.color} rounded-lg flex items-center justify-center mx-auto mb-4`,children:l.icon}),f.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:l.title}),f.jsx("p",{className:"text-gray-600",children:l.description})]},u))})]})})]})}const jte=()=>{const[t,e]=D.useState(""),[n,s]=D.useState(""),[r,o]=D.useState(""),[l,u]=D.useState(!1),d=Rs(),m=async _=>{_.preventDefault(),u(!0),o("");try{await Yx(hi,t,n),d("/")}catch{o("Invalid Email or Password. Please try again.")}finally{u(!1)}},y=async()=>{u(!0),o("");try{const _=new Vr;await j8(hi,_),d("/")}catch(_){console.error(_),o("Failed to sign in with Google. Please try again.")}finally{u(!1)}};return f.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:f.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 text-[#9f1239]",children:f.jsx(RJ,{size:28})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Citizen Login"}),f.jsx("p",{className:"text-slate-500 mt-2",children:"Access your municipal services"})]}),r&&f.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[f.jsx(ku,{size:16})," ",r]}),f.jsxs("form",{onSubmit:m,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#9f1239] focus:border-transparent outline-none transition-all",placeholder:"name@example.com",value:t,onChange:_=>e(_.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#9f1239] focus:border-transparent outline-none transition-all",placeholder:"",value:n,onChange:_=>s(_.target.value)})]}),f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-[#9f1239] hover:bg-[#881337] text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-red-900/20 disabled:opacity-70 disabled:cursor-not-allowed",children:l?"Signing In...":"Sign In"})]}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-gray-200"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),f.jsxs("button",{type:"button",onClick:y,disabled:l,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 hover:bg-gray-50 text-slate-700 font-medium py-3 rounded-lg transition-all shadow-sm disabled:opacity-70 disabled:cursor-not-allowed",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]}),f.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Don't have an account?"," ",f.jsx(pt,{to:"/register",className:"text-[#9f1239] font-bold hover:underline",children:"Register Here"})]})]})})};function Dte(){const[t,e]=D.useState({email:"",password:"",staff:"general"}),[n,s]=D.useState(!1),[r,o]=D.useState(""),[l,u]=D.useState(!1),d=Rs(),m=[{id:"general",name:"General Administration"},{id:"water",name:"Water Supply Dept"},{id:"health",name:"Public Health"},{id:"waste",name:"Waste Management"},{id:"planning",name:"Town Planning"}],y=async _=>{_.preventDefault(),s(!0),o("");try{const E=await(await Yx(hi,t.email,t.password)).user.getIdToken(),{data:S}=await Rt.post("http://localhost:5000/api/auth/verify-staff",{department:t.staff},{headers:{Authorization:`Bearer ${E}`}});localStorage.setItem("token",E),localStorage.setItem("user",JSON.stringify(S.user)),d("/dashboard")}catch{}};return f.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[f.jsx(_e.div,{className:"hidden lg:flex w-1/2 relative items-center justify-center p-12",children:f.jsx("div",{className:"relative z-10 max-w-lg text-center",children:f.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"PMC Staff Portal"})})}),f.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 relative z-10",children:f.jsx(_e.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"w-full max-w-md",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-2xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-white",children:"Staff Login"}),f.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"Enter your official credentials to access the dashboard"})]}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs(_e.div,{children:[f.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Select Department"}),f.jsx("div",{className:"relative",children:f.jsx("select",{className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white",value:t.staff,onChange:_=>e({...t,staff:_.target.value}),children:m.map(_=>f.jsx("option",{value:_.id,className:"bg-slate-900",children:_.name},_.id))})})]}),f.jsxs(_e.div,{children:[f.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Official Email"}),f.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white",value:t.email,onChange:_=>e({...t,email:_.target.value})})]}),f.jsxs(_e.div,{children:[f.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:l?"text":"password",required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white",value:t.password,onChange:_=>e({...t,password:_.target.value})}),f.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-3 text-slate-400",children:l?f.jsx(OO,{size:18}):f.jsx(Fw,{size:18})})]})]}),r&&f.jsxs("div",{className:"text-red-300 bg-red-500/20 p-4 rounded-xl text-sm flex gap-2",children:[f.jsx(ku,{size:18})," ",r]}),f.jsx(_e.button,{type:"submit",disabled:n,whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},className:"w-full bg-gradient-to-r from-[#9f1239] to-rose-700 text-white font-bold py-3.5 rounded-xl flex items-center justify-center gap-2 mt-6",children:n?f.jsxs(f.Fragment,{children:[f.jsx($l,{size:20,className:"animate-spin"})," Verifying..."]}):f.jsxs(f.Fragment,{children:["Access Dashboard ",f.jsx(Co,{size:20})]})})]})]})})})]})}const kte={async register(t){const{email:e,password:n,firstName:s,lastName:r,...o}=t,u=(await c8(hi,e,n)).user,d={uid:u.uid,email:e,firstName:s,lastName:r,fullName:`${s} ${r}`,...o,createdAt:new Date};return await rq(p_(E_,"users",u.uid),d),{user:d}},async login({email:t,password:e}){const s=(await Yx(hi,t,e)).user,r=await bC(p_(E_,"users",s.uid));if(!r.exists())throw new Error("User profile not found in Firestore.");return{user:r.data()}},async logout(){await x3(hi)},async getCurrentUser(){const t=hi.currentUser;if(!t)return null;try{const e=await bC(p_(E_,"users",t.uid));return e.exists()?e.data():null}catch(e){return console.error("Error fetching user profile:",e),null}},async getIdToken(t=!1){const e=hi.currentUser;if(!e)return null;try{return await e.getIdToken(t)}catch(n){return console.error("Error getting ID token:",n),null}},onAuthStateChanged(t){return ay(hi,t)}},dd=({label:t,icon:e,type:n="text",togglePassword:s,showPassword:r,...o})=>f.jsxs("div",{className:"mb-5 w-full",children:[t&&f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:t}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-colors duration-200 group-focus-within:text-indigo-600",children:f.jsx(e,{className:"h-5 w-5 text-gray-400 group-focus-within:text-indigo-500"})}),f.jsx("input",{type:n==="password"&&r?"text":n,...o,className:"w-full pl-10 pr-10 py-3.5 border border-gray-200 rounded-xl bg-gray-50/50 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 focus:bg-white transition-all duration-200 shadow-sm"}),n==="password"&&f.jsx("button",{type:"button",onClick:s,className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-gray-400 hover:text-indigo-600 transition-colors",children:r?f.jsx(OO,{className:"h-5 w-5"}):f.jsx(Fw,{className:"h-5 w-5"})})]})]});function Ote(){const t=Rs(),[e,n]=D.useState(!1),[s,r]=D.useState(""),[o,l]=D.useState(""),[u,d]=D.useState(!1),[m,y]=D.useState({firstName:"",lastName:"",gender:"Male",number:"",email:"",password:"",role:"citizen"}),_=S=>{y(R=>({...R,[S.target.name]:S.target.value}))},x=S=>{y(R=>({...R,role:S}))},E=async S=>{if(S.preventDefault(),!m.firstName||!m.lastName||!m.email||!m.password){r("Please fill in all required fields."),window.scrollTo(0,0);return}n(!0),r(""),l("");try{await kte.register(m),l("Account created successfully! Redirecting..."),setTimeout(()=>t("/login"),2e3)}catch(R){r(R.message||"Registration failed. Please try again."),window.scrollTo(0,0)}finally{n(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-blue-50 py-6 px-4 sm:px-6 lg:px-8 font-sans",children:f.jsxs("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl shadow-indigo-100 overflow-hidden flex flex-col lg:flex-row border border-white/50",children:[f.jsxs("div",{className:"hidden lg:flex lg:w-5/12 bg-indigo-600 relative overflow-hidden flex-col justify-between p-12 text-white",children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[f.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-96 h-96 bg-white rounded-full mix-blend-overlay blur-3xl"}),f.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-96 h-96 bg-purple-500 rounded-full mix-blend-overlay blur-3xl"})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"bg-white/10 w-12 h-12 rounded-xl flex items-center justify-center backdrop-blur-sm mb-8",children:f.jsx(Qg,{className:"w-6 h-6 text-white"})}),f.jsxs("h1",{className:"text-5xl font-extrabold mb-6 tracking-tight leading-tight",children:["Join the ",f.jsx("br",{})," Community."]}),f.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:"Connect with your local government, manage services efficiently, and be part of the change."})]}),f.jsx("div",{className:"relative z-10",children:f.jsxs("div",{className:"flex items-center space-x-2 text-indigo-200 text-sm",children:[f.jsx(NR,{className:"w-4 h-4"}),f.jsx("span",{children:"Secure & Private Registration"})]})})]}),f.jsxs("div",{className:"w-full lg:w-7/12 p-6 md:p-12 lg:p-16 relative",children:[f.jsxs("div",{className:"lg:hidden text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 mb-4",children:f.jsx(Qg,{className:"w-6 h-6 text-indigo-600"})}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),f.jsx("p",{className:"text-gray-500",children:"Sign up to get started"})]}),f.jsxs("div",{className:"hidden lg:block mb-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Get Started"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your details to create your account."})]}),s&&f.jsxs("div",{className:"mb-6 bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[f.jsx(ku,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),f.jsx("p",{className:"text-sm font-medium",children:s})]}),o&&f.jsxs("div",{className:"mb-6 bg-green-50 border border-green-100 text-green-700 px-4 py-3 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[f.jsx(jO,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),f.jsx("p",{className:"text-sm font-medium",children:o})]}),f.jsxs("form",{onSubmit:E,className:"space-y-1",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-5",children:[f.jsx(dd,{label:"First Name",icon:uf,name:"firstName",placeholder:"John",value:m.firstName,onChange:_}),f.jsx(dd,{label:"Last Name",icon:uf,name:"lastName",placeholder:"Doe",value:m.lastName,onChange:_})]}),f.jsx(dd,{label:"Email Address",icon:FO,type:"email",name:"email",placeholder:"john@example.com",value:m.email,onChange:_}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-5",children:[f.jsx(dd,{label:"Mobile Number",icon:HO,type:"tel",name:"number",placeholder:"+91 98765 43210",maxLength:"10",value:m.number,onChange:_}),f.jsx(dd,{label:"Password",icon:CR,type:"password",name:"password",placeholder:"",maxLength:"20",value:m.password,onChange:_,togglePassword:()=>d(!u),showPassword:u})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Gender"}),f.jsx("div",{className:"flex bg-gray-50 p-1.5 rounded-xl border border-gray-200",children:["Male","Female","Other"].map(S=>f.jsxs("label",{className:`flex-1 relative cursor-pointer py-2.5 text-center text-sm font-semibold rounded-lg transition-all duration-200 ${m.gender===S?"bg-white text-indigo-600 shadow-sm ring-1 ring-gray-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,children:[f.jsx("input",{type:"radio",name:"gender",value:S,checked:m.gender===S,onChange:_,className:"sr-only"}),S]},S))})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Select Account Type"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"citizen",label:"Citizen",icon:KO},{id:"staff",label:"Staff",icon:NR},{id:"admin",label:"Admin",icon:CR}].map(S=>{const R=S.icon,N=m.role===S.id;return f.jsxs("div",{onClick:()=>x(S.id),className:`cursor-pointer group relative border rounded-2xl p-4 flex flex-col items-center justify-center transition-all duration-300 ${N?"bg-indigo-50 border-indigo-500 text-indigo-700 shadow-md scale-[1.02]":"bg-white text-gray-500 border-gray-200 hover:border-indigo-200 hover:bg-gray-50"}`,children:[f.jsx(R,{className:`w-6 h-6 mb-2 transition-colors ${N?"text-indigo-600":"text-gray-400 group-hover:text-indigo-400"}`}),f.jsx("span",{className:"text-xs font-bold tracking-wide",children:S.label}),N&&f.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})]},S.id)})})]}),f.jsx("button",{type:"submit",disabled:e,className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:shadow-indigo-500/50 active:scale-[0.98] transition-all duration-300 flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none",children:e?f.jsxs(f.Fragment,{children:[f.jsx($l,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating Account..."]}):f.jsxs(f.Fragment,{children:["Create Account",f.jsx(of,{className:"w-5 h-5 ml-2"})]})}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Already have an account?"," ",f.jsx(pt,{to:"/login",className:"text-indigo-600 font-bold hover:text-indigo-800 transition-colors underline decoration-2 decoration-transparent hover:decoration-indigo-600 underline-offset-4",children:"Log in here"})]})]})]})]})})}function Mte(){return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-white p-6",children:f.jsx(_e.div,{initial:{scale:.97,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.45},children:f.jsx(Ote,{})})})}const H_=({title:t,value:e,icon:n,colorClass:s="text-slate-600",delay:r=0,onClick:o})=>f.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r},onClick:o,className:`bg-white rounded-xl p-6 border border-slate-200 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden h-full ${o?"cursor-pointer":""}`,children:[f.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${String(s).replace("text-","bg-")}`}),f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-500 text-sm font-medium uppercase tracking-wide",children:t}),f.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-1",children:e})]}),f.jsx("div",{className:`p-3 rounded-lg bg-opacity-10 ${String(s).replace("text-","bg-")}`,children:typeof n=="function"||typeof n=="object"?f.jsx("span",{className:`w-6 h-6 ${s}`,children:n}):f.jsx("span",{className:`text-2xl ${s}`,children:n})})]})]}),Pte=()=>JSON.parse(localStorage.getItem("user")||"null"),es=Rt.create({baseURL:"http://localhost:5000/api"});let jM=!1,DM=null;const kM=cy();ay(kM,t=>{jM=!0,DM=t,console.log("Auth state changed:",t?t.email:"logged out")});es.interceptors.request.use(async t=>{try{let e=0;for(;!jM&&e<50;)await new Promise(s=>setTimeout(s,100)),e++;const n=DM||kM.currentUser;if(n)try{const s=await n.getIdToken(!0);t.headers.Authorization=`Bearer ${s}`}catch(s){console.error(" Error getting Firebase ID token:",s.message)}}catch(e){console.error("Axios interceptor error:",e)}return t});function Lte(){const t=Rs(),[e,n]=D.useState(""),[s,r]=D.useState({complaints:0,services:0,pending:0});return D.useEffect(()=>{const o=Pte();o&&n(o.role),(async()=>{try{const u=await es.get("/complaints?limit=1"),d=await es.get("/services?limit=1"),m=await es.get("/complaints?status=pending&limit=1"),y=await es.get("/services?status=pending&limit=1");r({complaints:u.data.total||0,services:d.data.total||0,pending:(m.data.total||0)+(y.data.total||0)})}catch(u){console.error("Error loading dashboard stats:",u)}})()},[t]),f.jsxs("div",{className:"min-h-screen p-6 bg-gray-100",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(H_,{title:"Total Complaints",value:s.complaints,icon:"",colorClass:"text-blue-500",onClick:()=>t("/staff/complaints")}),f.jsx(H_,{title:"Services Requested",value:s.services,icon:"",colorClass:"text-green-500",onClick:()=>t("/staff/services")}),f.jsx(H_,{title:"Pending Requests",value:s.pending,icon:"",colorClass:"text-yellow-500"})]}),f.jsxs("div",{className:"mt-10",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[f.jsx(pt,{to:"/complaints",className:"px-4 py-3 bg-white rounded-lg shadow hover:shadow-md transition text-center",children:"File Complaint"}),f.jsx(pt,{to:"/services/new",className:"px-4 py-3 bg-white rounded-lg shadow hover:shadow-md transition text-center",children:"Request Service"}),f.jsx(pt,{to:"/announcements",className:"px-4 py-3 bg-white rounded-lg shadow hover:shadow-md transition text-center",children:"Announcements"}),f.jsx(pt,{to:"/chat",className:"px-4 py-3 bg-white rounded-lg shadow hover:shadow-md transition text-center",children:"Live Chat Support"}),e==="admin"&&f.jsx(pt,{to:"/admin",className:"px-4 py-3 bg-red-500 text-white rounded-lg shadow hover:shadow-md transition text-center",children:"Admin Panel"})]})]})]})}function Vte({onSubmit:t}){const[e,n]=D.useState({title:"",category:"",description:"",image:null}),[s,r]=D.useState(null),[o,l]=D.useState(!1),[u,d]=D.useState(""),[m,y]=D.useState("idle"),_=S=>{const{name:R,value:N,files:M}=S.target;R==="image"&&M&&M[0]?(n({...e,image:M[0]}),r(URL.createObjectURL(M[0]))):n({...e,[R]:N})},x=()=>{y("loading"),setTimeout(()=>y("success"),1500)},E=S=>{if(S.preventDefault(),!e.image||!e.title||!e.description){d("Please fill all fields and upload an image.");return}l(!0),setTimeout(()=>{l(!1),d("Complaint Registered Successfully! Reference ID: PMC-2024-8892"),n({title:"",category:"",description:"",image:null}),r(null),y("idle")},2e3)};return f.jsxs("div",{className:"bg-white shadow-xl shadow-slate-200 rounded-2xl border border-slate-100 overflow-hidden",children:[f.jsxs("div",{className:"bg-[#9f1239] px-6 py-4",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"Register New Complaint"}),f.jsx("p",{className:"text-red-100 text-sm",children:"Fill in the details below to report an issue."})]}),f.jsxs("form",{onSubmit:E,className:"p-6 md:p-8 space-y-6",children:[u&&f.jsx("div",{className:`p-4 rounded-lg text-sm font-bold ${u.includes("Success")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Complaint Title"}),f.jsx("input",{name:"title",value:e.title,onChange:_,placeholder:"e.g. Garbage piling up at Main St.",className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Category"}),f.jsxs("select",{name:"category",value:e.category,onChange:_,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none bg-white",children:[f.jsx("option",{value:"",children:"Select Category"}),f.jsx("option",{value:"water",children:"Water Supply"}),f.jsx("option",{value:"road",children:"Road/Potholes"}),f.jsx("option",{value:"garbage",children:"Garbage Collection"}),f.jsx("option",{value:"electricity",children:"Street Lights"}),f.jsx("option",{value:"drainage",children:"Drainage/Sewage"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Location"}),f.jsxs("button",{type:"button",onClick:x,className:`w-full px-4 py-3 rounded-lg border flex items-center justify-center gap-2 font-medium transition-all ${m==="success"?"bg-green-50 border-green-200 text-green-700":"bg-slate-50 border-slate-300 text-slate-600 hover:bg-slate-100"}`,children:[f.jsx(Ju,{className:"w-5 h-5"}),m==="idle"&&"Auto-detect Location",m==="loading"&&"Detecting...",m==="success"&&"Location Captured "]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Detailed Description"}),f.jsx("textarea",{name:"description",rows:4,value:e.description,onChange:_,placeholder:"Describe the issue in detail...",className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none resize-none"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Evidence Photo"}),f.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center hover:bg-slate-50 transition cursor-pointer relative",children:[f.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:_,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),s?f.jsxs("div",{className:"relative h-48 w-full",children:[f.jsx("img",{src:s,alt:"Preview",className:"h-full w-full object-contain"}),f.jsx("button",{type:"button",onClick:S=>{S.preventDefault(),r(null),n({...e,image:null})},className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-full shadow-md z-10 hover:bg-red-600",children:f.jsx(QO,{className:"w-4 h-4"})})]}):f.jsxs("div",{className:"flex flex-col items-center text-slate-500",children:[f.jsx("div",{className:"bg-slate-100 p-3 rounded-full mb-3",children:f.jsx(JX,{className:"w-8 h-8 text-[#9f1239]"})}),f.jsx("p",{className:"font-medium",children:"Click or Drag to Upload Photo"}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Supports JPG, PNG (Max 5MB)"})]})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"w-full bg-[#9f1239] hover:bg-[#881337] text-white font-bold py-4 rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-70 flex items-center justify-center gap-2",children:o?"Submitting...":f.jsxs(f.Fragment,{children:["Submit Complaint ",f.jsx(Ly,{className:"w-5 h-5"})]})})]})]})}function Ute({complaints:t=[]}){const e=t.length?t:[{_id:"PMC-2024-001",title:"Broken Street Light",status:"Pending",category:"Electricity",createdAt:new Date,description:"Street light pole #44 is not working since 3 days."},{_id:"PMC-2024-002",title:"Pothole on Main Road",status:"Resolved",category:"Road",createdAt:new Date(Date.now()-864e5),description:"Large pothole causing traffic jam.",image:"https://images.unsplash.com/photo-1515162816999-a0c47dc192f7?auto=format&fit=crop&q=80&w=400"}],n=s=>{switch(s.toLowerCase()){case"resolved":return f.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-bold border border-green-200",children:[f.jsx(My,{className:"w-3 h-3"})," Resolved"]});case"rejected":return f.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-red-100 text-red-700 text-xs font-bold border border-red-200",children:[f.jsx(DO,{className:"w-3 h-3"})," Rejected"]});default:return f.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-xs font-bold border border-yellow-200",children:[f.jsx(lf,{className:"w-3 h-3"})," Pending"]})}};return e.length?f.jsxs("div",{className:"space-y-4 mt-6",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 border-b pb-2 mb-4",children:"Recent Complaints"}),e.map(s=>f.jsxs("div",{className:"bg-white hover:bg-slate-50 transition-colors p-5 rounded-xl border border-slate-200 shadow-sm flex flex-col sm:flex-row gap-5",children:[s.image?f.jsx("img",{src:s.image,alt:"Evidence",className:"w-full sm:w-32 h-32 object-cover rounded-lg border border-slate-200"}):f.jsx("div",{className:"w-full sm:w-32 h-32 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 border border-slate-200",children:f.jsx("span",{className:"text-xs",children:"No Image"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsxs("span",{className:"text-xs font-mono text-slate-400 block mb-1",children:["#",s._id]}),f.jsx("h3",{className:"text-lg font-bold text-slate-800 leading-tight",children:s.title})]}),n(s.status)]}),f.jsx("p",{className:"text-slate-600 text-sm mb-3 line-clamp-2",children:s.description}),f.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 font-medium border-t border-slate-100 pt-3",children:[f.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded",children:[f.jsx(ku,{className:"w-3 h-3"})," ",s.category]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(lf,{className:"w-3 h-3"})," ",new Date(s.createdAt).toLocaleDateString()]}),s.location&&f.jsxs("span",{className:"flex items-center gap-1 text-[#9f1239]",children:[f.jsx(Ju,{className:"w-3 h-3"})," Location Tagged"]})]})]})]},s._id||s.id))]}):f.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[f.jsx(ku,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-500 font-medium",children:"No complaints registered yet."})]})}function Fte(){const[t,e]=D.useState([]),n=s=>{const r={id:Date.now(),...s,status:"pending",createdAt:new Date().toISOString()};e([...t,r])};return f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Complaints"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsx(Vte,{onSubmit:n}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Complaints"}),f.jsx(Ute,{complaints:t})]})]})]})})}function zte(){const t=Rs(),[e,n]=D.useState([]),[s,r]=D.useState(!1),[o,l]=D.useState(!1),[u,d]=D.useState(!1),[m,y]=D.useState(""),[_,x]=D.useState(""),E=D.useRef(),S=[{value:"road",label:"Road & Potholes",icon:f.jsx(mZ,{className:"w-6 h-6"}),desc:"Report damaged roads"},{value:"water",label:"Water Supply",icon:f.jsx(Uw,{className:"w-6 h-6"}),desc:"Leakage or supply issues"},{value:"garbage",label:"Garbage Collection",icon:f.jsx(gx,{className:"w-6 h-6"}),desc:"Missed pickup or dumping"},{value:"lights",label:"Street Lights",icon:f.jsx(VO,{className:"w-6 h-6"}),desc:"Non-functional lights"}],[R,N]=D.useState({type:"",description:"",location:"",phone:"",contactName:""}),[M,H]=D.useState({}),L=()=>{const Q={};return R.type||(Q.type="Please select a service category"),R.description.length<10&&(Q.description="Please provide more details (min 10 chars)"),R.location||(Q.location="Location is required"),/^\d{10}$/.test(R.phone)||(Q.phone="Valid 10-digit mobile number required"),H(Q),Object.keys(Q).length===0},$=Q=>{const j=Array.from(Q).map(C=>({id:Math.random(),name:C.name,size:(C.size/1024/1024).toFixed(2)+" MB",file:C}));n([...e,...j])},K=async Q=>{var j,C,k;if(Q.preventDefault(),y(""),!!L()){r(!0);try{const O=new FormData;O.append("serviceType",R.type);const U=`${R.description}

-- Contact Info --
Name: ${R.contactName}
Phone: ${R.phone}`;O.append("description",U),O.append("address",R.location),O.append("paymentRequired",!1),e.forEach(_t=>{O.append("attachments",_t.file)});const P=(j=(await es.post("/services",O,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:j.serviceRequest,Je=(P==null?void 0:P._id)||"";Je&&x(Je),l(!0),setTimeout(()=>t("/services/tracker",{state:{newRequestId:Je}}),8e3)}catch(O){console.error(O),y(((k=(C=O.response)==null?void 0:C.data)==null?void 0:k.message)||O.message||"Failed to submit request.")}finally{r(!1)}}};return o?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-10 text-center max-w-md w-full border border-slate-200",children:[f.jsx(_e.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(My,{className:"w-10 h-10 text-green-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 font-serif",children:"Request Submitted"}),f.jsx("p",{className:"text-slate-500 mb-8",children:"Your service request has been logged successfully."}),_&&f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"text-sm text-slate-600",children:"Reference ID"}),f.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[f.jsx("span",{className:"font-mono font-bold bg-slate-100 px-3 py-2 rounded",children:_}),f.jsx("button",{onClick:()=>{var Q;return(Q=navigator.clipboard)==null?void 0:Q.copyText(_)},className:"text-sm text-[#9f1239] underline",children:"Copy"})]})]}),f.jsx("button",{onClick:()=>t("/services/tracker"),className:"w-full bg-[#9f1239] text-white py-3 rounded-lg font-bold hover:bg-[#881337] transition-colors",children:"Track Status"})]})}):f.jsx("div",{className:"min-h-screen bg-slate-50 py-12 px-4",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("div",{className:"mb-10 text-center md:text-left border-b border-slate-200 pb-6",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 font-serif mb-2",children:"New Service Request"}),f.jsx("p",{className:"text-slate-600",children:"Submit a formal request for municipal services or infrastructure repairs."})]}),f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2 space-y-8",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsxs("div",{className:"bg-[#9f1239] px-6 py-4 flex items-center gap-2",children:[f.jsx(yi,{className:"text-white w-5 h-5"}),f.jsx("h3",{className:"font-bold text-white text-lg",children:"Request Details"})]}),f.jsxs("form",{onSubmit:K,className:"p-6 md:p-8 space-y-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:"Select Category"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:S.map(Q=>f.jsxs("div",{onClick:()=>{N({...R,type:Q.value}),H({...M,type:null})},className:`cursor-pointer p-4 rounded-xl border-2 transition-all flex items-start gap-4 ${R.type===Q.value?"border-[#9f1239] bg-red-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[f.jsx("div",{className:`p-2 rounded-lg ${R.type===Q.value?"bg-[#9f1239] text-white":"bg-slate-100 text-slate-500"}`,children:Q.icon}),f.jsxs("div",{children:[f.jsx("span",{className:`font-bold block ${R.type===Q.value?"text-[#9f1239]":"text-slate-700"}`,children:Q.label}),f.jsx("span",{className:"text-xs text-slate-500",children:Q.desc})]})]},Q.value))}),M.type&&f.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[f.jsx(gx,{size:14})," ",M.type]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Description of Issue"}),f.jsx("textarea",{rows:5,className:`w-full p-4 rounded-lg border-2 outline-none transition-colors resize-none ${M.description?"border-red-300 focus:border-red-500":"border-slate-200 focus:border-[#9f1239]"}`,placeholder:"Please describe the location and nature of the problem...",value:R.description,onChange:Q=>N({...R,description:Q.target.value})}),M.description&&f.jsx("p",{className:"text-red-600 text-sm mt-1",children:M.description})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3 uppercase tracking-wide",children:"Attachments (Optional)"}),f.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors ${u?"border-[#9f1239] bg-red-50":"border-slate-300 hover:bg-slate-50"}`,onDragOver:Q=>{Q.preventDefault(),d(!0)},onDragLeave:()=>d(!1),onDrop:Q=>{Q.preventDefault(),d(!1),$(Q.dataTransfer.files)},onClick:()=>{var Q;return(Q=E.current)==null?void 0:Q.click()},children:[f.jsx(Ly,{className:"w-8 h-8 text-slate-400 mx-auto mb-3"}),f.jsx("p",{className:"font-medium text-slate-600",children:"Click to upload or drag & drop"}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"JPG, PNG, PDF (Max 5MB)"}),f.jsx("input",{type:"file",multiple:!0,ref:E,className:"hidden",onChange:Q=>$(Q.target.files)})]}),e.length>0&&f.jsx("div",{className:"mt-4 space-y-2",children:e.map(Q=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[f.jsx(yi,{className:"w-5 h-5 text-slate-400"}),f.jsxs("div",{className:"truncate",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:Q.name}),f.jsx("p",{className:"text-xs text-slate-400",children:Q.size})]})]}),f.jsx("button",{type:"button",onClick:()=>n(e.filter(j=>j.id!==Q.id)),className:"text-slate-400 hover:text-red-500",children:f.jsx(QO,{className:"w-5 h-5"})})]},Q.id))})]})]})]})}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden sticky top-6",children:[f.jsx("div",{className:"bg-slate-800 px-6 py-4",children:f.jsxs("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:[f.jsx(Ju,{className:"w-5 h-5"})," Location & Contact"]})}),f.jsxs("div",{className:"p-6 space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Address / Landmark"}),f.jsx("input",{className:`w-full mt-1 px-4 py-3 rounded-lg border-2 outline-none ${M.location?"border-red-300":"border-slate-200 focus:border-[#9f1239]"}`,placeholder:"e.g. Near City Hospital",value:R.location,onChange:Q=>N({...R,location:Q.target.value})}),M.location&&f.jsx("p",{className:"text-red-600 text-xs mt-1",children:M.location})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Your Name"}),f.jsx("input",{className:"w-full mt-1 px-4 py-3 rounded-lg border-2 border-slate-200 focus:border-[#9f1239] outline-none",placeholder:"Full Name",value:R.contactName,onChange:Q=>N({...R,contactName:Q.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Mobile Number"}),f.jsx("input",{className:`w-full mt-1 px-4 py-3 rounded-lg border-2 outline-none ${M.phone?"border-red-300":"border-slate-200 focus:border-[#9f1239]"}`,placeholder:"10-digit number",value:R.phone,onChange:Q=>N({...R,phone:Q.target.value})}),M.phone&&f.jsx("p",{className:"text-red-600 text-xs mt-1",children:M.phone})]}),m&&f.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100",children:m}),f.jsx("button",{onClick:K,disabled:s,className:"w-full mt-2 bg-[#9f1239] hover:bg-[#881337] text-white font-bold py-4 rounded-lg shadow-lg shadow-red-900/20 transition-all disabled:opacity-70 flex items-center justify-center gap-2",children:s?f.jsx($l,{className:"animate-spin w-5 h-5"}):f.jsxs(f.Fragment,{children:["Submit Request ",f.jsx(Py,{className:"w-4 h-4"})]})}),f.jsx("p",{className:"text-xs text-center text-slate-400",children:"Official Municipal Service Portal"})]})]})})]})]})})}function Bte(){return f.jsx("div",{className:"min-h-screen",children:f.jsx(zte,{})})}const qte="http://localhost:5000",KR=t=>t?t.startsWith("http")?t:`${qte}/${t.replace(/\\/g,"/")}`:"",Pp=t=>{const e=(t==null?void 0:t.toLowerCase())||"pending";return e==="completed"||e==="resolved"?2:e==="in-progress"||e==="approved"?1:0},WR=[{id:0,label:"Registered",desc:"Request logged",icon:yi},{id:1,label:"Processing",desc:"Work in progress",icon:$O},{id:2,label:"Resolved",desc:"Closed successfully",icon:jO}];function Hte(){const[t,e]=D.useState(0),[n,s]=D.useState(null),[r,o]=D.useState([]),[l,u]=D.useState(!0),[d,m]=D.useState(""),[y,_]=D.useState(!1),[x,E]=D.useState(null),[S,R]=D.useState(""),N=xi(),M=async $=>{var K,Q,j;try{u(!0);const C=await es.get(`/services/${encodeURIComponent($)}`);(K=C.data)!=null&&K.serviceRequest&&(s(C.data.serviceRequest),e(Pp(C.data.serviceRequest.status)))}catch(C){console.error("Failed to fetch request by id",C),R(((j=(Q=C.response)==null?void 0:Q.data)==null?void 0:j.message)||"Request not found. Please check the ID.")}finally{u(!1)}};D.useEffect(()=>{var $;if(H(),($=N==null?void 0:N.state)!=null&&$.newRequestId){const K=N.state.newRequestId;K&&(m(K),M(K))}},[]);const H=async()=>{try{u(!0);const K=(await es.get("/services")).data.items||[];o(K),K.length>0&&(s(K[0]),e(Pp(K[0].status)))}catch($){console.error("Failed to fetch requests",$)}finally{u(!1)}},L=async $=>{var K,Q;if($.preventDefault(),!!d.trim()){_(!0),R("");try{const j=await es.get(`/services/${encodeURIComponent(d)}`);j.data.serviceRequest&&(s(j.data.serviceRequest),e(Pp(j.data.serviceRequest.status)))}catch(j){const C=((Q=(K=j.response)==null?void 0:K.data)==null?void 0:Q.message)||"Request not found. Please check the ID.";R(C),console.error(C,j)}finally{_(!1)}}};return l&&r.length===0?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:f.jsx($l,{className:"w-10 h-10 text-[#9f1239] animate-spin"})}):f.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8 border-b border-slate-200 pb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900 font-serif mb-2",children:"Track Service Requests"}),f.jsx("p",{className:"text-slate-500",children:"Monitor status of your municipal complaints and applications."})]}),f.jsxs("form",{onSubmit:L,className:"relative w-full md:w-96",children:[f.jsx("input",{type:"text",placeholder:"Enter Request ID (e.g. REQ-1234)",value:d,onChange:$=>m($.target.value),className:"w-full pl-4 pr-12 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none"}),f.jsx("button",{type:"submit",disabled:y,className:"absolute right-2 top-2 p-1.5 bg-[#9f1239] text-white rounded-md hover:bg-[#881337]",children:y?f.jsx($l,{className:"w-5 h-5 animate-spin"}):f.jsx(sg,{className:"w-5 h-5"})})]}),S&&f.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:S})]}),f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-1 space-y-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 max-h-[80vh] overflow-y-auto",children:[f.jsx("h2",{className:"font-bold text-slate-700 mb-4 px-2",children:"Your History"}),r.length===0?f.jsx("p",{className:"text-slate-400 text-center py-8",children:"No records found."}):r.map($=>f.jsxs("div",{onClick:()=>{s($),e(Pp($.status))},className:`p-4 rounded-lg cursor-pointer transition-all border-l-4 mb-3 ${(n==null?void 0:n._id)===$._id?"bg-red-50 border-[#9f1239] shadow-sm":"bg-slate-50 border-transparent hover:bg-slate-100"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsxs("span",{className:"text-xs font-mono font-bold text-slate-500",children:["#",$._id.slice(-6).toUpperCase()]}),f.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-0.5 rounded ${$.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:$.status})]}),f.jsx("h3",{className:"font-bold text-slate-800 text-sm truncate",children:$.serviceType}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date($.createdAt).toLocaleDateString()})]},$._id))]})}),f.jsx("div",{className:"lg:col-span-2",children:n?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsx("div",{className:"flex justify-between items-start mb-6",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900 font-serif",children:n.serviceType}),f.jsxs("p",{className:"text-xs text-slate-400 font-mono",children:["Reference ID: ",n._id]})]})}),f.jsxs("div",{className:"relative flex justify-between",children:[f.jsx("div",{className:"absolute top-5 left-0 w-full h-1 bg-slate-100 -z-10"}),f.jsx("div",{className:"absolute top-5 left-0 h-1 bg-[#9f1239] -z-10 transition-all duration-500",style:{width:`${t/(WR.length-1)*100}%`}}),WR.map(($,K)=>{const Q=t>=K,j=$.icon;return f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 z-10 ${Q?"bg-[#9f1239] border-[#9f1239] text-white":"bg-white border-slate-300 text-slate-300"}`,children:f.jsx(j,{className:"w-5 h-5"})}),f.jsxs("div",{className:"mt-2 text-center",children:[f.jsx("p",{className:`text-xs font-bold ${Q?"text-slate-800":"text-slate-400"}`,children:$.label}),f.jsx("p",{className:"text-[10px] text-slate-400 hidden sm:block",children:$.desc})]})]},K)})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsxs("h3",{className:"text-sm font-bold uppercase text-slate-400 mb-4 flex items-center gap-2",children:[f.jsx(yi,{className:"w-4 h-4"})," Details"]}),f.jsx("p",{className:"text-sm text-slate-700 leading-relaxed mb-4",children:n.description}),f.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-100",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Ju,{className:"w-4 h-4 text-[#9f1239] mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Location"}),f.jsx("span",{className:"text-sm font-medium text-slate-800",children:n.address})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(lf,{className:"w-4 h-4 text-[#9f1239] mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Filed On"}),f.jsx("span",{className:"text-sm font-medium text-slate-800",children:new Date(n.createdAt).toLocaleString()})]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsxs("h3",{className:"text-sm font-bold uppercase text-slate-400 mb-4 flex items-center gap-2",children:[f.jsx(HJ,{className:"w-4 h-4"})," Evidence"]}),n.attachments&&n.attachments.length>0?f.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.attachments.map(($,K)=>f.jsxs("div",{className:"aspect-square bg-slate-100 rounded-lg overflow-hidden border border-slate-200 cursor-pointer group relative",onClick:()=>E(KR($)),children:[f.jsx("img",{src:KR($),alt:"Evidence",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:f.jsx(sg,{className:"text-white w-6 h-6"})})]},K))}):f.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50 rounded-lg border border-dashed border-slate-200 text-slate-400 text-sm",children:"No Attachments"})]})]})]}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-white rounded-xl border border-dashed border-slate-300 p-12 text-slate-400",children:[f.jsx(sg,{className:"w-16 h-16 mb-4 opacity-20"}),f.jsx("p",{children:"Select a request to view full details"})]})})]})]}),x&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",onClick:()=>E(null),children:[f.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-red-400",children:f.jsx(DO,{className:"w-10 h-10"})}),f.jsx("img",{src:x,alt:"Full View",className:"max-w-full max-h-[90vh] object-contain rounded-lg"})]})]})}function Gte(){return f.jsx("div",{className:"min-h-screen",children:f.jsx(Hte,{})})}const $te=()=>{const[t,e]=D.useState({temperature:24,humidity:65,battery:85,waterLevel:75,airQuality:92}),[n]=D.useState([{id:1,type:"warning",message:"Zone A: Temp limit exceeded > 35C",time:"2 min ago"},{id:2,type:"success",message:"Pump Station 4: Routine check passed",time:"10 min ago"},{id:3,type:"error",message:"Sector 9: Street light grid failure",time:"1 hr ago"}]);D.useEffect(()=>{const r=setInterval(()=>{e(o=>({temperature:+(o.temperature+(Math.random()-.5)).toFixed(1),humidity:Math.min(100,Math.max(0,+(o.humidity+(Math.random()-.5)*2).toFixed(0))),battery:Math.max(0,+(o.battery-.05).toFixed(1)),waterLevel:Math.min(100,Math.max(0,+(o.waterLevel+(Math.random()-.5)).toFixed(0))),airQuality:Math.max(0,+(o.airQuality+(Math.random()-.5)).toFixed(0))}))},2e3);return()=>clearInterval(r)},[]);const s=({icon:r,title:o,value:l,unit:u,max:d,colorClass:m})=>f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5 flex flex-col justify-between h-36 relative overflow-hidden group hover:shadow-md transition-all",children:[f.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-slate-50 rounded-bl-full -mr-4 -mt-4 z-0 group-hover:scale-110 transition-transform"}),f.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[f.jsx("div",{className:`p-2 rounded-lg ${m} bg-opacity-10`,children:f.jsx(r,{className:`w-6 h-6 ${m.replace("bg-","text-")}`})}),l>d*.9&&f.jsx("span",{className:"animate-pulse w-2 h-2 rounded-full bg-red-500"})]}),f.jsxs("div",{className:"relative z-10 mt-2",children:[f.jsx("h3",{className:"text-slate-500 text-sm font-medium uppercase tracking-wide",children:o}),f.jsxs("div",{className:"flex items-end gap-1",children:[f.jsx("span",{className:"text-3xl font-bold text-slate-800",children:l}),f.jsx("span",{className:"text-sm font-bold text-slate-400 mb-1",children:u})]})]}),f.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-slate-100",children:f.jsx(_e.div,{className:`h-full ${m.replace("bg-","bg-")}`,initial:{width:0},animate:{width:`${l/d*100}%`},transition:{type:"spring",stiffness:50}})})]});return f.jsx("div",{className:"min-h-screen bg-slate-100 p-4 md:p-8 font-sans",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 flex items-center gap-2",children:[f.jsx(NO,{className:"text-[#9f1239]"})," Smart City Dashboard"]}),f.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Real-time infrastructure monitoring system  Zone: Central"})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),f.jsx("span",{className:"text-xs font-bold text-slate-600",children:"System Online"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[f.jsx(s,{icon:lZ,title:"Avg Temp",value:t.temperature,unit:"C",max:50,colorClass:"bg-orange-500 text-orange-600"}),f.jsx(s,{icon:Uw,title:"Humidity",value:t.humidity,unit:"%",max:100,colorClass:"bg-blue-500 text-blue-600"}),f.jsx(s,{icon:xZ,title:"Air Quality",value:t.airQuality,unit:"AQI",max:200,colorClass:"bg-purple-500 text-purple-600"}),f.jsx(s,{icon:_Z,title:"Water Level",value:t.waterLevel,unit:"%",max:100,colorClass:"bg-cyan-500 text-cyan-600"}),f.jsx(s,{icon:GX,title:"Sensor Bat.",value:t.battery,unit:"%",max:100,colorClass:"bg-green-500 text-green-600"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-800",children:"24h Temperature Trends"}),f.jsxs("select",{className:"text-xs border border-slate-300 rounded-md px-2 py-1 bg-slate-50",children:[f.jsx("option",{children:"Last 24 Hours"}),f.jsx("option",{children:"Last Week"})]})]}),f.jsx("div",{className:"h-64 flex items-end justify-between gap-2 px-4 border-b border-l border-slate-200 pb-2",children:[40,60,45,70,50,65,55,80,75,60,90,85].map((r,o)=>f.jsx(_e.div,{initial:{height:0},animate:{height:`${r}%`},transition:{delay:o*.05},className:"w-full bg-blue-100 hover:bg-[#9f1239] hover:bg-opacity-80 rounded-t-sm transition-colors relative group",children:f.jsxs("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity bg-slate-800 text-white px-1.5 rounded",children:[r,""]})},o))}),f.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400 font-mono",children:[f.jsx("span",{children:"00:00"}),f.jsx("span",{children:"06:00"}),f.jsx("span",{children:"12:00"}),f.jsx("span",{children:"18:00"}),f.jsx("span",{children:"Now"})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[f.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center justify-between",children:["Live Alerts",f.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-0.5 rounded-full font-bold",children:"3 Active"})]}),f.jsx("div",{className:"space-y-4",children:n.map(r=>f.jsxs("div",{className:"flex gap-3 items-start pb-3 border-b border-slate-50 last:border-0 last:pb-0",children:[f.jsx("div",{className:`mt-0.5 flex-shrink-0 w-2 h-2 rounded-full ${r.type==="warning"?"bg-yellow-500":r.type==="error"?"bg-red-500":"bg-green-500"}`}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-slate-700 leading-tight",children:r.message}),f.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[f.jsx(Kte,{className:"w-3 h-3"})," ",r.time]})]})]},r.id))}),f.jsx("button",{className:"w-full mt-6 py-2 text-xs font-bold text-slate-500 hover:text-[#9f1239] border border-dashed border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"View System Logs"})]})]})]})})},Kte=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]});function Wte(){return f.jsx($te,{})}function Qte(){return f.jsxs("div",{className:"min-h-screen p-6",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Admin Panel"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Admin-only actions and site settings live here."})]})}function Yte({photo:t,onSelect:e,selected:n}){var s;return f.jsxs(_e.button,{type:"button",onClick:()=>e(t),className:"group relative w-full overflow-hidden rounded-2xl bg-slate-900 shadow-lg focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",whileHover:{scale:1.02},whileTap:{scale:.985},children:[f.jsx("img",{src:t.imageUrl,alt:t.description||"Photo",loading:"lazy",className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}),f.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-90"}),f.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-4 text-left text-white",children:[f.jsx("p",{className:"text-sm uppercase tracking-wide text-white/70",children:t.fullName||"Unknown user"}),f.jsx("h4",{className:"text-lg font-semibold",children:((s=t.description)==null?void 0:s.slice(0,28))||"No description"}),f.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-white/80",children:[t.latitude&&t.longitude&&f.jsxs("span",{children:[t.latitude.toFixed(3),", ",t.longitude.toFixed(3)]}),f.jsx("span",{className:"rounded-full bg-white/20 px-2 py-0.5 text-[11px] uppercase tracking-wide",children:t.status||"Pending"})]})]}),n&&f.jsx("div",{className:"absolute inset-0 border-4 border-indigo-400/80 rounded-2xl pointer-events-none"})]})}function Xte({photos:t=[],onSelect:e,selectedPhotoId:n,isLoading:s}){return s?f.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((r,o)=>f.jsx("div",{className:"h-72 animate-pulse rounded-3xl bg-slate-200 dark:bg-slate-800"},`skeleton-${o}`))}):f.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:f.jsx(Gl,{children:t.map(r=>f.jsx(_e.div,{layout:!0,initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.35,ease:"easeOut"},children:f.jsx(Yte,{photo:r,onSelect:e,selected:n===r.id})},r.id))})})}const Jte=t=>{if(!t)return"Unknown date";try{const e=t!=null&&t.toDate?t.toDate():t;return new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}catch{return t}};function OM({photo:t}){var e,n;return t?f.jsxs("div",{className:"h-full rounded-2xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Photo Details"}),f.jsxs("dl",{className:"mt-6 space-y-4 text-sm text-slate-700 dark:text-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"font-medium text-slate-500 dark:text-slate-400",children:"Uploaded On"}),f.jsx("dd",{children:Jte(t.createdAt)})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"font-medium text-slate-500 dark:text-slate-400",children:"Status"}),f.jsx("dd",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-200",children:t.status||"Pending"})]}),t.fullName&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"font-medium text-slate-500 dark:text-slate-400",children:"Uploaded By"}),f.jsx("dd",{children:t.fullName})]}),(t.latitude||t.longitude)&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("dt",{className:"font-medium text-slate-500 dark:text-slate-400",children:"Coordinates"}),f.jsxs("dd",{className:"font-mono text-xs",children:[(e=t.latitude)==null?void 0:e.toFixed(5),", ",(n=t.longitude)==null?void 0:n.toFixed(5)]})]})]})]}):null}function Zte({photo:t,onClose:e}){return typeof document>"u"?null:S9.createPortal(f.jsx(Gl,{children:t?f.jsx(_e.div,{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsxs(_e.div,{className:"relative flex w-full max-w-6xl flex-col gap-6 rounded-3xl bg-white p-6 shadow-2xl dark:bg-slate-900 md:flex-row",initial:{scale:.92,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.92,opacity:0},transition:{type:"spring",stiffness:140,damping:18},children:[f.jsx("button",{type:"button",onClick:e,className:"absolute right-4 top-4 rounded-full bg-black/70 px-3 py-1 text-sm font-semibold uppercase tracking-wide text-white shadow-md transition hover:bg-black",children:"Close"}),f.jsx("div",{className:"flex-1 overflow-hidden rounded-2xl bg-slate-100 dark:bg-slate-800",children:f.jsx("img",{src:t.imageUrl,alt:"Selected photo",className:"max-h-[70vh] w-full object-contain"})}),f.jsx("div",{className:"w-full max-w-md",children:f.jsx(OM,{photo:t})})]})}):null}),document.body)}const ene="http://localhost:5000",tne=async()=>(await Rt.get(`${ene}/api/photos/all`)).data;function nne(){const[t,e]=D.useState(null),{data:n=[],isLoading:s,isError:r,refetch:o}=e5({queryKey:["photos"],queryFn:tne}),l=!s&&n.length===0;return f.jsxs("section",{className:"mx-auto max-w-7xl px-4 py-12",children:[f.jsxs("div",{className:"flex flex-col gap-6 pb-8 sm:flex-row sm:items-end sm:justify-between border-b border-slate-200 mb-8",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-wide text-[#9f1239] font-bold mb-1",children:"Official Archives"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 font-serif",children:"City Media Gallery"}),f.jsx("p",{className:"mt-2 text-slate-600 max-w-lg",children:"Documenting infrastructure development, cultural events, and citizen initiatives."})]}),f.jsxs(pt,{to:"/gallery/upload",className:"shrink-0 inline-flex items-center justify-center rounded-lg bg-[#9f1239] px-6 py-3 font-bold text-white shadow-lg shadow-red-900/20 transition duration-300 hover:bg-[#881337] gap-2",children:[f.jsx(Ly,{className:"w-4 h-4"})," Upload Photo"]})]}),r&&f.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-8 text-center",children:[f.jsx("p",{className:"text-red-800 font-bold mb-2",children:"Unable to load gallery"}),f.jsxs("button",{onClick:()=>o(),className:"inline-flex items-center gap-2 text-sm font-semibold text-[#9f1239] hover:underline",children:[f.jsx(WJ,{className:"w-3 h-3"})," Try Again"]})]}),l&&f.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-slate-300 bg-slate-50 p-16 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm border border-slate-200",children:f.jsx(PO,{className:"w-8 h-8 text-slate-400"})}),f.jsx("h3",{className:"text-xl font-bold text-slate-700",children:"Gallery is Empty"}),f.jsx("p",{className:"text-slate-500 mb-6",children:"Be the first to contribute to the city archives."}),f.jsx(pt,{to:"/gallery/upload",className:"inline-flex items-center justify-center rounded-lg bg-slate-800 px-6 py-2.5 text-sm font-bold text-white transition hover:bg-slate-700",children:"Upload Now"})]}),!l&&f.jsxs("div",{className:"space-y-8",children:[f.jsx(Xte,{photos:n,onSelect:e,selectedPhotoId:t==null?void 0:t.id,isLoading:s}),t&&f.jsx("div",{className:"mt-6",children:f.jsx(OM,{photo:t})})]}),f.jsx(Zte,{photo:t,onClose:()=>e(null)})]})}const sne=async t=>(await es.post("/photos/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data,ine=({data:t})=>f.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 text-sm space-y-2 mt-4",children:[f.jsx("h4",{className:"font-bold text-slate-700 border-b border-slate-200 pb-2 mb-2",children:"Metadata"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-slate-500",children:"Label:"})," ",f.jsx("span",{className:"font-medium",children:t.locationLabel})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-slate-500",children:"Coords:"})," ",f.jsxs("span",{className:"font-mono text-xs",children:[t.latitude,", ",t.longitude]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-slate-500",children:"Date:"})," ",f.jsx("span",{children:new Date(t.dateTime).toLocaleDateString()})]})]}),rne={dateTime:"",locationLabel:"",latitude:"",longitude:""};function ane(){const[t,e]=D.useState(rne),[n,s]=D.useState(null),[r,o]=D.useState(null),[l,u]=D.useState(""),d=Rs(),m=Cx();D.useEffect(()=>{localStorage.getItem("token")||d("/login")},[d]),D.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(({coords:x})=>{e(E=>({...E,latitude:x.latitude.toFixed(6),longitude:x.longitude.toFixed(6)}))},x=>console.warn("Geo access denied",x))},[]),D.useEffect(()=>{if(!n)return o(null);const x=new FileReader;x.onloadend=()=>o(x.result),x.readAsDataURL(n)},[n]);const y=t5({mutationFn:async()=>{const x=new FormData;return x.append("photo",n),x.append("dateTime",t.dateTime),x.append("locationLabel",t.locationLabel),x.append("latitude",t.latitude),x.append("longitude",t.longitude),sne(x)},onSuccess:()=>{m.invalidateQueries({queryKey:["photos"]}),d("/gallery")},onError:x=>{var E,S;u(((S=(E=x.response)==null?void 0:E.data)==null?void 0:S.message)||"Upload failed. Please try again.")}}),_=x=>{if(x.preventDefault(),!n)return u("Please select an image.");u(""),y.mutate()};return f.jsxs("section",{className:"mx-auto max-w-5xl px-4 py-12",children:[f.jsxs("div",{className:"mb-8 border-b border-slate-200 pb-4",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900 font-serif",children:"Upload Media"}),f.jsx("p",{className:"text-slate-500",children:"Contribute geotagged photos to the municipal database."})]}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[f.jsxs("form",{onSubmit:_,className:"space-y-6 bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Photo Evidence"}),f.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:bg-slate-50 transition-colors",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var E;s((E=x.target.files)==null?void 0:E[0]),u("")},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"bg-indigo-50 p-3 rounded-full text-indigo-600",children:f.jsx(Ly,{className:"w-6 h-6"})}),f.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Click to Upload"}),f.jsx("span",{className:"text-xs text-slate-400",children:"Supports JPG, PNG"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Date & Time"}),f.jsxs("div",{className:"relative",children:[f.jsx(IO,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"datetime-local",value:t.dateTime,onChange:x=>e({...t,dateTime:x.target.value}),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700",children:"Location Label"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ju,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"e.g. Central Park Entrance",value:t.locationLabel,onChange:x=>e({...t,locationLabel:x.target.value}),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Latitude"}),f.jsx("input",{type:"number",step:"any",value:t.latitude,onChange:x=>e({...t,latitude:x.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Longitude"}),f.jsx("input",{type:"number",step:"any",value:t.longitude,onChange:x=>e({...t,longitude:x.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none text-sm"})]})]}),l&&f.jsx("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded border border-red-200",children:l}),f.jsx("button",{type:"submit",disabled:y.isPending,className:"w-full bg-[#9f1239] text-white font-bold py-3 rounded-lg hover:bg-[#881337] transition-colors flex justify-center items-center gap-2",children:y.isPending?f.jsx($l,{className:"animate-spin w-5 h-5"}):"Upload to Archive"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"font-bold text-slate-700",children:"Preview"}),r?f.jsxs("div",{className:"space-y-4",children:[f.jsx("img",{src:r,alt:"Upload Preview",className:"w-full h-64 object-cover rounded-xl shadow-md border border-slate-200"}),f.jsx(ine,{data:t})]}):f.jsxs("div",{className:"h-64 bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl flex flex-col items-center justify-center text-slate-400",children:[f.jsx(PO,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("span",{children:"Image preview will appear here"})]})]})]})]})}function one(){const[t,e]=D.useState({userFeedback:"",firstName:"",lastName:"",email:"",category:"General",rating:"5"}),[n,s]=D.useState({type:"",msg:""}),[r,o]=D.useState(!1),l=d=>{const{name:m,value:y}=d.target;e(_=>({..._,[m]:y}))},u=async d=>{if(d.preventDefault(),!t.userFeedback||!t.email||!t.firstName){s({type:"error",msg:"Please fill in all mandatory fields."});return}o(!0),setTimeout(()=>{s({type:"success",msg:"Feedback submitted successfully. Thank you!"}),e({userFeedback:"",firstName:"",lastName:"",email:"",category:"General",rating:"5"}),o(!1)},1500)};return f.jsx("section",{className:"min-h-screen bg-slate-50 py-12 px-4 sm:px-6",children:f.jsxs("div",{className:"max-w-3xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900 font-serif",children:"Citizen Feedback"}),f.jsx("p",{className:"mt-2 text-slate-600",children:"Help us improve municipal services by sharing your experience."})]}),f.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl shadow-slate-200 border border-slate-100 overflow-hidden",children:[f.jsxs("div",{className:"bg-[#9f1239] px-6 py-4 flex items-center gap-3",children:[f.jsx(qO,{className:"text-white w-6 h-6"}),f.jsx("h2",{className:"text-white font-semibold text-lg",children:"Feedback Form"})]}),f.jsxs("div",{className:"p-8",children:[f.jsx(Gl,{children:n.msg&&f.jsxs(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`mb-6 p-4 rounded-lg flex items-center gap-3 ${n.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[n.type==="success"?f.jsx(My,{className:"w-5 h-5"}):f.jsx(ku,{className:"w-5 h-5"}),f.jsx("p",{className:"text-sm font-medium",children:n.msg})]})}),f.jsxs("form",{onSubmit:u,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["First Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"firstName",value:t.firstName,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none transition bg-slate-50 focus:bg-white",placeholder:"e.g. Rahul"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Last Name"}),f.jsx("input",{name:"lastName",value:t.lastName,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none transition bg-slate-50 focus:bg-white",placeholder:"e.g. Patil"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Email Address ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"email",type:"email",value:t.email,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none transition bg-slate-50 focus:bg-white",placeholder:"rahul@example.com"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Service Category"}),f.jsxs("select",{name:"category",value:t.category,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none bg-white",children:[f.jsx("option",{value:"General",children:"General Inquiry"}),f.jsx("option",{value:"Sanitation",children:"Sanitation"}),f.jsx("option",{value:"Water",children:"Water Supply"}),f.jsx("option",{value:"Roads",children:"Roads & Traffic"}),f.jsx("option",{value:"Taxes",children:"Property Tax"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-slate-700",children:"Rating (1-5)"}),f.jsxs("select",{name:"rating",value:t.rating,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] outline-none bg-white",children:[f.jsx("option",{value:"5",children:" (Excellent)"}),f.jsx("option",{value:"4",children:" (Good)"}),f.jsx("option",{value:"3",children:" (Average)"}),f.jsx("option",{value:"2",children:" (Poor)"}),f.jsx("option",{value:"1",children:" (Very Poor)"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"text-sm font-bold text-slate-700",children:["Your Feedback ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("textarea",{name:"userFeedback",rows:4,value:t.userFeedback,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-[#9f1239] focus:ring-1 focus:ring-[#9f1239] outline-none transition bg-slate-50 focus:bg-white resize-none",placeholder:"Please describe your experience or suggestion in detail..."})]}),f.jsx("div",{className:"pt-4",children:f.jsx("button",{type:"submit",disabled:r,className:"w-full bg-[#9f1239] hover:bg-[#881337] text-white font-bold py-4 rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-70 flex items-center justify-center gap-2",children:r?"Submitting...":f.jsxs(f.Fragment,{children:["Submit Feedback ",f.jsx(Py,{className:"w-5 h-5"})]})})})]})]})]})]})})}const G_="Smart City",lne=[{name:"Dr. Rajesh Kumar",role:"Municipal Commissioner",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1000&auto=format&fit=crop",message:"Committed to transparency and digital transformation."},{name:"Smt. Anjali Patil",role:"Mayor",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1000&auto=format&fit=crop",message:"Working together for a cleaner, greener city."}],cne=[{label:"Citizens Served",value:"6.4M+",icon:f.jsx(KO,{className:"w-6 h-6"})},{label:"Admin Ward Offices",value:"15",icon:f.jsx(cf,{className:"w-6 h-6"})},{label:"Years of Heritage",value:"100+",icon:f.jsx(RO,{className:"w-6 h-6"})},{label:"National Awards",value:"24",icon:f.jsx(Vw,{className:"w-6 h-6"})}],une=()=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return f.jsxs("div",{className:"bg-slate-50 min-h-screen",children:[f.jsxs("section",{className:"relative h-[500px] flex items-center justify-center overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1595658658481-d53d3f999875?q=80&w=2070&auto=format&fit=crop",alt:"City Skyline",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-[2px]"})]}),f.jsxs(_e.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 text-center text-white px-4 max-w-4xl",children:[f.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-[#9f1239] border border-white/20 text-xs font-bold tracking-widest uppercase mb-4",children:"Since 1950"}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-bold font-serif mb-6 leading-tight",children:["Preserving Heritage, ",f.jsx("br",{}),f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-200",children:"Building the Future"})]}),f.jsxs("p",{className:"text-xl text-slate-200 max-w-2xl mx-auto font-light",children:["Welcome to the official portal of ",G_," Municipal Corporation. We are dedicated to sustainable urban development and efficient civic services."]})]})]}),f.jsx("section",{className:"py-20 px-4 -mt-20 relative z-20",children:f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs(_e.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white p-10 rounded-2xl shadow-xl shadow-slate-200 border-l-4 border-[#9f1239]",children:[f.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center text-[#9f1239] mb-6",children:f.jsx(aZ,{className:"w-8 h-8"})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Our Mission"}),f.jsx("p",{className:"text-slate-600 leading-relaxed text-lg",children:"To provide responsive, transparent, and efficient municipal services that enhance the quality of life for all citizens while preserving our rich cultural heritage."})]}),f.jsxs(_e.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-[#9f1239] p-10 rounded-2xl shadow-xl shadow-red-900/20 text-white",children:[f.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-xl flex items-center justify-center text-white mb-6 backdrop-blur-sm",children:f.jsx(Fw,{className:"w-8 h-8"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Our Vision"}),f.jsxs("p",{className:"text-red-100 leading-relaxed text-lg",children:["To transform ",G_," into a world-class, sustainable, and smart metropolis that is economically vibrant, environmentally resilient, and socially inclusive."]})]})]})}),f.jsx("section",{className:"py-16 px-4 md:px-8",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[f.jsxs(_e.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[f.jsx("h2",{className:"text-sm font-bold text-[#9f1239] tracking-widest uppercase mb-2",children:"City Profile"}),f.jsxs("h3",{className:"text-4xl font-bold text-slate-900 font-serif mb-8",children:["A City of"," ",f.jsx("span",{className:"border-b-4 border-[#9f1239]/20",children:"Culture & Innovation"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs(_e.div,{variants:e,className:"flex gap-5",children:[f.jsx("div",{className:"flex-shrink-0 mt-1 w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600",children:f.jsx(RO,{size:24})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Historical Significance"}),f.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Known as the central hub of the Maratha Empire, the city experienced major growth under Chhatrapati Shivaji Maharaj and the Peshwas, leaving behind a legacy of forts and wadas."})]})]}),f.jsxs(_e.div,{variants:e,className:"flex gap-5",children:[f.jsx("div",{className:"flex-shrink-0 mt-1 w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:f.jsx(VO,{size:24})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Education Hub"}),f.jsx("p",{className:"text-slate-600 leading-relaxed",children:'Often referred to as the "Oxford of the East," we are home to premier research institutes and universities attracting students from across the globe.'})]})]}),f.jsxs(_e.div,{variants:e,className:"flex gap-5",children:[f.jsx("div",{className:"flex-shrink-0 mt-1 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:f.jsx(SZ,{size:24})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Smart City Evolution"}),f.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["Balancing tradition with modernity, ",G_," has evolved into a global IT and automotive manufacturing hub, embracing smart governance technologies."]})]})]})]})]}),f.jsxs("div",{className:"relative",children:[f.jsxs(_e.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},className:"grid grid-cols-2 gap-4",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1596324278456-5421c9a6224d?q=80&w=1000&auto=format&fit=crop",className:"rounded-2xl shadow-lg w-full h-64 object-cover transform translate-y-8",alt:"City Culture"}),f.jsx("img",{src:"https://images.unsplash.com/photo-1626156976695-17d4722883a9?q=80&w=1000&auto=format&fit=crop",className:"rounded-2xl shadow-lg w-full h-64 object-cover",alt:"City Development"})]}),f.jsx("div",{className:"absolute -z-10 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] border border-slate-200 rounded-full opacity-50 border-dashed animate-spin-slow"})]})]})})}),f.jsx("section",{className:"py-16 bg-[#9f1239] text-white",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4",children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center divide-x divide-white/20",children:cne.map((n,s)=>f.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},className:"px-4",children:[f.jsx("div",{className:"flex justify-center mb-3 text-red-200",children:n.icon}),f.jsx("div",{className:"text-4xl font-bold mb-1",children:n.value}),f.jsx("div",{className:"text-sm font-medium text-red-100 uppercase tracking-wide",children:n.label})]},s))})})}),f.jsx("section",{className:"py-20 px-4 bg-white",children:f.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-16 font-serif",children:"City Administration"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 max-w-4xl mx-auto",children:lne.map((n,s)=>f.jsxs(_e.div,{whileHover:{y:-10},className:"bg-slate-50 rounded-2xl overflow-hidden shadow-lg border border-slate-100 group",children:[f.jsxs("div",{className:"relative h-64 overflow-hidden",children:[f.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-6",children:f.jsxs("div",{className:"text-left text-white",children:[f.jsx("h4",{className:"text-xl font-bold",children:n.name}),f.jsx("p",{className:"text-[#9f1239] font-bold bg-white px-2 py-0.5 rounded text-xs inline-block mt-1 uppercase",children:n.role})]})})]}),f.jsxs("div",{className:"p-6 text-left relative",children:[f.jsx("span",{className:"absolute top-4 right-6 text-6xl font-serif text-slate-200 -z-10 leading-none",children:'"'}),f.jsx("p",{className:"text-slate-600 italic",children:n.message})]})]},s))})]})}),f.jsxs("section",{className:"py-16 bg-slate-900 text-white text-center",children:[f.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Want to know more about city projects?"}),f.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#9f1239] hover:bg-[#881337] text-white px-8 py-3 rounded-full font-bold flex items-center gap-2 mx-auto transition-all shadow-lg shadow-red-900/40",children:["View Development Plan ",f.jsx(Co,{className:"w-5 h-5"})]})]})]})};function hne(){const[t,e]=D.useState([{role:"bot",content:"Namaskar! I'm your PMC Civic AI. How can I assist you today?"}]),[n,s]=D.useState(""),[r,o]=D.useState(!1),l=D.useRef(null);D.useEffect(()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})},[t,r]);const u=async d=>{var y;if(d.preventDefault(),!n.trim())return;const m={role:"user",content:n};e(_=>[..._,m]),s(""),o(!0);try{const{data:_}=await es.post("/api/ai/chat",{prompt:n});e(x=>[...x,{role:"bot",content:_.reply}])}catch(_){console.error("Chat Error:",((y=_.response)==null?void 0:y.data)||_.message),e(x=>[...x,{role:"bot",content:"The Civic AI is momentarily unavailable. Please try again in a few seconds."}])}finally{o(!1)}};return f.jsxs("div",{className:"flex flex-col h-full bg-slate-50 font-sans",children:[f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map((d,m)=>f.jsx(_e.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`flex gap-2 max-w-[85%] ${d.role==="user"?"flex-row-reverse":""}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${d.role==="user"?"bg-slate-800":"bg-[#9f1239]"}`,children:d.role==="user"?f.jsx(uf,{size:14,className:"text-white"}):f.jsx(GO,{size:14,className:"text-white"})}),f.jsx("div",{className:`p-3 rounded-2xl text-sm ${d.role==="user"?"bg-[#9f1239] text-white rounded-tr-none":"bg-white text-slate-700 border border-slate-200 rounded-tl-none shadow-sm"}`,children:d.content})]})},m)),r&&f.jsxs("div",{className:"flex gap-2 items-center text-slate-400 text-xs pl-2",children:[f.jsx($l,{size:12,className:"animate-spin"})," Assistant is typing..."]}),f.jsx("div",{ref:l})]}),f.jsxs("form",{onSubmit:u,className:"p-4 bg-white border-t border-slate-200 flex gap-2",children:[f.jsx("input",{value:n,onChange:d=>s(d.target.value),placeholder:"Ask a question...",className:"flex-1 bg-slate-100 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-[#9f1239]"}),f.jsx("button",{type:"submit",className:"bg-[#9f1239] text-white p-2 rounded-xl hover:bg-rose-900 transition-all",children:f.jsx(Py,{size:18})})]})]})}function dne(){const[t,e]=D.useState(!1);return f.jsxs("div",{className:"fixed bottom-6 right-6 z-[999]",children:[f.jsx(Gl,{children:!t&&f.jsxs(_e.button,{initial:{scale:0,rotate:-20},animate:{scale:1,rotate:0},exit:{scale:0,rotate:20},whileHover:{y:-5},onClick:()=>e(!0),className:"relative flex items-center gap-3 bg-slate-900 text-white pl-5 pr-6 py-4 rounded-2xl shadow-2xl shadow-slate-400 group border border-slate-700",children:[f.jsxs("div",{className:"relative",children:[f.jsx(BO,{className:"w-6 h-6 text-rose-400"}),f.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-rose-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),f.jsx("span",{className:"font-bold text-sm tracking-wide",children:"Civic AI Assistant"})]})}),f.jsx(Gl,{children:t&&f.jsxs(_e.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:"w-[90vw] md:w-[420px] h-[70vh] md:h-[600px] bg-white rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.2)] overflow-hidden border border-slate-200 flex flex-col",children:[f.jsxs("div",{className:"bg-slate-900 p-5 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-[#9f1239] rounded-xl flex items-center justify-center shadow-lg shadow-rose-900/20",children:f.jsx(GO,{className:"text-white w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-bold text-base tracking-tight",children:"Civic Assistant"}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),f.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:"AI Powered Service"})]})]})]}),f.jsx("button",{onClick:()=>e(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-all",children:f.jsx(FJ,{size:20})})]}),f.jsx("div",{className:"flex-1 bg-slate-50 relative overflow-hidden",children:f.jsx(hne,{className:"h-full"})})]})})]})}const MM=()=>{const t=xi(),e=[{title:"Dashboard",path:"/dashboard",icon:LO},{title:"Manage Complaints",path:"/staff/complaints",icon:kO},{title:"Service Requests",path:"/staff/services",icon:yi},{title:"Admin Settings",path:"/admin",icon:JJ}],n=s=>t.pathname===s;return f.jsxs("div",{className:"w-64 bg-slate-900 min-h-screen text-white p-4 hidden md:flex flex-col",children:[f.jsxs("div",{className:"mb-10 px-2 text-rose-500 font-bold text-xl flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-rose-600 rounded-lg"}),"PMC STAFF"]}),f.jsx("nav",{className:"flex-1 space-y-2",children:e.map(s=>f.jsxs(pt,{to:s.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n(s.path)?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[f.jsx(s.icon,{size:20}),f.jsx("span",{className:"font-medium",children:s.title})]},s.path))}),f.jsx("div",{className:"mt-auto border-t border-white/10 pt-4",children:f.jsxs("button",{onClick:()=>{localStorage.clear(),window.location.href="/staff-login"},className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:bg-red-500/10 hover:text-red-500 w-full transition-all",children:[f.jsx(UO,{size:20}),f.jsx("span",{className:"font-medium",children:"Logout"})]})})]})},fne=t=>{switch(t?t.toLowerCase():""){case"resolved":case"completed":return"bg-green-100 text-green-800";case"in progress":case"in-progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function mne(){const[t,e]=D.useState([]),[n,s]=D.useState(!0),r=Rs();D.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await es.get("/complaints");u.data&&Array.isArray(u.data.complaints)?e(u.data.complaints):u.data&&Array.isArray(u.data.items)?e(u.data.items):Array.isArray(u.data)?e(u.data):(console.warn("Unexpected data format:",u.data),e([]))}catch(u){console.error("Error fetching complaints:",u)}finally{s(!1)}},l=async(u,d)=>{try{await es.patch(`/complaints/${u}/status`,{status:d}),o()}catch(m){console.error("Error updating status:",m),alert("Failed to update status.")}};return n?f.jsx("div",{className:"flex min-h-screen bg-gray-50 items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Loading complaints..."})]})}):f.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[f.jsx(MM,{}),f.jsxs("div",{className:"flex-1 p-8 overflow-y-auto h-screen",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Complaint Management"}),f.jsx("button",{onClick:()=>r("/dashboard"),className:"md:hidden text-blue-600 hover:underline",children:"Back to Dashboard"})]}),f.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-100",children:f.jsxs("table",{className:"min-w-full text-left",children:[f.jsx("thead",{className:"bg-gray-100 border-b",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"ID"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Citizen"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Issue"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Date"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Action"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map(u=>{var d,m;return f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono",children:["#",(d=u._id)==null?void 0:d.slice(-6)]}),f.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:((m=u.user)==null?void 0:m.name)||u.userName||"Unknown Citizen"}),f.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[f.jsx("span",{className:"block font-medium",children:u.title||"No Title"}),f.jsx("span",{className:"text-xs text-gray-400",children:u.category||"General"})]}),f.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:new Date(u.createdAt).toLocaleDateString()}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${fne(u.status)}`,children:u.status||"pending"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("select",{className:"border border-gray-300 rounded px-2 py-1 text-sm bg-white cursor-pointer focus:ring-2 focus:ring-blue-500 outline-none",value:u.status||"pending",onChange:y=>l(u._id,y.target.value),children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"in-progress",children:"In Progress"}),f.jsx("option",{value:"resolved",children:"Resolved"}),f.jsx("option",{value:"rejected",children:"Rejected"})]})})]},u._id)}):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-12 text-center text-gray-500",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("p",{className:"text-lg",children:"No active complaints found."}),f.jsx("p",{className:"text-sm text-gray-400",children:"If dashboard shows counts, check if your User Role is set to 'admin' in the database."})]})})})})]})})]})]})}const pne=t=>{switch(t?t.toLowerCase():""){case"completed":case"approved":return"bg-green-100 text-green-800";case"in progress":case"in-progress":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function gne(){const[t,e]=D.useState([]),[n,s]=D.useState(!0),r=Rs();D.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await es.get("/services");u.data&&Array.isArray(u.data.items)?e(u.data.items):Array.isArray(u.data)?e(u.data):e([])}catch(u){console.error("Error fetching services:",u)}finally{s(!1)}},l=async(u,d)=>{try{e(m=>m.map(y=>y._id===u?{...y,status:d}:y)),await es.patch(`/services/${u}/status`,{status:d})}catch(m){console.error("Error updating service status:",m),alert("Failed to update status. Please check your network or permissions."),o()}};return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsx("p",{className:"text-slate-600 font-medium",children:"Loading requests..."})}):f.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[f.jsx(MM,{}),f.jsxs("div",{className:"flex-1 p-8 overflow-y-auto h-screen",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Service Requests Management"}),f.jsx("button",{onClick:()=>r("/dashboard"),className:"md:hidden text-blue-600 hover:underline",children:"Back to Dashboard"})]}),f.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-100",children:f.jsxs("table",{className:"min-w-full text-left",children:[f.jsx("thead",{className:"bg-gray-100 border-b",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"ID"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Requester"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Type"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Date"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-gray-600 font-medium text-sm uppercase",children:"Action"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map(u=>{var d,m;return f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono",children:["#",(d=u._id)==null?void 0:d.slice(-6)]}),f.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:((m=u.user)==null?void 0:m.name)||"Unknown"}),f.jsx("td",{className:"px-6 py-4 text-gray-600",children:u.serviceType||u.type||"Service Request"}),f.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:new Date(u.createdAt).toLocaleDateString()}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${pne(u.status)}`,children:u.status||"Pending"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("select",{className:"border border-gray-300 bg-white rounded px-2 py-1 text-sm cursor-pointer",value:u.status?u.status.toLowerCase():"pending",onChange:y=>l(u._id,y.target.value),children:[f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"in-progress",children:"In Progress"}),f.jsx("option",{value:"approved",children:"Approved"}),f.jsx("option",{value:"completed",children:"Completed"}),f.jsx("option",{value:"rejected",children:"Rejected"})]})})]},u._id)}):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-10 text-center text-gray-500",children:"No service requests found."})})})]})})]})]})}const QR=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"text-center",children:[f.jsx(sM,{size:40,className:"text-[#9f1239] mx-auto mb-4"}),f.jsx("p",{className:"text-slate-600 font-medium",children:"Loading..."})]})});function yne(){const[t,e]=D.useState(!0);return D.useEffect(()=>{const n=setTimeout(()=>{e(!1)},500);return()=>clearTimeout(n)},[]),t?f.jsx(QR,{}):f.jsx(S$,{children:f.jsx(p9,{children:f.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[f.jsx(nM,{}),f.jsx("main",{className:"flex-1 pt-20 md:pt-24",children:f.jsx(D.Suspense,{fallback:f.jsx(QR,{}),children:f.jsxs($5,{children:[f.jsx(Qt,{path:"/",element:f.jsx(Ite,{})}),f.jsx(Qt,{path:"/citizenlogin",element:f.jsx(jte,{})}),f.jsx(Qt,{path:"/staff-login",element:f.jsx(Dte,{})}),f.jsx(Qt,{path:"/register",element:f.jsx(Mte,{})}),f.jsx(Qt,{path:"/announcements",element:f.jsx(ZZ,{})}),f.jsx(Qt,{path:"/gallery",element:f.jsx(nne,{})}),f.jsx(Qt,{path:"/citizen-services",element:f.jsx(rM,{})}),f.jsx(Qt,{path:"/about",element:f.jsx(une,{})}),f.jsx(Qt,{path:"/gallery/upload-photo",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(ane,{})})}),f.jsx(Qt,{path:"/iot",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(Wte,{})})}),f.jsx(Qt,{path:"/feedback",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(one,{})})}),f.jsx(Qt,{path:"/dashboard",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(Lte,{})})}),f.jsx(Qt,{path:"/complaints/*",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(Fte,{})})}),f.jsx(Qt,{path:"/services/*",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(Bte,{})})}),f.jsx(Qt,{path:"/services/tracker*",element:f.jsx(Pi,{requiredRole:"citizen",children:f.jsx(Gte,{})})}),f.jsx(Qt,{path:"/admin",element:f.jsx(Pi,{requiredRole:"admin",children:f.jsx(Qte,{})})}),f.jsx(Qt,{path:"/staff/complaints",element:f.jsx(Pi,{requiredRole:"admin",children:f.jsx(mne,{})})}),f.jsx(Qt,{path:"/staff/services",element:f.jsx(Pi,{requiredRole:"admin",children:f.jsx(gne,{})})}),f.jsx(Qt,{path:"*",element:f.jsx(FZ,{})})]})})}),f.jsx(UZ,{}),f.jsx(dne,{})]})})})}const vne=new z6;v6.createRoot(document.getElementById("root")).render(f.jsx(co.StrictMode,{children:f.jsx(B6,{client:vne,children:f.jsx(yne,{})})}));
